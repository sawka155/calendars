{"ast":null,"code":"var $cw6c3$swchelpers = require(\"@swc/helpers\");\n\nvar $cw6c3$reactjsxruntime = require(\"react/jsx-runtime\");\n\nvar $cw6c3$react = require(\"react\");\n\nvar $cw6c3$luxon = require(\"luxon\");\n\nvar $cw6c3$kalendlayout = require(\"kalend-layout\");\n\nvar $cw6c3$kalendlayoutconstants = require(\"kalend-layout/constants\");\n\nvar $cw6c3$color = require(\"color\");\n\nvar $cw6c3$regeneratorruntime = require(\"regenerator-runtime\");\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {\n    value: true,\n    configurable: true\n  });\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {\n    get: v,\n    set: s,\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n$parcel$defineInteropFlag(module.exports);\n$parcel$export(module.exports, \"CalendarView\", function () {\n  return $3f7b2fe5d2c34f8f$export$b573856c46cc9357;\n});\n$parcel$export(module.exports, \"default\", function () {\n  return $3f7b2fe5d2c34f8f$export$2e2bcd8739ae039;\n});\nvar $e4750b0ebeed8e48$export$ec9758e21af63072;\n\n(function (CALENDAR_VIEW) {\n  CALENDAR_VIEW[\"AGENDA\"] = 'agenda';\n  CALENDAR_VIEW[\"WEEK\"] = 'week';\n  CALENDAR_VIEW[\"DAY\"] = 'day';\n  CALENDAR_VIEW[\"THREE_DAYS\"] = 'threeDays';\n  CALENDAR_VIEW[\"MONTH\"] = 'month';\n})($e4750b0ebeed8e48$export$ec9758e21af63072 || ($e4750b0ebeed8e48$export$ec9758e21af63072 = {}));\n\nvar $e4750b0ebeed8e48$export$76a2e4c433c23bb9;\n\n(function (EVENT_TYPE) {\n  EVENT_TYPE[\"NORMAL\"] = 'normal';\n  EVENT_TYPE[\"MONTH\"] = 'month';\n  EVENT_TYPE[\"AGENDA\"] = 'agenda';\n  EVENT_TYPE[\"HEADER\"] = 'header';\n  EVENT_TYPE[\"SHOW_MORE_MONTH\"] = 'showMoreMonth';\n})($e4750b0ebeed8e48$export$76a2e4c433c23bb9 || ($e4750b0ebeed8e48$export$76a2e4c433c23bb9 = {}));\n\nvar $e4750b0ebeed8e48$export$c2bed76d77ee7287;\n\n(function (CALENDAR_NAVIGATION_DIRECTION) {\n  CALENDAR_NAVIGATION_DIRECTION[\"FORWARD\"] = 'forward';\n  CALENDAR_NAVIGATION_DIRECTION[\"BACKWARDS\"] = 'backwards';\n  CALENDAR_NAVIGATION_DIRECTION[\"TODAY\"] = 'today';\n})($e4750b0ebeed8e48$export$c2bed76d77ee7287 || ($e4750b0ebeed8e48$export$c2bed76d77ee7287 = {}));\n\nvar $e4750b0ebeed8e48$export$5a05f7ffc0500403;\n\n(function (WEEKDAY_START) {\n  WEEKDAY_START[\"MONDAY\"] = \"MONDAY\";\n  WEEKDAY_START[\"SUNDAY\"] = \"SUNDAY\";\n  WEEKDAY_START[\"UNKNOWN\"] = \"UNKNOWN\";\n})($e4750b0ebeed8e48$export$5a05f7ffc0500403 || ($e4750b0ebeed8e48$export$5a05f7ffc0500403 = {}));\n\nvar $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8;\n\n(function (TIME_FORMAT) {\n  TIME_FORMAT[\"H_24\"] = '24';\n  TIME_FORMAT[\"H_12\"] = '12';\n})($e4750b0ebeed8e48$export$c4e1e4e065ff5bd8 || ($e4750b0ebeed8e48$export$c4e1e4e065ff5bd8 = {}));\n\nvar $078907888c55a58c$var$getCalendarView = function (value) {\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.DAY;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA;\n  return null;\n};\n\nvar $078907888c55a58c$export$45855e0dd982478b = function (props) {\n  // Validate views\n  if (props.disabledViews) {\n    // throw error if all views are disabled\n    if (props.disabledViews.length === Object.values($e4750b0ebeed8e48$export$ec9758e21af63072).length) throw Error('[Kalend]: At least one calendar view has to be enabled');\n  } // validate initial view\n\n\n  if (props.initialView) {\n    var initialView = $078907888c55a58c$var$getCalendarView(props.initialView.toString());\n    if (!initialView) throw Error(\"[Kalend]: Initial view \\\"\".concat(props.initialView, \"\\\" is not valid\"));\n  } // validate weekDayStart\n\n\n  if (props.weekDayStart && props.weekDayStart !== 'Monday' && props.weekDayStart !== 'Sunday') throw Error(\"[Kalend]: invalid weekDayStart prop \\\"\".concat(props.weekDayStart, \"\\\". Set either Monday or Sunday\")); // validate timeFormat\n\n  if (props.timeFormat) {\n    if (props.timeFormat !== $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24.toString() && props.timeFormat !== $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12.toString()) props.timeFormat, $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24.toString(), $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12.toString();\n  }\n};\n\nvar $078907888c55a58c$export$fbb8247b2e46a70a = function () {\n  var el = document.querySelector('.Kalend__Calendar__root');\n\n  if (el) {\n    if (window.getComputedStyle(el).display !== 'flex') throw Error(\"[Calend]: CSS file not imported.\\n         Reason: You probably forgot to import css file in your app as\\n         import 'kalend/dist/styles/index.css';\\n\\n         Valid usage:\\n         import Kalend from 'kalend';\\n         import 'kalend/dist/styles/index.css';\");\n  }\n};\n\nvar $88a08af890f49243$export$eae15a231de23f4a = 25;\nvar $88a08af890f49243$export$fd6e3e2f92ae10fd = 1;\nvar $88a08af890f49243$export$c1af425794ec7f44 = 5;\nvar $88a08af890f49243$export$b4e2ba6756dec2c = 8;\nvar $88a08af890f49243$export$25973911efc96b71 = 40;\nvar $88a08af890f49243$export$447c5938f45c45a5 = 40;\nvar $88a08af890f49243$export$1c9a1263a0d343f4 = 40;\nvar $88a08af890f49243$export$81f0fddb54debad3 = 60;\nvar $88a08af890f49243$export$27633cf363057263 = 25;\nvar $88a08af890f49243$export$4b16cd32b50218c6 = 14;\nvar $88a08af890f49243$export$9a6bb2acef5e644a = 15;\nvar $88a08af890f49243$export$418e7590fd81e209 = ['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23']; //\n// Support for local datetime, timezones and floating times\n//\n\nvar $28306200f69a6328$var$FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\n\nvar $28306200f69a6328$var$UTC_TIMEZONE = 'UTC';\n\nvar $28306200f69a6328$export$64d4bb1347f411e8 = function (date, zone, deviceTimezone) {\n  var dateString = typeof date === 'string' ? date : date.toString();\n  var isFloatingDatetime = zone === $28306200f69a6328$var$FLOATING_DATETIME; // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n\n  if (isFloatingDatetime) {\n    var dateFloating = $cw6c3$luxon.DateTime.fromISO(dateString, {\n      zone: $28306200f69a6328$var$UTC_TIMEZONE\n    });\n    return dateFloating.toUTC().toISO();\n  }\n\n  var thisDate = $cw6c3$luxon.DateTime.fromISO(dateString); // Adjust datetime to device timezone\n\n  if (deviceTimezone) {\n    var dateConvert = thisDate.setZone(zone);\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nvar $28306200f69a6328$export$6c2618c4afcf6cfb = function (date, zone, deviceTimezone) {\n  var dateString = typeof date === 'string' ? date : date.toString();\n  var isFloatingDatetime = zone === $28306200f69a6328$var$FLOATING_DATETIME; // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n\n  if (isFloatingDatetime) {\n    var dateFloating = $cw6c3$luxon.DateTime.fromISO(dateString, {\n      zone: $28306200f69a6328$var$UTC_TIMEZONE\n    });\n    return dateFloating.toUTC();\n  }\n\n  var thisDate = $cw6c3$luxon.DateTime.fromISO(dateString);\n\n  if (!zone) {\n    // Adjust datetime to device timezone\n    if (deviceTimezone) return thisDate.setZone(deviceTimezone);else return thisDate;\n  }\n\n  return thisDate.setZone(zone);\n};\n\nvar $bf7b38bce41ca3dd$export$b7a9dbebc395fc65 = function (className, isDark) {\n  if (isDark) return \"\".concat(className, \"-dark\");\n  return className;\n};\n\nvar $bf7b38bce41ca3dd$export$5f81845c2fa0b381 = function (className, isMobile) {\n  return isMobile ? \"\".concat(className, \"-mobile\") : className;\n};\n\nvar $bf7b38bce41ca3dd$export$cf733e3bd5432c08 = function (className, isMobile, isDark) {\n  var classNameParsed = className;\n  classNameParsed = isMobile ? \"\".concat(classNameParsed, \"-mobile\") : classNameParsed;\n  classNameParsed = isDark ? \"\".concat(classNameParsed, \"-dark\") : classNameParsed;\n  return classNameParsed;\n};\n\nvar $bf7b38bce41ca3dd$export$f5a7c490b6f9fbc4 = function (dateObj) {\n  return dateObj.isValid ? dateObj.toFormat('dd-MM-yyyy') : $cw6c3$luxon.DateTime.fromISO(dateObj).toFormat('dd-MM-yyyy');\n};\n\nvar $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5 = function (dateObj) {\n  return dateObj.toFormat('dd-MM-yyyy');\n};\n\nvar $bf7b38bce41ca3dd$export$76c69f043295405f = function (calendarView, showWeekNumbers) {\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH && showWeekNumbers) return 30;\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK) return $88a08af890f49243$export$447c5938f45c45a5;\n  return 0;\n};\n\nvar $bf7b38bce41ca3dd$export$4be7a748c9766cf9 = function (array) {\n  return array[0];\n};\n\nvar $bf7b38bce41ca3dd$export$126fc096895fc6f5 = function (array) {\n  return array[array.length - 1];\n};\n\nvar $bf7b38bce41ca3dd$export$3643189503061f69 = function (date) {\n  return date.set({\n    hour: 0,\n    minute: 0,\n    second: 0\n  }).toUTC().toString();\n};\n\nvar $bf7b38bce41ca3dd$export$a7827c78319dafc9 = function (date) {\n  return date.set({\n    hour: 23,\n    minute: 59,\n    second: 59\n  }).toUTC().toString();\n};\n\nvar $bf7b38bce41ca3dd$export$23783ea7bfe28abd = function (item) {\n  if (!item) return false;\n  return (// @ts-ignore\n    $28306200f69a6328$export$6c2618c4afcf6cfb(item.endAt, item.timezoneStartAt).diff($28306200f69a6328$export$6c2618c4afcf6cfb(item.startAt, item.timezoneStartAt), 'days').toObject().days > 1\n  );\n};\n\nvar $bf7b38bce41ca3dd$export$205aaf06acb1c5fc = function (calendarView, translations) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA:\n      return translations['buttons']['agenda'];\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return translations['buttons']['day'];\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return translations['buttons']['threeDays'];\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return translations['buttons']['week'];\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH:\n      return translations['buttons']['month'];\n\n    default:\n      return '';\n  }\n};\n\nvar $bf7b38bce41ca3dd$export$e3e4ea182aca355e = function (calendarView) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA:\n      return $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH:\n      return $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n\n    default:\n      return '';\n  }\n};\n\nvar $bf7b38bce41ca3dd$export$6d0e4c4a8ffb9c2b = function (events) {\n  var result = [];\n  if (!events) return result;\n  Object.entries(events).forEach(function (keyValue) {\n    var eventsItems = keyValue[1];\n    result = $cw6c3$swchelpers.toConsumableArray(result).concat($cw6c3$swchelpers.toConsumableArray(eventsItems));\n  });\n  return result;\n};\n\nvar $bf7b38bce41ca3dd$export$3d836550a1b0c60b = function (events, timezone) {\n  var result = {};\n  events === null || events === void 0 ? void 0 : events.forEach(function (item) {\n    var dateKey = $28306200f69a6328$export$6c2618c4afcf6cfb(item.startAt, item.timezoneStartAt || timezone).toFormat('dd-MM-yyyy');\n    if (result[dateKey]) result[dateKey] = $cw6c3$swchelpers.toConsumableArray(result[dateKey]).concat([item]);else result[dateKey] = [item];\n  });\n  return result;\n};\n\nvar $bf7b38bce41ca3dd$export$b32ccbc1ca23891 = function (width, isMobile, selectedView) {\n  if (selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS) {\n    if (isMobile && ('ontouchstart' in window || window.navigator.maxTouchPoints)) return width;else return width - $88a08af890f49243$export$9a6bb2acef5e644a;\n  }\n\n  return width;\n};\n\nvar $bf7b38bce41ca3dd$export$d9b78e6f3f437c1f = function (timeFormat) {\n  var result = [];\n\n  if (timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24) {\n    for (var i = 0; i < 24; i++) if (i < 10) result.push(\"0\".concat(i));else result.push(String(i));\n  } else if (timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12) for (var i1 = 0; i1 < 24; i1++) {\n    if (i1 < 12) result.push(\"\".concat(i1, \" AM\"));else if (i1 === 12) result.push(\"\".concat(i1, \" PM\"));else if (i1 === 24) result.push(\"24 PM\");else result.push(\"\".concat(i1 - 12, \" PM\"));\n  }\n\n  return result;\n};\n\nvar $bf7b38bce41ca3dd$export$7b553a398ff09de5 = function (draggingDisabledConditions, event) {\n  if (!draggingDisabledConditions) return true;\n  var result = true;\n  Object.entries(draggingDisabledConditions).forEach(function (param) {\n    var _param = $cw6c3$swchelpers.slicedToArray(param, 2),\n        key = _param[0],\n        value = _param[1];\n\n    if (event[key]) {\n      if (event[key] === value) {\n        result = false;\n        return false;\n      }\n    }\n  });\n  return result;\n}; //\n// Support for local datetime, timezones and floating times\n//\n\n\nvar $d49542164c9bae14$var$FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\n\nvar $d49542164c9bae14$var$UTC_TIMEZONE = 'UTC';\nvar $d49542164c9bae14$export$9e6a8e9ca52f6a3d = \"yyyy-MM-dd HH:mm:ss 'Z'\";\nvar $d49542164c9bae14$export$b7b5db2aa6555cc1 = 'd. MMM, HH:mm';\nvar $d49542164c9bae14$export$45c85543ba71221d = 'd. MMMM';\nvar $d49542164c9bae14$export$c4e1e4e065ff5bd8 = 'HH:mm';\nvar $d49542164c9bae14$export$2fd089738c9b03fb = 'd. MMMM (EEEEEE)';\nvar $d49542164c9bae14$export$4679370298bfc65 = 'cccc';\nvar $d49542164c9bae14$export$1be242b518527e80 = 'ccc';\nvar $d49542164c9bae14$export$884cf35d3975e8b9 = 'EEEEEE';\nvar $d49542164c9bae14$export$7c233a6f2ca6f19e = 'd. MMMM yyyy';\nvar $d49542164c9bae14$export$74b2237eca26435b = 'dd-MM-yyyy';\n\nvar $d49542164c9bae14$export$64d4bb1347f411e8 = function (date, zone, deviceTimezone) {\n  var dateString = typeof date === 'string' ? date : date.toString();\n  var isFloatingDatetime = zone === $d49542164c9bae14$var$FLOATING_DATETIME; // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n\n  if (isFloatingDatetime) {\n    var dateFloating = $cw6c3$luxon.DateTime.fromISO(dateString, {\n      zone: $d49542164c9bae14$var$UTC_TIMEZONE\n    });\n    return dateFloating.toUTC().toISO();\n  }\n\n  var thisDate = $cw6c3$luxon.DateTime.fromISO(dateString); // Adjust datetime to device timezone\n\n  if (deviceTimezone) {\n    var dateConvert = thisDate.setZone(zone);\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nvar $d49542164c9bae14$var$LuxonHelper = {\n  parseToDateTime: function (date) {\n    return typeof date === 'string' ? $cw6c3$luxon.DateTime.fromISO(date) : date;\n  },\n  getLastDayOfMonth: function (date) {\n    var daysInMonth = date.daysInMonth;\n    return date.set({\n      day: daysInMonth\n    });\n  },\n  getFirstDayOfMonth: function (date) {\n    return date.set({\n      day: 1\n    });\n  },\n  isSameDay: function (dateA, dateB) {\n    return dateA.year === dateB.year && dateA.month === dateB.month && dateA.day === dateB.day;\n  },\n  isBefore: function (dateA, dateB) {\n    return $cw6c3$luxon.DateTime.fromISO(dateB).valueOf() - $cw6c3$luxon.DateTime.fromISO(dateA).valueOf() > 0;\n  },\n  isBeforeInDateTime: function (dateA, dateB) {\n    return dateB.valueOf() - dateA.valueOf() > 0;\n  },\n  isBeforeAny: function (dateA, dateB) {\n    var dateADateTime = $d49542164c9bae14$var$LuxonHelper.parseToDateTime(dateA);\n    var dateBDateTime = $d49542164c9bae14$var$LuxonHelper.parseToDateTime(dateB);\n    return dateBDateTime.valueOf() - dateADateTime.valueOf() > 0;\n  },\n  isToday: function (dateA) {\n    var todayDate = $cw6c3$luxon.DateTime.local();\n    return dateA.day === todayDate.day && dateA.month === todayDate.month && dateA.year === todayDate.year;\n  },\n  isTodayOrInFuture: function (dateA) {\n    var todayDate = $cw6c3$luxon.DateTime.local();\n    return dateA.day >= todayDate.day && dateA.month >= todayDate.month && dateA.year >= todayDate.year;\n  },\n  parseToString: function (date) {\n    if (typeof date !== 'string') {\n      if (date.isValid) return date.toUTC().toString();\n    }\n\n    return date.toString();\n  },\n  toUtcString: function (date) {\n    return $cw6c3$luxon.DateTime.fromISO(date).toUTC().toISO();\n  },\n  toUtc: function (date) {\n    return date.toUTC().toISO();\n  },\n  setTimezone: function (dateString, timezone) {\n    return $cw6c3$luxon.DateTime.fromISO(dateString).setZone(timezone).toString();\n  },\n  toHumanDate: function (dateString) {\n    return $cw6c3$luxon.DateTime.fromISO(dateString).toFormat('d LLL yyyy hh:mm');\n  }\n};\nvar $d49542164c9bae14$export$2e2bcd8739ae039 = $d49542164c9bae14$var$LuxonHelper;\nvar $1500da26cef85c66$var$ONE_DAY = 1;\nvar $1500da26cef85c66$var$THREE_DAYS = 3;\nvar $1500da26cef85c66$var$SEVEN_DAYS = 7;\n\nvar $1500da26cef85c66$export$b314e84a21bd4b5f = function (stringDate) {\n  return stringDate.slice(0, stringDate.indexOf('T'));\n};\n\nvar $1500da26cef85c66$export$a6181a60b480c9a4 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];\nvar $1500da26cef85c66$export$418e7590fd81e209 = ['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'];\nvar $1500da26cef85c66$export$b1af3e61661bd3b2 = {\n  red: {\n    dark: '#ef9a9a',\n    light: '#e53935'\n  },\n  pink: {\n    dark: '#f48fb1',\n    light: '#d81b60'\n  },\n  purple: {\n    dark: '#ce93d8',\n    light: '#8e24aa'\n  },\n  'deep purple': {\n    dark: '#b39ddb',\n    light: '#5e35b1'\n  },\n  indigo: {\n    dark: '#9fa8da',\n    light: '#3949ab'\n  },\n  blue: {\n    dark: '#90caf9',\n    light: '#1e88e5'\n  },\n  'light blue': {\n    dark: '#81d4fa',\n    light: '#039be5'\n  },\n  cyan: {\n    dark: '#80deea',\n    light: '#00acc1'\n  },\n  teal: {\n    dark: '#80cbc4',\n    light: '#00897b'\n  },\n  green: {\n    dark: '#a5d6a7',\n    light: '#43a047'\n  },\n  'light green': {\n    dark: '#c5e1a5',\n    light: '#7cb342'\n  },\n  yellow: {\n    dark: '#fff59d',\n    light: '#fdd835'\n  },\n  amber: {\n    dark: '#ffe082',\n    light: '#ffb300'\n  },\n  orange: {\n    dark: '#ffcc80',\n    light: '#fb8c00'\n  },\n  'deep orange': {\n    dark: '#ffab91',\n    light: '#f4511e'\n  },\n  brown: {\n    dark: '#bcaaa4',\n    light: '#6d4c41'\n  },\n  'blue grey': {\n    dark: '#b0bec5',\n    light: '#546e7a'\n  }\n};\n\nvar $1500da26cef85c66$export$2d5ed1e6bc597003 = function (colorString, isDark) {\n  return $1500da26cef85c66$export$b1af3e61661bd3b2[colorString] ? $1500da26cef85c66$export$b1af3e61661bd3b2[colorString][isDark ? 'dark' : 'light'] : colorString;\n};\n\nvar $1500da26cef85c66$export$933d53aed74a6ef0 = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\nvar $1500da26cef85c66$export$88e7cb308ec58e48 = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nvar $1500da26cef85c66$export$737cca9a4f8febb7 = function (date) {\n  return date;\n};\n\nvar $1500da26cef85c66$var$calculateMondayStartWeekDay = function (date, calendarView) {\n  var days = [];\n  var dayInWeek = date.weekday;\n  var startDate = date.minus({\n    days: dayInWeek - 1\n  });\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH) {\n    if (dayInWeek === 0) {\n      for (var i = 6; i > 0; i--) days.push(date.minus({\n        days: i\n      }));\n\n      days.push(date);\n    } else {\n      days.push(startDate);\n\n      for (var i1 = 1; i1 < 7; i1++) days.push(startDate.plus({\n        days: i1\n      }));\n    }\n  } else for (var i2 = 0; i2 < 7; i2++) days.push(startDate.plus({\n    days: i2\n  }));\n\n  return days;\n};\n\nvar $1500da26cef85c66$var$calculateSundayStartWeekDay = function (date, calendarView) {\n  var days = [];\n  var dayInWeek = date.weekday;\n  var startDate = dayInWeek === 7 ? date.plus({\n    days: dayInWeek - 7\n  }) : date.minus({\n    days: dayInWeek\n  });\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH) {\n    if (dayInWeek === 7) {\n      for (var i = 6; i > 0; i--) days.push(date.minus({\n        days: i\n      }));\n\n      days.push(date);\n    } else {\n      days.push(startDate);\n\n      for (var i3 = 1; i3 < 7; i3++) days.push(startDate.plus({\n        days: i3\n      }));\n    }\n  } else for (var i4 = 0; i4 < 7; i4++) days.push(startDate.plus({\n    days: i4\n  }));\n\n  return days;\n};\n\nvar $1500da26cef85c66$export$69ac73875782844e = function (date, calendarView, weekDayStart, setSelectedDate) {\n  // Set state\n  if (setSelectedDate && calendarView !== $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH) setSelectedDate(date);\n  if (weekDayStart === $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY) return $1500da26cef85c66$var$calculateMondayStartWeekDay(date, calendarView);else return $1500da26cef85c66$var$calculateSundayStartWeekDay(date, calendarView);\n};\n\nvar $1500da26cef85c66$export$b34cdd4783897766 = function (date, setSelectedDate, isGoingForward) {\n  var days = [];\n  if (isGoingForward === null || isGoingForward === undefined) for (var i = 0; i <= 2; i++) days.push(date.plus({\n    days: i\n  }));else if (isGoingForward) for (var i5 = 1; i5 <= 3; i5++) days.push(date.plus({\n    days: i5\n  }));else for (var i6 = 3; i6 > 0; i6--) days.push(date.minus({\n    days: i6\n  })); // Set state\n\n  if (setSelectedDate) setSelectedDate(days[1]);\n  return days;\n};\n\nvar $1500da26cef85c66$export$f16d393a3268e3f3 = function (calendarView) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return $1500da26cef85c66$var$SEVEN_DAYS;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return $1500da26cef85c66$var$THREE_DAYS;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return $1500da26cef85c66$var$ONE_DAY;\n\n    default:\n      return $1500da26cef85c66$var$SEVEN_DAYS;\n  }\n};\n\nvar $1500da26cef85c66$var$getOneDay = function (date, setSelectedDate) {\n  var refDate = $1500da26cef85c66$export$737cca9a4f8febb7(date); // Set state\n\n  if (setSelectedDate) setSelectedDate(refDate);\n  return [refDate];\n};\n\nvar $1500da26cef85c66$export$f82b43a5dad4749 = function (refDate) {\n  var firstDayInMonth = $d49542164c9bae14$export$2e2bcd8739ae039.getFirstDayOfMonth(refDate);\n  var daysInMonth = refDate.daysInMonth;\n  var monthDays = []; // Add missing days to month view\n\n  for (var i = 0; i < daysInMonth; i += 1) {\n    var day = firstDayInMonth.plus({\n      days: i\n    });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$be98daea68e5bd4 = function (date, weekDayStart) {\n  var FIVE_WEEKS_DAYS_COUNT = 36; // Get reference date for calculating new month\n  // Get first week of current month\n\n  var firstDayOfCurrentMonth = $d49542164c9bae14$export$2e2bcd8739ae039.getFirstDayOfMonth(date);\n  var firstWeekOfCurrentMonth = $1500da26cef85c66$export$69ac73875782844e(firstDayOfCurrentMonth, $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK, weekDayStart, undefined);\n  var monthDays = firstWeekOfCurrentMonth; // Add missing days to month view\n\n  for (var i = 1; i < FIVE_WEEKS_DAYS_COUNT; i += 1) {\n    var day = firstWeekOfCurrentMonth[6].plus({\n      days: i\n    });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$4b1bd9c645c26ec4 = function (date, setSelectedDate) {\n  var monthDays = $1500da26cef85c66$export$f82b43a5dad4749(date); // Set state\n\n  if (setSelectedDate) setSelectedDate(monthDays[15]);\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$214c174a056fc56f = function (date, setSelectedDate, weekDayStart) {\n  var monthDays = $1500da26cef85c66$export$be98daea68e5bd4(date, weekDayStart); // Set state\n\n  if (setSelectedDate) setSelectedDate(monthDays[15]);\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$431753531f5fca31 = function (item) {\n  return typeof item === 'string' ? $cw6c3$luxon.DateTime.fromISO(item) : item;\n};\n\nvar $1500da26cef85c66$export$89694f4f8cea7fb = function (item) {\n  return typeof item === 'string' ? item : item.toString();\n};\n\nvar $1500da26cef85c66$export$8abac2236d14a91f = function (oldIndex, newIndex) {\n  return oldIndex === 0 && newIndex === 1 || oldIndex === 1 && newIndex === 2 || oldIndex === 2 && newIndex === 0;\n};\n\nvar $1500da26cef85c66$export$77c6031193b02723 = function (calendarView) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH:\n      return 15;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA:\n      return 15;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return 2;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return 0;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return 0;\n\n    default:\n      return 2;\n  }\n};\n\nvar $1500da26cef85c66$export$e75d169fad6edf5f = function (calendarView, date, weekDayStart, setSelectedDate) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return $1500da26cef85c66$export$69ac73875782844e(date, calendarView, weekDayStart, setSelectedDate);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return $1500da26cef85c66$export$b34cdd4783897766(date, setSelectedDate);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return $1500da26cef85c66$var$getOneDay(date, setSelectedDate);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH:\n      return $1500da26cef85c66$export$214c174a056fc56f(date, setSelectedDate, weekDayStart);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA:\n      return $1500da26cef85c66$export$4b1bd9c645c26ec4(date, setSelectedDate);\n\n    default:\n      return $1500da26cef85c66$export$69ac73875782844e(date, calendarView, setSelectedDate);\n  }\n};\n\nvar $1500da26cef85c66$var$getReferenceDate = function (direction, calendarView, calendarDays) {\n  if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.TODAY) return $cw6c3$luxon.DateTime.now();\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS) {\n    if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD) return $bf7b38bce41ca3dd$export$126fc096895fc6f5(calendarDays).plus({\n      days: 1\n    });else return $bf7b38bce41ca3dd$export$4be7a748c9766cf9(calendarDays).minus({\n      days: 3\n    });\n  }\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY) {\n    if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD) return $bf7b38bce41ca3dd$export$126fc096895fc6f5(calendarDays).plus({\n      days: 1\n    });else return $bf7b38bce41ca3dd$export$4be7a748c9766cf9(calendarDays).minus({\n      days: 1\n    });\n  }\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA) {\n    if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD) return calendarDays[15].plus({\n      months: 1\n    });else return calendarDays[15].minus({\n      months: 1\n    });\n  }\n\n  return $cw6c3$luxon.DateTime.now();\n};\n\nvar $1500da26cef85c66$export$20dc9138dd5b1a6a = function (direction, calendarDays, calendarView, setSelectedDate, weekDayStart) {\n  return $1500da26cef85c66$export$e75d169fad6edf5f(calendarView, $1500da26cef85c66$var$getReferenceDate(direction, calendarView, calendarDays), weekDayStart, setSelectedDate);\n};\n\nvar $1500da26cef85c66$export$fef151b94550e9f5 = function (calendarDays) {\n  var ref, ref1, ref2;\n  return {\n    rangeFrom: calendarDays === null || calendarDays === void 0 ? void 0 : (ref = calendarDays[0]) === null || ref === void 0 ? void 0 : ref.set({\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0\n    }).toUTC().toString(),\n    rangeTo: (ref2 = calendarDays === null || calendarDays === void 0 ? void 0 : (ref1 = calendarDays[(calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays.length) - 1]) === null || ref1 === void 0 ? void 0 : ref1.set({\n      hour: 23,\n      minute: 59,\n      second: 59,\n      millisecond: 59\n    })) === null || ref2 === void 0 ? void 0 : ref2.toUTC().toString()\n  };\n};\n\nvar $585762b051d85803$export$c212dd23f1f0a1e3 = function (eventA, eventB, timezone) {\n  var startAtFirst = $28306200f69a6328$export$6c2618c4afcf6cfb(eventA.startAt, eventA.timezoneStartAt, timezone);\n  var endAtFirst = $28306200f69a6328$export$6c2618c4afcf6cfb(eventA.endAt, eventA.timezoneStartAt, timezone);\n  var startAtSecond = $28306200f69a6328$export$6c2618c4afcf6cfb(eventB.startAt, eventB.timezoneStartAt, timezone);\n  var endAtSecond = $28306200f69a6328$export$6c2618c4afcf6cfb(eventB.endAt, eventB.timezoneStartAt, timezone);\n  return $cw6c3$luxon.Interval.fromDateTimes(startAtFirst, endAtFirst).overlaps($cw6c3$luxon.Interval.fromDateTimes(startAtSecond, endAtSecond));\n};\n\nvar $585762b051d85803$var$adjustForMinimalHeight = function (eventA, eventB, hourHeight) {\n  var result = {\n    eventA: $cw6c3$swchelpers.objectSpread({}, eventA),\n    eventB: $cw6c3$swchelpers.objectSpread({}, eventB)\n  };\n  var eventADiff = // @ts-ignore\n  $cw6c3$luxon.DateTime.fromISO(eventA.endAt).diff($cw6c3$luxon.DateTime.fromISO(eventA.startAt)).toObject().minutes / (60 / hourHeight);\n  var eventBDiff = // @ts-ignore\n  $cw6c3$luxon.DateTime.fromISO(eventB.endAt).diff($cw6c3$luxon.DateTime.fromISO(eventB.startAt)).toObject().minutes / (60 / hourHeight);\n  if (eventADiff < $88a08af890f49243$export$eae15a231de23f4a) result.eventA.endAt = $cw6c3$luxon.DateTime.fromISO(result.eventA.endAt).plus({\n    minutes: $88a08af890f49243$export$eae15a231de23f4a - eventADiff\n  }).toString();\n  if (eventBDiff < $88a08af890f49243$export$eae15a231de23f4a) result.eventB.endAt = $cw6c3$luxon.DateTime.fromISO(result.eventB.endAt).plus({\n    minutes: $88a08af890f49243$export$eae15a231de23f4a - eventBDiff\n  }).toString();\n  return result;\n};\n\nvar $585762b051d85803$export$75fe04c694e7ab2e = function (events, calendarIDsHidden) {\n  if (!calendarIDsHidden || calendarIDsHidden.length === 0) return events;\n  return events.filter(function (item) {\n    if (item.calendarID) {\n      if (calendarIDsHidden === null || calendarIDsHidden === void 0 ? void 0 : calendarIDsHidden.includes(item.calendarID)) return false;else return item;\n    }\n\n    return item;\n  });\n};\n\nvar $585762b051d85803$export$6a8cd07afb93412f = function (events, baseWidth, config, selectedView, dateKey) {\n  var result = [];\n  var offsetCount = []; //Store every event id of overlapping items\n\n  var offsetCountFinal; //Sort events by id number\n\n  var tableWidth = baseWidth / $1500da26cef85c66$export$f16d393a3268e3f3(selectedView);\n  var tableSpace = tableWidth / 100 * $88a08af890f49243$export$b4e2ba6756dec2c;\n\n  if (events) {\n    var eventsData = events; // Filter all day events and multi day events\n\n    eventsData.filter(function (item) {\n      return !item.allDay;\n    }).map(function (event) {\n      var width = 1; //Full width\n\n      var offsetLeft = 0; // Compare events\n\n      eventsData.forEach(function (item2) {\n        if (event.id !== item2.id && !item2.allDay) {\n          // adjust events to have at least minimal height to check\n          // overlapping\n          var ref = $585762b051d85803$var$adjustForMinimalHeight(event, item2, config.hourHeight),\n              eventA = ref.eventA,\n              eventB = ref.eventB;\n\n          if ($585762b051d85803$export$c212dd23f1f0a1e3(eventA, eventB, config.timezone) && !eventB.allDay) {\n            width = width + 1; //add width for every overlapping item\n\n            offsetCount.push(item2.id); // set offset for positioning\n\n            offsetCount.push(event.id); // set offset for positioning\n          }\n        }\n      });\n      var offsetTop = // @ts-ignore\n      $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt, config.timezone).diff($28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt, config.timezone).set({\n        hour: 0,\n        minute: 0,\n        second: 0\n      }), 'minutes').toObject().minutes / (60 / config.hourHeight); // adjust based on hour column height\n\n      var eventHeight = // @ts-ignore\n      $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt).diff($28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt), 'minutes').toObject().minutes / (60 / config.hourHeight); // adjust based on hour column height\n\n      var eventWidth = tableWidth / width; //sort items for proper calculations of offset by id\n      // prevent different order in loop\n\n      if (offsetCount.length > 0) offsetCountFinal = offsetCount.sort();\n      if (offsetCountFinal) offsetLeft = eventWidth * offsetCountFinal.indexOf(event.id); //count offset\n      //event.left\n      // Current status: events is displayed in wrong place\n\n      offsetCount = [];\n      offsetCountFinal = '';\n      result.push({\n        dateKey: dateKey,\n        event: event,\n        height: eventHeight < $88a08af890f49243$export$eae15a231de23f4a ? $88a08af890f49243$export$eae15a231de23f4a : eventHeight,\n        width: eventWidth,\n        offsetLeft: offsetLeft,\n        offsetTop: offsetTop,\n        zIndex: 2,\n        meta: {\n          isFullWidth: width === 1,\n          showTime: eventWidth >= $88a08af890f49243$export$81f0fddb54debad3 && eventHeight >= $88a08af890f49243$export$81f0fddb54debad3,\n          centerText: eventHeight <= $88a08af890f49243$export$81f0fddb54debad3\n        }\n      });\n    });\n  }\n\n  var partialResult = result.map(function (item) {\n    var ref; // full event width\n\n    if ((ref = item.meta) === null || ref === void 0 ? void 0 : ref.isFullWidth) return $cw6c3$swchelpers.objectSpread({}, item, {\n      width: Math.round(item.width - tableSpace)\n    });else if (item.offsetLeft > 0) return $cw6c3$swchelpers.objectSpread({}, item, {\n      width: Math.round(item.width),\n      offsetLeft: item.offsetLeft - tableSpace,\n      zIndex: item.zIndex ? item.zIndex + 2 : 2\n    });else return $cw6c3$swchelpers.objectSpread({}, item, {\n      width: Math.round(item.width)\n    });\n  });\n  return partialResult;\n};\n\nvar $585762b051d85803$export$2edf4a4fedf73d36 = function (calendarDays, events, baseWidth, config, selectedView) {\n  var result = {};\n  calendarDays.forEach(function (calendarDay) {\n    var formattedDayString = calendarDay.toFormat('dd-MM-yyyy');\n    var dayEvents = events[formattedDayString];\n    var groupedPositions = {};\n    var positions = $585762b051d85803$export$6a8cd07afb93412f(dayEvents, baseWidth, config, selectedView, formattedDayString);\n    positions.forEach(function (item) {\n      if (groupedPositions[item.event.id]) groupedPositions[item.event.id] = item;else groupedPositions[item.event.id] = item;\n    });\n    result[formattedDayString] = groupedPositions;\n  });\n  return result;\n};\n\nvar $585762b051d85803$export$f917769c218c90fd = function (event, day, timezone) {\n  var dateStart = $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt || timezone);\n  var dateEnd = $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt || timezone);\n  var dayTruncated = $1500da26cef85c66$export$431753531f5fca31(day).set({\n    hour: 0,\n    minute: 0,\n    millisecond: 0,\n    second: 0\n  }).toMillis();\n  var eventStartTruncated = dateStart.set({\n    hour: 0,\n    minute: 0,\n    millisecond: 0,\n    second: 0\n  }).toMillis();\n  var eventEndTruncated = dateEnd.set({\n    hour: 0,\n    minute: 0,\n    millisecond: 0,\n    second: 0\n  }).toMillis(); // fix wrong positioning when external all day event ends in next day\n\n  if (event.externalID) return dayTruncated >= eventStartTruncated && dayTruncated < eventEndTruncated;else return dayTruncated >= eventStartTruncated && dayTruncated <= eventEndTruncated;\n};\n\nvar $585762b051d85803$export$3a6eb9efca632dee = function (event, days, timezone) {\n  var hasMatch = false;\n  var _iteratorNormalCompletion = true,\n      _didIteratorError = false,\n      _iteratorError = undefined;\n\n  try {\n    for (var _iterator = days[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var day = _step.value;\n\n      if ($585762b051d85803$export$f917769c218c90fd(event, day, timezone)) {\n        hasMatch = true;\n        return true; // return false;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return hasMatch;\n}; // eslint-disable-next-line @typescript-eslint/no-empty-function\n\n\nvar $3886b97a1526edd3$var$emptyFunction = function () {};\n\nvar $3886b97a1526edd3$var$parseTimeFormat = function (timeFormatValue) {\n  if (timeFormatValue) {\n    if (timeFormatValue.toLowerCase() === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24.toString().toLowerCase()) return $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24;else if (timeFormatValue.toLowerCase() === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12.toString().toLowerCase()) return $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12;\n  }\n};\n\nvar $3886b97a1526edd3$var$parseWeekDayStart = function (weekDayStartValue) {\n  if (weekDayStartValue) {\n    if (weekDayStartValue.toLowerCase() === $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY.toLowerCase()) return $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY;else if (weekDayStartValue.toLowerCase() === $e4750b0ebeed8e48$export$5a05f7ffc0500403.SUNDAY.toLowerCase()) return $e4750b0ebeed8e48$export$5a05f7ffc0500403.SUNDAY;\n  }\n};\n\nvar $3886b97a1526edd3$var$parseHourHeight = function (hourHeightOrigin) {\n  var remainder = hourHeightOrigin % 4;\n  if (remainder === 0) return hourHeightOrigin;\n  var result = hourHeightOrigin - remainder;\n  return result >= 10 ? result : $88a08af890f49243$export$1c9a1263a0d343f4;\n};\n\nvar $3886b97a1526edd3$export$45a69314cf48a3eb = function (props) {\n  return {\n    hourHeight: props.hourHeight ? $3886b97a1526edd3$var$parseHourHeight(props.hourHeight) : $88a08af890f49243$export$1c9a1263a0d343f4,\n    timeFormat: $3886b97a1526edd3$var$parseTimeFormat(props.timeFormat) || $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24,\n    timezone: props.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone,\n    weekDayStart: $3886b97a1526edd3$var$parseWeekDayStart(props.weekDayStart) || $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY,\n    isDark: props.isDark || false,\n    disableMobileDropdown: props.disableMobileDropdown || false,\n    disabledViews: props.disabledViews,\n    calendarIDsHidden: props.calendarIDsHidden || null,\n    hasExternalLayout: props.eventLayouts !== undefined,\n    focusHour: props.focusHour || null,\n    showTimeLine: props.showTimeLine || false,\n    autoScroll: props.autoScroll || false\n  };\n};\n\nvar $3886b97a1526edd3$export$96e2a2f386b0b376 = function (props) {\n  return {\n    onEventDragFinish: props.onEventDragFinish || undefined,\n    onPageChange: props.onPageChange || undefined,\n    onSelectView: props.onSelectView || undefined,\n    onEventClick: props.onEventClick || $3886b97a1526edd3$var$emptyFunction,\n    onNewEventClick: props.onNewEventClick || $3886b97a1526edd3$var$emptyFunction,\n    showMoreMonth: props.showMoreMonth || $3886b97a1526edd3$var$emptyFunction,\n    onStateChange: props.onStateChange || undefined\n  };\n};\n\nvar $3886b97a1526edd3$var$ConfigLayer = function (props) {\n  var ref;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isReady = ref1[0],\n      setIsReady = ref1[1];\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref2[0],\n      dispatch = ref2[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var initFromProps = function () {\n    var config = $3886b97a1526edd3$export$45a69314cf48a3eb(props);\n    var callbacks = $3886b97a1526edd3$export$96e2a2f386b0b376(props);\n    setContext('config', config);\n    if (props.colors) setContext('colors', props.colors);\n    setContext('callbacks', callbacks);\n    setContext('isDark', props.isDark || false);\n    setContext('selectedView', props.selectedView || props.initialView || $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK);\n    setContext('selectedDate', props.initialDate ? $cw6c3$luxon.DateTime.fromISO(props.initialDate) : $cw6c3$luxon.DateTime.now());\n    setContext('isNewEventOpen', true);\n    if (props.style) setContext('style', props.style);\n    setContext('showWeekNumbers', props.showWeekNumbers || false);\n    if (props.draggingDisabledConditions) setContext('draggingDisabledConditions', props.draggingDisabledConditions);\n    setIsReady(true);\n  };\n\n  $cw6c3$react.useEffect(function () {\n    initFromProps();\n    setIsReady(true);\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    setContext('isNewEventOpen', props.isNewEventOpen);\n  }, [props.isNewEventOpen]);\n  $cw6c3$react.useEffect(function () {\n    initFromProps();\n  }, [props.timeFormat, props.timezone, props.showWeekNumbers, // props.disabledViews, // keeps re-rendering without any change\n  props.isDark, props.disableMobileDropdown]);\n  $cw6c3$react.useEffect(function () {\n    var newConfig = $cw6c3$swchelpers.objectSpread({}, store.config);\n    if (props.hourHeight) newConfig.hourHeight = $3886b97a1526edd3$var$parseHourHeight(props.hourHeight);\n    setContext('config', newConfig);\n  }, [props.hourHeight]);\n  $cw6c3$react.useEffect(function () {\n    var eventsFiltered = $585762b051d85803$export$75fe04c694e7ab2e(props.events, props.calendarIDsHidden);\n    setContext('events', eventsFiltered);\n  }, [JSON.stringify(props.calendarIDsHidden), (ref = props.calendarIDsHidden) === null || ref === void 0 ? void 0 : ref.length]);\n  return isReady ? props.children : null;\n};\n\nvar $3886b97a1526edd3$export$2e2bcd8739ae039 = $3886b97a1526edd3$var$ConfigLayer; // tslint:disable-next-line:cyclomatic-complexity\n\nvar $e7acfb653c6fbfca$var$Reducer = function (state, action) {\n  switch (action.type) {\n    case 'initialView':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        initialView: action.payload\n      });\n\n    case 'selectedView':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        selectedView: action.payload\n      });\n\n    case 'draggingDisabledConditions':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        draggingDisabledConditions: action.payload\n      });\n\n    case 'isMobile':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        isMobile: action.payload\n      });\n\n    case 'isDark':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        isDark: action.payload\n      });\n\n    case 'isNewEventOpen':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        isNewEventOpen: action.payload\n      });\n\n    case 'showWeekNumbers':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        showWeekNumbers: action.payload\n      });\n\n    case 'translations':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        translations: action.payload\n      });\n\n    case 'style':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        style: action.payload\n      });\n\n    case 'direction':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        direction: action.payload\n      });\n\n    case 'daysViewLayout':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        daysViewLayout: action.payload\n      });\n\n    case 'config':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        config: action.payload\n      });\n\n    case 'colors':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        colors: action.payload\n      });\n\n    case 'headerLayout':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        headerLayout: action.payload\n      });\n\n    case 'monthLayout':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        monthLayout: action.payload\n      });\n\n    case 'monthOverflowEvents':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        monthOverflowEvents: action.payload\n      });\n\n    case 'showMoreEvents':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        showMoreEvents: action.payload\n      });\n\n    case 'layoutUpdateSequence':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        layoutUpdateSequence: action.payload\n      });\n\n    case 'events':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        events: action.payload\n      });\n\n    case 'selectedDate':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        selectedDate: action.payload\n      });\n\n    case 'calendarDays':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        calendarDays: action.payload\n      });\n\n    case 'isLoading':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        isLoading: action.payload\n      });\n\n    case 'rawWidth':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        rawWidth: action.payload\n      });\n\n    case 'width':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        width: action.payload\n      });\n\n    case 'height':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        height: action.payload\n      });\n\n    case 'callbacks':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        callbacks: action.payload\n      });\n\n    case 'headerEventRowsCount':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        headerEventRowsCount: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar $e7acfb653c6fbfca$export$2e2bcd8739ae039 = $e7acfb653c6fbfca$var$Reducer;\nvar $073ad6afefbd1c74$exports = {};\n$073ad6afefbd1c74$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Today\\\",\\\"agenda\\\":\\\"Agenda\\\",\\\"day\\\":\\\"Day\\\",\\\"threeDays\\\":\\\"3 Days\\\",\\\"week\\\":\\\"Week\\\",\\\"month\\\":\\\"Month\\\",\\\"showMore\\\":\\\"More\\\"},\\\"months\\\":{\\\"january\\\":\\\"January\\\",\\\"february\\\":\\\"February\\\",\\\"march\\\":\\\"March\\\",\\\"april\\\":\\\"April\\\",\\\"may\\\":\\\"May\\\",\\\"june\\\":\\\"June\\\",\\\"july\\\":\\\"July\\\",\\\"august\\\":\\\"August\\\",\\\"september\\\":\\\"September\\\",\\\"october\\\":\\\"October\\\",\\\"november\\\":\\\"November\\\",\\\"december\\\":\\\"December\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Mon\\\",\\\"Tue\\\":\\\"Tue\\\",\\\"Wed\\\":\\\"Wed\\\",\\\"Thu\\\":\\\"Thu\\\",\\\"Fri\\\":\\\"Fri\\\",\\\"Sat\\\":\\\"Sat\\\",\\\"Sun\\\":\\\"Sun\\\"},\\\"weekShort\\\":\\\"W\\\"}\");\nvar $65553fbba1d6d65b$export$841858b892ce1f4c = /*#__PURE__*/$cw6c3$react.createContext({});\n\nvar $65553fbba1d6d65b$var$StoreProvider = function (_param) {\n  var children = _param.children,\n      props = $cw6c3$swchelpers.objectWithoutProperties(_param, [\"children\"]);\n  var initialContext = {\n    isLoading: false,\n    headerEventRowsCount: 0,\n    initialView: null,\n    selectedView: null,\n    selectedDate: $cw6c3$luxon.DateTime.now(),\n    calendarDays: [],\n    width: 0,\n    rawWidth: 0,\n    height: 0,\n    isMobile: false,\n    events: {},\n    daysViewLayout: null,\n    headerLayout: null,\n    monthLayout: null,\n    monthOverflowEvents: null,\n    showMoreEvents: null,\n    showWeekNumbers: false,\n    layoutUpdateSequence: 1,\n    config: $3886b97a1526edd3$export$45a69314cf48a3eb(props),\n    callbacks: $3886b97a1526edd3$export$96e2a2f386b0b376({}),\n    direction: $e4750b0ebeed8e48$export$c2bed76d77ee7287.TODAY,\n    translations: /*@__PURE__*/$parcel$interopDefault($073ad6afefbd1c74$exports),\n    isNewEventOpen: false,\n    draggingDisabledConditions: null,\n    isDark: false,\n    style: {\n      primaryColor: '#ec407a',\n      baseColor: '#424242FF',\n      inverseBaseColor: '#E5E5E5FF'\n    },\n    colors: {\n      light: {\n        primaryColor: '#ec407a'\n      },\n      dark: {\n        primaryColor: '#f48fb1'\n      }\n    }\n  };\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useReducer($e7acfb653c6fbfca$export$2e2bcd8739ae039, initialContext), 2),\n      store = ref[0],\n      dispatch = ref[1];\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($65553fbba1d6d65b$export$841858b892ce1f4c.Provider, {\n    value: [store, dispatch],\n    children: children\n  });\n};\n\nvar $65553fbba1d6d65b$export$2e2bcd8739ae039 = $65553fbba1d6d65b$var$StoreProvider;\n\nvar $ecf585202d453fcb$var$DateWeekDay = function (props) {\n  var width = props.width,\n      day = props.day;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var selectedView = store.selectedView,\n      callbacks = store.callbacks;\n  var isDayToday = $d49542164c9bae14$export$2e2bcd8739ae039.isToday(day);\n  var isMonthView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  var isAgendaView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA;\n\n  var navigateToDay = function (e) {\n    if (props.setViewChanged) {\n      e.preventDefault();\n      e.stopPropagation();\n      props.setViewChanged($e4750b0ebeed8e48$export$ec9758e21af63072.DAY);\n      setContext('selectedDate', day);\n      setContext('calendarDays', [day]);\n    }\n  };\n\n  var handleNewEventClick = function (event) {\n    if (callbacks.onNewEventClick) callbacks.onNewEventClick({\n      day: day.toJSDate(),\n      hour: day.toUTC().hour,\n      startAt: day === null || day === void 0 ? void 0 : day.setZone(store.config.timezone).startOf('day').toUTC().toString(),\n      endAt: day === null || day === void 0 ? void 0 : day.setZone(store.config.timezone).endOf('day').toUTC().toString(),\n      event: event,\n      view: selectedView\n    }, event);\n  };\n\n  var getBackgroundColor = function () {\n    if (!store.isDark) {\n      if (isDayToday) return store.colors.light.primaryColor;\n    } else {\n      if (isDayToday) return store.colors.dark.primaryColor;\n    }\n  };\n\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderDates__col',\n    style: {\n      width: width\n    },\n    onClick: handleNewEventClick,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: \"\".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__CalendarHeaderDates__circle\".concat(isMonthView ? '-small' : ''), store.isDark), \" \").concat(isDayToday ? 'Kalend__CalendarHeaderDates__primary' : '', \" \").concat(isAgendaView ? isDayToday ? 'Kalend__CalendarHeaderDates__agenda-primary' : 'Kalend__CalendarHeaderDates__agenda' : ''),\n      onClick: navigateToDay,\n      style: {\n        backgroundColor: getBackgroundColor(),\n        cursor: props.setViewChanged ? 'pointer' : 'normal'\n      },\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n        className: \"Kalend__text Kalend__CalendarHeaderDates__text \".concat(selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? 'Kalend__CalendarHeaderDates__text-size-small' : '', \" \").concat(isDayToday ? $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__color-text-base', !store.isDark) : $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__color-text-base', store.isDark)),\n        children: day.day\n      })\n    })\n  });\n};\n\nvar $ecf585202d453fcb$export$2e2bcd8739ae039 = $ecf585202d453fcb$var$DateWeekDay;\n\nvar $0689dc746d054cae$var$DayOfWeekText = function (props) {\n  var width = props.width,\n      day = props.day;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var translations = store.translations;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderWeekDays__col',\n    style: {\n      width: width\n    },\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__text Kalend__CalendarHeaderWeekDays__text', store.isDark),\n      children: translations['weekDays'][\"\".concat(day.toFormat('EEE'))]\n    })\n  });\n};\n\nvar $0689dc746d054cae$export$2e2bcd8739ae039 = $0689dc746d054cae$var$DayOfWeekText;\n\nvar $df4cda54b7466b02$export$ff41551cf384acef = function (calendarDays, event, xShiftIndexRef) {\n  var originalStartAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.startAt);\n  var originalEndAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.endAt);\n  var newDay = calendarDays.map(function (calendarDay) {\n    return calendarDay;\n  })[xShiftIndexRef.current];\n  var diffInMinutes = originalEndAtDateTime.diff(originalStartAtDateTime, 'minutes').toObject().minutes;\n  var newStartAt = originalStartAtDateTime.set({\n    year: newDay.year,\n    day: newDay.day,\n    month: newDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute\n  }); // set correct endAt\n\n  var newEndAt = newStartAt.plus({\n    minutes: diffInMinutes\n  });\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString()\n  });\n};\n\nvar $df4cda54b7466b02$export$1fc19a5181516448 = function (e, columnWidth, width, xShiftIndexRef, offsetLeftRef, eventWasChangedRef, setState) {\n  var ref, ref1;\n  var tableElement = document.querySelector('.Kalend__Calendar__table');\n  var tableElementRect = tableElement.getBoundingClientRect();\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref1 = ref.touches) === null || ref1 === void 0 ? void 0 : ref1[0]; // set basic coordinates from movement\n\n  var x; // handle touch movement\n\n  if (touches) x = touches.clientX - tableElementRect.x;else // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x - $88a08af890f49243$export$447c5938f45c45a5; // prevent free dragging across columns with simple recalculation for\n\n  var columnShift = Math.floor(x / columnWidth);\n  var xTable = e.clientX - tableElementRect.x; //- CALENDAR_OFFSET_LEFT;\n\n  var columnShiftTable = Math.round(xTable / columnWidth);\n  if (columnShiftTable * columnWidth >= width || xTable < 0 || xTable < columnWidth / 2) return; // prevent event overflowing on last day\n  // TODO reset back after moving left again\n\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth + 1); // add 1 because 0\n  // was not working\n\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n};\n\nvar $e5a736e77c82a8d5$export$dd76bfaf05a6a47a = function (calendarDays, yShiftIndexRef, xShiftIndexRef, event) {\n  // get new date from x, y coordinates\n  // split calendarDays by rows\n  var rowCalendarDays = [];\n  var tempArray = [];\n  calendarDays.forEach(function (calendarDay) {\n    if (tempArray.length === 7 || rowCalendarDays.length === 5 && tempArray.length === 6) {\n      tempArray.push(calendarDay);\n      rowCalendarDays.push(tempArray);\n      tempArray = [];\n    }\n\n    tempArray.push(calendarDay);\n  }); // get correct row by y coordinate\n\n  var matchingRow = rowCalendarDays[yShiftIndexRef.current]; // get day by x coordinate\n\n  var matchingDay = matchingRow[xShiftIndexRef.current];\n  var originalStartAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.startAt);\n  var originalEndAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.endAt);\n  var diffInMinutes = originalEndAtDateTime.diff(originalStartAtDateTime, 'minutes').toObject().minutes;\n  var newStartAt = originalStartAtDateTime.set({\n    year: matchingDay.year,\n    day: matchingDay.day,\n    month: matchingDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute\n  }); // set correct endAt\n\n  var newEndAt = newStartAt.plus({\n    minutes: diffInMinutes\n  });\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString()\n  });\n};\n\nvar $e5a736e77c82a8d5$export$dc270e2350d64c2 = function (e, height, draggingRef, day, columnWidth, width, xShiftIndexRef, yShiftIndexRef, eventWasChangedRef, offsetLeftRef, offsetTopRef, setState, index) {\n  var ref, ref1;\n  var columnHeight = height / 6;\n  if (!draggingRef.current) return;\n  if (!day) return;\n  var tableElement = document.querySelector('.Kalend__Calendar__table');\n  var tableElementRect = tableElement.getBoundingClientRect();\n  var xTable = e.clientX - tableElementRect.x;\n  var yTable = e.clientY - tableElementRect.y; // Get column element for day, where event is placed\n\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref1 = ref.touches) === null || ref1 === void 0 ? void 0 : ref1[0]; // set basic coordinates from movement\n\n  var x;\n  var y; // handle touch movement\n\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n    y = touches.clientY - tableElementRect.y;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x;\n    y = e.clientY - tableElementRect.y;\n  }\n\n  var yReal = yTable - index * columnHeight; // prevent free dragging across columns with simple recalculation for\n\n  var columnShiftX = Math.floor(x / columnWidth);\n  var columnShiftY = Math.floor(yReal / columnHeight);\n  var columnShiftXParsed = parseInt((xTable / columnWidth).toString());\n  var columnShiftYParsed = parseInt((yTable / columnHeight).toString());\n  var columnShiftTableX = Math.round(xTable / columnWidth);\n  if (columnShiftTableX * columnWidth >= width || xTable < 0 || columnShiftY * columnHeight >= height || yTable < 0 || y >= height) return;\n  xShiftIndexRef.current = columnShiftXParsed;\n  yShiftIndexRef.current = columnShiftYParsed;\n  setState('offsetLeft', columnShiftX * columnWidth + 1);\n  setState('offsetTop', columnShiftY * columnHeight);\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n  offsetTopRef.current = y;\n};\n\nvar $082d0c87d15d5b42$export$a53075e16597084a = function (calendarDays, yShiftIndexRef, xShiftIndexRef, event) {\n  // get new date from x, y coordinates\n  // split calendarDays by rows\n  var rowCalendarDays = [];\n  var tempArray = [];\n  calendarDays.forEach(function (calendarDay) {\n    if (tempArray.length === 7 || rowCalendarDays.length === 5 && tempArray.length === 6) {\n      tempArray.push(calendarDay);\n      rowCalendarDays.push(tempArray);\n      tempArray = [];\n    }\n\n    tempArray.push(calendarDay);\n  }); // get correct row by y coordinate\n\n  var matchingRow = rowCalendarDays[yShiftIndexRef.current]; // get day by x coordinate\n\n  var matchingDay = matchingRow[xShiftIndexRef.current];\n  var originalStartAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.startAt);\n  var originalEndAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.endAt);\n  var diffInMinutes = originalEndAtDateTime.diff(originalStartAtDateTime, 'minutes').toObject().minutes;\n  var newStartAt = originalStartAtDateTime.set({\n    year: matchingDay.year,\n    day: matchingDay.day,\n    month: matchingDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute\n  }); // set correct endAt\n\n  var newEndAt = newStartAt.plus({\n    minutes: diffInMinutes\n  });\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString()\n  });\n};\n\nvar $082d0c87d15d5b42$export$286c3aed0632f6fd = function (e, height, draggingRef, day, width, xShiftIndexRef, yShiftIndexRef, eventWasChangedRef, offsetLeftRef, offsetTopRef, setState) {\n  var ref, ref1;\n  var columnHeight = height / 6;\n  if (!draggingRef.current) return;\n  if (!day) return;\n  var tableElement = document.querySelector('.Kalend__Calendar__table');\n  var tableElementRect = tableElement.getBoundingClientRect();\n  var columnWidth = tableElementRect.width / 7;\n  var xTable = e.clientX - tableElementRect.x;\n  var yTable = e.clientY - tableElementRect.y; // Get column element for day, where event is placed\n\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref1 = ref.touches) === null || ref1 === void 0 ? void 0 : ref1[0]; // set basic coordinates from movement\n\n  var x;\n  var y; // handle touch movement\n\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n    y = touches.clientY - tableElementRect.y;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX; // - tableElementRect.x +\n\n    y = e.clientY; //- tableElementRect.y + tableElementRect.left;\n  }\n\n  var columnShiftXParsed = parseInt((xTable / columnWidth).toString());\n  var columnShiftYParsed = parseInt((yTable / columnHeight).toString());\n  setState('width', tableElementRect.width / 7); // restrict dragging outside main table\n\n  if (y <= tableElementRect.top || y > tableElementRect.top + tableElementRect.height || x <= tableElementRect.left || x > tableElementRect.width + tableElementRect.left) return;\n  xShiftIndexRef.current = columnShiftXParsed;\n  yShiftIndexRef.current = columnShiftYParsed;\n  setState('offsetLeft', x);\n  setState('offsetTop', y);\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n  offsetTopRef.current = y;\n};\n\nvar $79dca703cc699b4f$export$38477230a29207e3 = function () {\n  return {\n    offsetLeft: 0,\n    offsetTop: 0,\n    width: '90%',\n    height: $88a08af890f49243$export$4b16cd32b50218c6,\n    zIndex: 1,\n    border: 'none',\n    meta: {\n      showTime: false,\n      isFullWidth: true,\n      centerText: true\n    }\n  };\n};\n\nvar $79dca703cc699b4f$export$2b35b885b699e674 = {\n  dragging: false,\n  initialTop: 0,\n  initialLeft: 0,\n  offsetTop: null,\n  offsetLeft: null,\n  xPosition: 0,\n  eventHasChanged: false,\n  width: null,\n  height: null,\n  zIndex: 2,\n  border: '',\n  meta: {},\n  isDragging: false,\n  endAt: undefined\n};\n\nvar $79dca703cc699b4f$export$633076c346814fbe = function (type, day, event, store, setLayout, index) {\n  var daysViewLayout = store.daysViewLayout,\n      headerLayout = store.headerLayout,\n      monthLayout = store.monthLayout;\n\n  if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL && day) {\n    var ref;\n    var formattedDayString = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(day);\n    var eventLayoutValue = (ref = daysViewLayout[formattedDayString]) === null || ref === void 0 ? void 0 : ref[event.id];\n    if (eventLayoutValue) setLayout(eventLayoutValue);\n  } else if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER) {\n    if (store.headerLayout) {\n      var headerLayoutValue = headerLayout[event.id];\n      if (headerLayoutValue) setLayout(headerLayoutValue);\n    }\n  } else if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH) {\n    if (store.monthLayout && index !== undefined) {\n      var ref1;\n      var monthLayoutValue = monthLayout === null || monthLayout === void 0 ? void 0 : (ref1 = monthLayout[index]) === null || ref1 === void 0 ? void 0 : ref1[event.id];\n      if (monthLayoutValue) setLayout(monthLayoutValue);\n    }\n  } else setLayout($79dca703cc699b4f$export$38477230a29207e3());\n};\n\nvar $79dca703cc699b4f$export$6da1c85d7de31b61 = function (e) {\n  var ref, ref2;\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref2 = ref.touches) === null || ref2 === void 0 ? void 0 : ref2[0];\n  return !!touches;\n};\n\nvar $1a47dae3ce368d80$var$CurrentHourLine = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var config = store.config,\n      colors = store.colors;\n  var currentTime = $cw6c3$luxon.DateTime.now();\n  var wrapperStyle = {\n    top: currentTime.hour * config.hourHeight + currentTime.minute / 60 * config.hourHeight\n  };\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    style: wrapperStyle,\n    className: 'Kalend__CurrentHourLine',\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__CurrentHourLine__circle', store.isDark),\n      style: {\n        background: store.isDark ? colors.dark.primaryColor : colors.light.primaryColor\n      }\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: {\n        background: store.isDark ? colors.dark.primaryColor : colors.light.primaryColor\n      },\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__CurrentHourLine__line', store.isDark)\n    })]\n  });\n};\n\nvar $1a47dae3ce368d80$export$2e2bcd8739ae039 = $1a47dae3ce368d80$var$CurrentHourLine;\n\nvar $17d79b7922eec8b8$var$renderEvents = function (dataset, day) {\n  return dataset.map(function (eventRaw) {\n    var item = eventRaw.event;\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n      item: eventRaw,\n      type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL,\n      meta: item.meta,\n      day: day\n    }, \"\".concat(item.id).concat(item.internalID ? item.internalID : ''));\n  });\n};\n\nvar $17d79b7922eec8b8$export$5c851bc642d7e5b8 = 4;\n\nvar $17d79b7922eec8b8$export$4f0cc7427b5c4255 = function (value, day, config) {\n  var stringValue = String(value);\n  stringValue = stringValue.includes('.') ? stringValue : \"\".concat(stringValue, \".0\");\n  var ref = $cw6c3$swchelpers.slicedToArray(stringValue.split('.'), 2),\n      hourStart = ref[0],\n      minuteStart = ref[1];\n  return day.set({\n    hour: Number(hourStart),\n    minute: Number(\"0.\".concat(minuteStart)) * 60,\n    second: 0,\n    millisecond: 0\n  }).setZone(config.timezone);\n};\n\nvar $17d79b7922eec8b8$export$51e2b98d4ac03ddd = function (config) {\n  return Number((config.hourHeight / $17d79b7922eec8b8$export$5c851bc642d7e5b8).toFixed(0));\n};\n\nvar $17d79b7922eec8b8$var$DaysViewOneDay = function (props) {\n  var ref6;\n  var day = props.day,\n      index = props.index,\n      data = props.data;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref1[0];\n  var width = store.width,\n      selectedView = store.selectedView,\n      config = store.config,\n      callbacks = store.callbacks,\n      isNewEventOpen = store.isNewEventOpen;\n  var onNewEventClick = callbacks.onNewEventClick;\n  var isDark = config.isDark,\n      hourHeight = config.hourHeight;\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      offsetTop = ref2[0],\n      setOffsetTop = ref2[1];\n  var ref3 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      offsetTopEnd = ref3[0],\n      setOffsetTopEnd = ref3[1];\n  var startAt = $cw6c3$react.useRef(null);\n  var endAt = $cw6c3$react.useRef(null);\n  var ref4 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      startAtState = ref4[0],\n      setStartAt = ref4[1];\n  var ref5 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      endAtState = ref5[0],\n      setEndAt = ref5[1]; // const [isDraggingNewEvent, setIsDraggingNewEvent] = useState(false);\n\n  var newEventStartOffset = $cw6c3$react.useRef(null);\n  var newEventEndOffset = $cw6c3$react.useRef(null);\n  var startAtRef = $cw6c3$react.useRef(null);\n  var isDraggingRef = $cw6c3$react.useRef(null);\n  var isUpdating = $cw6c3$react.useRef(false);\n  var style = {\n    position: 'absolute',\n    top: offsetTop,\n    height: offsetTopEnd - offsetTop,\n    background: store.style.primaryColor,\n    width: '100%',\n    zIndex: 9,\n    borderRadius: 8,\n    opacity: 0.8\n  };\n\n  var handleEventClickInternal = function (event) {\n    if (isDraggingRef.current || isUpdating.current) return;\n\n    if (onNewEventClick) {\n      var ref;\n      var rect = event.target.getBoundingClientRect();\n      var y = event.clientY - rect.top;\n      var startAtOnClick = $17d79b7922eec8b8$export$4f0cc7427b5c4255(Number((y / hourHeight).toFixed(0)), day, config);\n      if (!((ref = startAtOnClick === null || startAtOnClick === void 0 ? void 0 : startAtOnClick.toUTC()) === null || ref === void 0 ? void 0 : ref.toString())) return;\n      var endAtOnClick = startAtOnClick.plus({\n        hour: 1\n      }); // Get hour from click event\n\n      var hour = y / hourHeight;\n      onNewEventClick({\n        day: day.toJSDate(),\n        hour: hour,\n        startAt: startAtOnClick === null || startAtOnClick === void 0 ? void 0 : startAtOnClick.toUTC().toString(),\n        endAt: endAtOnClick === null || endAtOnClick === void 0 ? void 0 : endAtOnClick.toUTC().toString(),\n        event: event,\n        view: selectedView\n      }, event);\n    }\n  };\n\n  var onMove = function (e) {\n    var ref, ref7;\n    isDraggingRef.current = true; // setIsDraggingNewEvent(true);\n\n    e.preventDefault();\n    e.stopPropagation();\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e)) return; // Get column element for day, where event is placed\n\n    var dayElement = document.getElementById(\"Kalend__day__\".concat(day.toString()));\n    var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref7 = ref.touches) === null || ref7 === void 0 ? void 0 : ref7[0];\n    var dayElementRect = dayElement.getBoundingClientRect();\n    var y; // handle touch movement\n\n    if (touches) y = touches.clientY - dayElementRect.top;else // handle mouse movement\n      y = e.clientY - dayElementRect.top; // initial dragging\n\n    if (newEventStartOffset.current === null) {\n      var yString = (y / $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config)).toFixed(0).split('.');\n      var yValue = Number(yString[0]) * $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config);\n      setOffsetTop(yValue);\n      var startAtValue = $17d79b7922eec8b8$export$4f0cc7427b5c4255(yValue / hourHeight, day, config);\n      startAtRef.current = startAtValue;\n      startAt.current = startAtValue;\n      setStartAt(startAtValue);\n      setOffsetTop(yValue);\n      setOffsetTopEnd(yValue);\n      newEventStartOffset.current = yValue;\n      newEventEndOffset.current = yValue;\n      startAtRef.current = startAtValue;\n      endAt.current = startAtValue;\n      setEndAt(startAtValue);\n      return;\n    } // handle dragging up\n\n\n    if (newEventStartOffset.current && y < newEventStartOffset.current) {\n      var yString1 = (y / $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config)).toFixed(0).split('.');\n      var yValue1 = Number(yString1[0]) * $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config);\n      setOffsetTop(yValue1);\n      var startAtValue1 = $17d79b7922eec8b8$export$4f0cc7427b5c4255(yValue1 / hourHeight, day, config);\n      startAtRef.current = startAtValue1;\n      startAt.current = startAtValue1;\n      setStartAt(startAtValue1);\n      return;\n    } // handle dragging down\n\n\n    var yString2 = (y / $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config)).toFixed(0).split('.');\n    var yValue2 = Number(yString2[0]) * $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config);\n    setOffsetTopEnd(yValue2);\n    var endAtValue = $17d79b7922eec8b8$export$4f0cc7427b5c4255(yValue2 / hourHeight, day, config);\n    endAt.current = endAtValue;\n    setEndAt(endAtValue);\n  };\n  /**\n  * Cancel dragging event\n  * remove listeners clean long click timeout and reset state\n  * @param event\n  */\n\n\n  var onMouseUp = function (event) {\n    event.stopPropagation();\n    event.preventDefault(); // clean listeners\n\n    document.removeEventListener('mouseup', onMouseUp, true);\n    document.removeEventListener('mousemove', onMove, true);\n    var targetClass = event.target.className; // prevent propagating when clicking on event due to listeners\n\n    if (targetClass.indexOf('Kalend__Event') !== -1) return;\n\n    if (!isDraggingRef.current) {\n      handleEventClickInternal(event);\n      return;\n    } // correct layout with actual value from endAt date\n\n\n    if (endAt) {\n      var correctedValue = (endAt.hour + endAt.minute / 60) * hourHeight;\n      newEventEndOffset.current = correctedValue;\n      setOffsetTopEnd(correctedValue);\n    }\n\n    if (isUpdating.current) return;\n\n    if (onNewEventClick && isDraggingRef.current) {\n      var ref, ref8, ref9, ref10;\n      var startValue = offsetTop / hourHeight;\n      isUpdating.current = true;\n\n      if (!((ref8 = startAt === null || startAt === void 0 ? void 0 : (ref = startAt.current) === null || ref === void 0 ? void 0 : ref.toUTC()) === null || ref8 === void 0 ? void 0 : ref8.toString())) {\n        isDraggingRef.current = false;\n        isUpdating.current = false;\n        return;\n      }\n\n      onNewEventClick({\n        day: day.toJSDate(),\n        hour: startValue,\n        event: event,\n        startAt: (ref9 = startAt.current) === null || ref9 === void 0 ? void 0 : ref9.toUTC().toString(),\n        endAt: (ref10 = endAt.current) === null || ref10 === void 0 ? void 0 : ref10.toUTC().toString(),\n        view: selectedView\n      }, event);\n    }\n\n    isDraggingRef.current = false;\n    isUpdating.current = false;\n  };\n  /**\n  * Start event dragging on long press/touch\n  * Set listeners\n  * @param e\n  */\n\n\n  var onMouseDownLong = function (e) {\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e)) return;\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp, true);\n  };\n  /**\n  * Initial long press click/touch on event\n  * @param e\n  */\n\n\n  var onMouseDown = function (e) {\n    e.preventDefault();\n    e.stopPropagation(); // if (isDraggingRef.current) {\n    //   onMouseUp(e);\n    //   return;\n    // }\n\n    onMouseDownLong(e);\n  };\n\n  var oneDayStyle = {\n    width: width / $1500da26cef85c66$export$f16d393a3268e3f3(selectedView),\n    height: hourHeight * 24\n  };\n  var isToday = $d49542164c9bae14$export$2e2bcd8739ae039.isToday(day);\n  var isFirstDay = index === 0;\n  var dataForDay = data;\n  var dateNow = $cw6c3$luxon.DateTime.local();\n  var nowPosition = dateNow.diff($cw6c3$luxon.DateTime.local().set({\n    hour: 0,\n    minute: 0,\n    second: 0\n  }), 'minutes').toObject().minutes / (60 / hourHeight);\n  $cw6c3$react.useEffect(function () {\n    if (!store.config.autoScroll) return;\n\n    if (isToday) {\n      var elements = document.querySelectorAll('.calendar-body__wrapper');\n      var _iteratorNormalCompletion = true,\n          _didIteratorError = false,\n          _iteratorError = undefined;\n\n      try {\n        for (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var element = _step.value;\n          element.scrollTo({\n            top: nowPosition - 40,\n            behavior: 'smooth'\n          });\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, []);\n\n  var handleCloseNewEventDrag = function (e) {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    setOffsetTopEnd(null);\n    setOffsetTop(null); // setIsDraggingNewEvent(false);\n\n    isDraggingRef.current = false;\n    newEventStartOffset.current = null;\n    newEventEndOffset.current = null;\n    startAt.current = null;\n    endAt.current = null;\n    setStartAt(null);\n    setEndAt(null);\n    isUpdating.current = false;\n  };\n\n  $cw6c3$react.useEffect(function () {\n    if (!isNewEventOpen) handleCloseNewEventDrag();\n  }, [isNewEventOpen]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    id: \"Kalend__day__\".concat(day.toString()),\n    style: oneDayStyle,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    // onTouchStart={onMouseDown}\n    // onTouchMove={onMove}\n    // onTouchEnd={onMouseUp}\n    className: !isFirstDay ? $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__DayViewOneDay', isDark) : 'Kalend__DayViewOneDay',\n    children: [isToday && config.showTimeLine ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1a47dae3ce368d80$export$2e2bcd8739ae039, {}) : null, ((ref6 = store.daysViewLayout) === null || ref6 === void 0 ? void 0 : ref6[$bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(day)]) && dataForDay && dataForDay.length > 0 ? $17d79b7922eec8b8$var$renderEvents(dataForDay, day) : null, isDraggingRef.current ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        background: 'transparent',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        zIndex: 8\n      },\n      onClick: handleCloseNewEventDrag\n    }) : null, isDraggingRef.current ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: style,\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n        style: {\n          paddingTop: 4,\n          paddingLeft: 4,\n          fontSize: 12\n        },\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n          style: {\n            color: 'white'\n          },\n          children: \"New event\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n          style: {\n            color: 'white'\n          },\n          children: [startAtState ? startAtState.toFormat('HH:mm') : '', \" -\", ' ', endAtState ? endAtState.toFormat('HH:mm') : '']\n        })]\n      })\n    }) : null]\n  }, day.toString());\n};\n\nvar $17d79b7922eec8b8$export$2e2bcd8739ae039 = $17d79b7922eec8b8$var$DaysViewOneDay;\n\nvar $b65920b85a89468f$export$8b07b20d06dbc3c2 = function (offsetTopValue, offsetLeftValue, xShiftIndexRef, event, hourHeight) {\n  var originalStartAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.startAt);\n  var originalEndAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.endAt);\n  var goingForward = false;\n  if (offsetLeftValue >= 0) goingForward = true;else goingForward = false;\n  var newDay;\n  if (goingForward) newDay = originalStartAtDateTime.plus({\n    days: xShiftIndexRef.current\n  });else newDay = originalStartAtDateTime.minus({\n    days: Math.abs(xShiftIndexRef.current)\n  });\n  var diffInMinutes = originalEndAtDateTime.diff(originalStartAtDateTime, 'minutes').toObject().minutes;\n  var minutesOffset = offsetTopValue / hourHeight * 60; // add minutes calculated from new offset top\n\n  var newStartAt = originalStartAtDateTime.set({\n    year: newDay.year,\n    day: newDay.day,\n    month: newDay.month,\n    hour: 0,\n    minute: 0\n  }).plus({\n    minutes: minutesOffset\n  }); // set correct endAt\n\n  var newEndAt = newStartAt.plus({\n    minutes: diffInMinutes\n  });\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString()\n  });\n};\n\nvar $b65920b85a89468f$export$8c6a352b48fd8d92 = function (e, draggingRef, day, columnWidth, width, eventWasChangedRef, xShiftIndexRef, offsetLeftRef, offsetTopRef, setState) {\n  var ref, ref1;\n  if (!draggingRef.current) return;\n  if (!day) return;\n  var tableElement = document.querySelector('.Kalend__Calendar__table');\n  var tableElementRect = tableElement.getBoundingClientRect(); // Get column element for day, where event is placed\n\n  var dayElement = document.getElementById(\"Kalend__day__\".concat(day.toString()));\n  if (!dayElement) return;\n  var dayElementRect = dayElement.getBoundingClientRect();\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref1 = ref.touches) === null || ref1 === void 0 ? void 0 : ref1[0]; // set basic coordinates from movement\n\n  var x;\n  var y; // handle touch movement\n\n  if (touches) {\n    x = touches.clientX - dayElementRect.x;\n    y = touches.clientY - dayElementRect.top;\n  } else {\n    // handle mouse movement\n    // calculate x and y coordinates while following mouse move\n    x = e.clientX - dayElementRect.x;\n    y = e.clientY - dayElementRect.top;\n  } // prevent free dragging across columns with simple recalculation for\n\n\n  var columnShift = Math.floor(x / columnWidth);\n  var xTable = e.clientX - tableElementRect.x;\n  var columnShiftTable = Math.round(xTable / columnWidth); // restrict draggable space for timetable\n\n  if (y < 0) return;\n  eventWasChangedRef.current = true;\n  setState('offsetTop', y - $88a08af890f49243$export$eae15a231de23f4a);\n  offsetTopRef.current = y - $88a08af890f49243$export$eae15a231de23f4a; // prevent overflowing on x-axis\n\n  if (columnShiftTable * columnWidth >= width || xTable - $88a08af890f49243$export$447c5938f45c45a5 < 0) return;\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth);\n  offsetLeftRef.current = x;\n};\n\nvar $b65920b85a89468f$export$a8520376571bd6a0 = function (e, endAtRef, day, config, offsetTop, height, setState) {\n  var ref, ref2;\n  if (!day) return; // Get column element for day, where event is placed\n\n  var dayElement = document.getElementById(\"Kalend__day__\".concat(day.toString()));\n  if (!dayElement) return;\n  var dayElementRect = dayElement.getBoundingClientRect();\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref2 = ref.touches) === null || ref2 === void 0 ? void 0 : ref2[0]; // set basic coordinates from movement\n\n  var y; // handle touch movement\n\n  if (touches) y = touches.clientY - dayElementRect.top;else // handle mouse movement\n    y = e.clientY - dayElementRect.top; // restrict draggable space for timetable\n\n  if (y < 0) return;\n  var yString = (y / $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config)).toFixed(0).split('.');\n  var yValue = Number(yString[0]) * $17d79b7922eec8b8$export$51e2b98d4ac03ddd(config);\n  var endAtValue = $17d79b7922eec8b8$export$4f0cc7427b5c4255(yValue / config.hourHeight, day, config);\n  setState('height', Number(((y - offsetTop) / 15).toFixed(0)) * 15);\n  setState('endAt', endAtValue);\n  endAtRef.current = endAtValue.toUTC().toString();\n};\n\nvar $d936bbeb8e3b329f$export$fd46f924699b0eb4 = function (prevEvent, eventToUpdate, store, setContext, type, onEventDragFinish) {\n  var events = store.events;\n  var result = events === null || events === void 0 ? void 0 : events.map(function (item) {\n    if (item.id === eventToUpdate.id) return eventToUpdate;else return item;\n  }); // return updated data with callback\n\n  if (onEventDragFinish) onEventDragFinish(prevEvent, eventToUpdate, result);\n};\n\nvar $f7dc25aaa4235907$var$timeout;\n\nvar $f7dc25aaa4235907$var$ButtonBase = function (props) {\n  var id = props.id,\n      onClick = props.onClick,\n      text = props.text,\n      className = props.className,\n      style1 = props.style,\n      children = props.children,\n      propagation = props.propagation,\n      disabled = props.disabled,\n      onClickFromParent = props.onClickFromParent,\n      onMouseDown = props.onMouseDown,\n      onMouseUp = props.onMouseUp,\n      onMouseMove = props.onMouseMove,\n      onTouchEnd = props.onTouchEnd,\n      isDark = props.isDark;\n  var buttonRef = $cw6c3$react.useRef(null);\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isPressed = ref[0],\n      setIsPressed = ref[1];\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState({}), 2),\n      spanStyle = ref1[0],\n      setSpanStyle = ref1[1];\n\n  var onButtonClick = function (e) {\n    onClick(e);\n    if (onClickFromParent) onClickFromParent();\n  };\n\n  var animateRipple = function (event) {\n    var button = buttonRef.current;\n    if (!button) return;\n    var rect = button.getBoundingClientRect();\n    var oneSide = button.clientWidth > button.clientHeight ? button.clientWidth : button.clientHeight;\n    var touches = event.touches ? event.touches[0] : undefined;\n    var clickLeft;\n    var clickTop;\n\n    if (touches) {\n      clickLeft = touches.clientX - rect.left - oneSide;\n      clickTop = touches.clientY - rect.top - oneSide;\n    } else {\n      clickLeft = event.clientX;\n      clickTop = event.clientY;\n    }\n\n    var style = {\n      width: \"\".concat(oneSide * 2, \"px\"),\n      height: \"\".concat(oneSide * 2, \"px\"),\n      left: \"\".concat(clickLeft, \"px\"),\n      top: \"\".concat(clickTop, \"px\")\n    };\n    setSpanStyle(style);\n    setIsPressed(true);\n  };\n\n  var onTouchStart = function (e) {\n    if (!propagation) e.stopPropagation();\n    if (props.onTouchStart) props.onTouchStart(e);\n    if (isPressed) setIsPressed(false);\n    $f7dc25aaa4235907$var$timeout = setTimeout(function () {\n      animateRipple(e);\n    }, 100);\n  }; // Clear timeout for ripple effect\n\n\n  var onTouchMove = function (e) {\n    if (!propagation) e.stopPropagation();\n    if (props.onTouchMove) props.onTouchMove(e);\n    clearTimeout($f7dc25aaa4235907$var$timeout);\n  };\n\n  var buttonText = text ? text : '';\n  var buttonClassName = className ? \"Kalend__button \".concat(className, \" \").concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__ButtonBase', isDark)) : \"Kalend__button \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__ButtonBase', isDark));\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"button\", {\n    id: id,\n    ref: buttonRef,\n    onClick: onButtonClick,\n    onTouchMove: onTouchMove,\n    onTouchStart: onTouchStart,\n    onTouchEnd: onTouchEnd,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    onMouseMove: onMouseMove,\n    // onTouchStart={handleTouchStart}\n    // onMouseLeave={handleTouchOff}\n    // onTouchEnd={handleTouchOff}\n    // onTouchEndCapture={handleTouchCancel}\n    className: buttonClassName,\n    style: style1,\n    children: [children ? children : buttonText, isPressed && !disabled ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"span\", {\n      style: spanStyle,\n      className: 'Kalend__ButtonBase__animation'\n    }) : null]\n  });\n};\n\nvar $f7dc25aaa4235907$export$2e2bcd8739ae039 = $f7dc25aaa4235907$var$ButtonBase;\n\nvar $8304c40ecd0ca62c$var$EventSummary = function (props) {\n  var isDark = props.isDark,\n      summary = props.summary,\n      type = props.type,\n      isDarkColor = props.isDarkColor;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n    className: \" Kalend__text \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Event__summary', isDark), \" \").concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__Event__summary__type-\".concat(type), isDark), \" \").concat(isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'),\n    children: [summary, ' ']\n  });\n};\n\nvar $8304c40ecd0ca62c$export$2e2bcd8739ae039 = $8304c40ecd0ca62c$var$EventSummary;\nvar $5293df8efc30aa85$var$TIME_FORMAT_PATTERN = 'HH:mm';\nvar $5293df8efc30aa85$var$TIME_H_12_FORMAT_PATTERN = 'hh:mm a';\n\nvar $5293df8efc30aa85$var$parseTimeFormat = function (day, timeFormat) {\n  if (timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24) return day.toFormat($5293df8efc30aa85$var$TIME_FORMAT_PATTERN);else return day.toFormat($5293df8efc30aa85$var$TIME_H_12_FORMAT_PATTERN);\n};\n\nvar $5293df8efc30aa85$var$formatEventTimeV2 = function (event, timeFormat, timezone, endAtState) {\n  var startAt = event.startAt,\n      endAt = event.endAt,\n      timezoneStartAt = event.timezoneStartAt;\n  var startAtDateTime = $28306200f69a6328$export$6c2618c4afcf6cfb(startAt, timezoneStartAt, timezone);\n  var endAtDateTime = $28306200f69a6328$export$6c2618c4afcf6cfb(endAtState || endAt, timezoneStartAt, timezone);\n  return {\n    start: $5293df8efc30aa85$var$parseTimeFormat(startAtDateTime, timeFormat),\n    end: $5293df8efc30aa85$var$parseTimeFormat(endAtDateTime, timeFormat)\n  };\n};\n\nvar $5293df8efc30aa85$var$normalTime = function (timeFormat, event, timezone, type, isDark, endAt, isDarkColor) {\n  var timeV2 = $5293df8efc30aa85$var$formatEventTimeV2(event, timeFormat, timezone, endAt);\n  return timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12 ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n    className: \"Kalend__text \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__Event__time__type-\".concat(type), isDark), \" Kalend__Event__time \").concat(isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'),\n    children: [timeV2.start, /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"br\", {}), timeV2.end]\n  }) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n    className: \"Kalend__text \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__Event__time__type-\".concat(type), isDark), \" Kalend__Event__time \").concat(isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'),\n    children: [timeV2.start, \" - \", timeV2.end]\n  });\n};\n\nvar $5293df8efc30aa85$var$EventTime = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type,\n      endAt = props.endAt,\n      isDarkColor = props.isDarkColor;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var config = store.config;\n  var timezone = config.timezone,\n      timeFormat = config.timeFormat;\n  return type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA && event.allDay ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      className: \"Kalend__text \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__Event__time__type-\".concat(type), isDark), \" Kalend__Event__time \").concat(isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'),\n      children: \"All day\"\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      style: {\n        color: 'transparent',\n        padding: 0,\n        margin: 0,\n        fontSize: '0.8em'\n      },\n      children: \"123 12\"\n    })]\n  }) : $5293df8efc30aa85$var$normalTime(timeFormat, event, timezone, type, isDark, endAt, isDarkColor);\n};\n\nvar $5293df8efc30aa85$export$2e2bcd8739ae039 = $5293df8efc30aa85$var$EventTime;\n\nvar $82d351ff4940fae4$var$EventAgenda = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: 'Kalend__EventAgenda__container',\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($5293df8efc30aa85$export$2e2bcd8739ae039, {\n      isDark: isDark,\n      event: event,\n      type: type,\n      isDarkColor: isDark\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        style: {\n          width: 20,\n          height: 20,\n          borderRadius: '50%',\n          background: event.color,\n          marginLeft: 8,\n          marginRight: 8,\n          filter: isDark ? 'saturate(60%) brightness(120%)' : 'none'\n        }\n      })\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($8304c40ecd0ca62c$export$2e2bcd8739ae039, {\n      summary: event.summary,\n      isDark: isDark,\n      type: type,\n      isDarkColor: isDark\n    })]\n  });\n};\n\nvar $82d351ff4940fae4$export$2e2bcd8739ae039 = $82d351ff4940fae4$var$EventAgenda;\n\nvar $e4c1f2269414489f$var$EventMonth = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type,\n      isDarkColor = props.isDarkColor;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($8304c40ecd0ca62c$export$2e2bcd8739ae039, {\n    summary: event.summary,\n    isDark: isDark,\n    type: type,\n    isDarkColor: isDarkColor\n  });\n};\n\nvar $e4c1f2269414489f$export$2e2bcd8739ae039 = $e4c1f2269414489f$var$EventMonth;\n\nvar $05400c9842705755$var$EventNormal = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type,\n      meta = props.meta,\n      endAt = props.endAt,\n      isDarkColor = props.isDarkColor;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      maxWidth: '-webkit-fill-available'\n    },\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($8304c40ecd0ca62c$export$2e2bcd8739ae039, {\n      summary: event.summary,\n      isDark: isDark,\n      type: type,\n      isDarkColor: isDarkColor\n    }), (meta === null || meta === void 0 ? void 0 : meta.showTime) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($5293df8efc30aa85$export$2e2bcd8739ae039, {\n      isDark: isDark,\n      event: event,\n      type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL,\n      endAt: endAt,\n      isDarkColor: isDarkColor\n    }) : null]\n  });\n};\n\nvar $05400c9842705755$export$2e2bcd8739ae039 = $05400c9842705755$var$EventNormal;\n\nvar $66c3795c5fc7507d$var$StateReducer = function (state, action) {\n  // Replace whole state\n  if (!action.payload) return $cw6c3$swchelpers.objectSpread({}, state, action);\n  var _payload = action.payload,\n      stateName = _payload.stateName,\n      type = _payload.type,\n      data = _payload.data;\n  return $cw6c3$swchelpers.objectSpread({}, state, $cw6c3$swchelpers.defineProperty({}, stateName, data));\n};\n\nvar $66c3795c5fc7507d$export$2e2bcd8739ae039 = $66c3795c5fc7507d$var$StateReducer; // ref to cancel timout\n\nvar $b852c5f3008abacb$var$timeoutRef;\n\nvar $b852c5f3008abacb$export$7027e19dcb369b2d = function (colorString) {\n  try {\n    var color = $parcel$interopDefault($cw6c3$color)(colorString);\n    return color.isDark();\n  } catch (e) {\n    return false;\n  }\n};\n\nvar $b852c5f3008abacb$var$EventButton = function (props) {\n  var item1 = props.item,\n      type1 = props.type,\n      _day = props.day,\n      day = _day === void 0 ? $cw6c3$luxon.DateTime.now() : _day,\n      index = props.index;\n  var event = item1.event;\n  var startAt = event.startAt,\n      endAt = event.endAt;\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useReducer($66c3795c5fc7507d$export$2e2bcd8739ae039, $79dca703cc699b4f$export$2b35b885b699e674), 2),\n      state = ref2[0],\n      dispatchState = ref2[1];\n\n  var setState = function (stateName, data) {\n    var payload = {\n      stateName: stateName,\n      data: data\n    };\n    dispatchState({\n      state: state,\n      payload: payload\n    });\n  }; // store values as refs to access them in event listener\n\n\n  var offsetTopRef = $cw6c3$react.useRef(state.offsetTop);\n  var offsetLeftRef = $cw6c3$react.useRef(state.offsetLeft);\n  var xShiftIndexRef = $cw6c3$react.useRef(0);\n  var yShiftIndexRef = $cw6c3$react.useRef(0);\n  var draggingRef = $cw6c3$react.useRef(false);\n  var isResizing = $cw6c3$react.useRef(false);\n  var eventWasChangedRef = $cw6c3$react.useRef(false);\n  var endAtRef = $cw6c3$react.useRef(null);\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref1[0],\n      dispatch = ref1[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var width = store.width,\n      calendarDays = store.calendarDays,\n      config = store.config,\n      callbacks = store.callbacks,\n      height = store.height,\n      draggingDisabledConditions = store.draggingDisabledConditions;\n  var hourHeight = config.hourHeight,\n      isDark = config.isDark;\n  var onEventClick = callbacks.onEventClick,\n      onEventDragFinish = callbacks.onEventDragFinish;\n  var columnWidth = width / (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH ? 7 : calendarDays.length);\n  var eventColor = event.color ? $1500da26cef85c66$export$2d5ed1e6bc597003(event.color, isDark) : 'indigo';\n\n  var getPosition = function () {\n    if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA) return 'relative';else if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH && !draggingRef.current) return 'relative';else if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH) return 'fixed';else return 'absolute';\n  };\n\n  var isDarkColor = $b852c5f3008abacb$export$7027e19dcb369b2d(eventColor);\n  var style = {\n    position: getPosition(),\n    height: state.height !== null ? state.height : item1.height || $cw6c3$kalendlayoutconstants.MONTH_EVENT_HEIGHT,\n    width: state.width !== null ? state.width : item1.width || '100%',\n    top: state.offsetTop !== null ? state.offsetTop : item1.offsetTop,\n    left: state.offsetLeft !== null ? state.offsetLeft : item1.offsetLeft,\n    zIndex: state.zIndex || item1.zIndex,\n    border: state.zIndex > 2 ? \"solid 1px white\" : \"solid 1px \".concat(eventColor),\n    backgroundColor: eventColor,\n    visibility: 'visible'\n  };\n\n  var handleEventClick = function (e) {\n    e.preventDefault();\n    e.stopPropagation(); // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n    if (draggingRef.current) {\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      draggingRef.current = false;\n      return;\n    }\n\n    if (onEventClick) onEventClick(event, e);\n  };\n\n  var setLayout = function (layout) {\n    setState('initialTop', layout.offsetTop);\n    setState('initialLeft', layout.offsetLeft);\n    setState('offsetTop', layout.offsetTop);\n    setState('offsetLeft', layout.offsetLeft);\n    setState('drawingY', layout.offsetTop);\n    setState('startAt', startAt);\n    setState('width', layout.width);\n    setState('height', layout.height);\n    setState('zIndex', layout.zIndex);\n    setState('border', layout.border);\n    setState('meta', layout.meta);\n  };\n\n  $cw6c3$react.useEffect(function () {\n    setLayout(item1);\n    setState('endAt', endAt);\n  }, []);\n\n  var initMove = function () {\n    if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA) return;\n    if (!draggingRef.current) draggingRef.current = true;\n\n    if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL) {\n      setState('width', columnWidth - $88a08af890f49243$export$b4e2ba6756dec2c);\n      setState('offsetLeft', 0);\n    }\n  };\n\n  var onResize = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e)) return;\n    isResizing.current = true;\n    $b65920b85a89468f$export$a8520376571bd6a0(e, endAtRef, day, config, state.offsetTop, state.height, setState);\n  };\n\n  var onMove = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e)) return;\n\n    switch (type1) {\n      case $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL:\n        $b65920b85a89468f$export$8c6a352b48fd8d92(e, draggingRef, day, columnWidth, width, eventWasChangedRef, xShiftIndexRef, offsetLeftRef, offsetTopRef, setState);\n        break;\n\n      case $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER:\n        $df4cda54b7466b02$export$1fc19a5181516448(e, columnWidth, width, xShiftIndexRef, offsetLeftRef, eventWasChangedRef, setState);\n        break;\n\n      case $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH:\n        $e5a736e77c82a8d5$export$dc270e2350d64c2(e, height, draggingRef, day, columnWidth, width, xShiftIndexRef, yShiftIndexRef, eventWasChangedRef, offsetLeftRef, offsetTopRef, setState, index || 0);\n        break;\n\n      case $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH:\n        $082d0c87d15d5b42$export$286c3aed0632f6fd(e, height, draggingRef, day, width, xShiftIndexRef, yShiftIndexRef, eventWasChangedRef, offsetLeftRef, offsetTopRef, setState);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  var onMouseUpResize = function (e) {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUpResize, true);\n    document.removeEventListener('mousemove', onResize, true); // add data to callback\n\n    if (onEventDragFinish) {\n      if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL) {\n        var ref;\n        var updatedEvent = $cw6c3$swchelpers.objectSpread({}, event, {\n          endAt: endAtRef.current || state.endAt\n        });\n        var result = (ref = store.events) === null || ref === void 0 ? void 0 : ref.map(function (item) {\n          if (item.id === updatedEvent.id) return updatedEvent;else return item;\n        });\n        onEventDragFinish(event, updatedEvent, result);\n      }\n    }\n\n    endAtRef.current = null;\n    isResizing.current = false;\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  /**\n  * Cancel dragging event\n  * remove listeners clean long click timeout and reset state\n  * @param e\n  */\n\n\n  var onMouseUp = function (e) {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUp, true);\n    document.removeEventListener('mousemove', onMove, true); // clear timeout\n\n    clearTimeout($b852c5f3008abacb$var$timeoutRef);\n\n    if (!eventWasChangedRef.current) {\n      setState('offsetLeft', state.offsetLeft);\n      setState('width', state.width);\n      setState('isDragging', false);\n      draggingRef.current = false;\n      return;\n    }\n\n    eventWasChangedRef.current = false;\n    if (!draggingRef.current) return;\n    setTimeout(function () {\n      draggingRef.current = false;\n      setState('isDragging', false);\n    }, 100); // add data to callback\n\n    if (onEventDragFinish || config.hasExternalLayout) {\n      var newEvent = null;\n      if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL) newEvent = $b65920b85a89468f$export$8b07b20d06dbc3c2(offsetTopRef.current, offsetLeftRef.current, xShiftIndexRef, event, hourHeight);else if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER) newEvent = $df4cda54b7466b02$export$ff41551cf384acef(calendarDays, event, xShiftIndexRef);else if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH) newEvent = $e5a736e77c82a8d5$export$dd76bfaf05a6a47a(calendarDays, yShiftIndexRef, xShiftIndexRef, event);else if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH) newEvent = $082d0c87d15d5b42$export$a53075e16597084a(calendarDays, yShiftIndexRef, xShiftIndexRef, event);\n      if (newEvent) $d936bbeb8e3b329f$export$fd46f924699b0eb4(event, newEvent, store, setContext, type1, onEventDragFinish);\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  var onMouseDownResize = function (e) {\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e) || !onEventDragFinish) return;\n    var isDraggable = $bf7b38bce41ca3dd$export$7b553a398ff09de5(draggingDisabledConditions, event);\n    if (!isDraggable) return;\n    e.preventDefault();\n    e.stopPropagation();\n    isResizing.current = true;\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onResize, true);\n    document.addEventListener('mouseup', onMouseUpResize, true);\n  };\n  /**\n  * Start event dragging on long press/touch\n  * Set listeners\n  * @param e\n  */\n\n\n  var onMouseDownLong = function (e) {\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e)) return;\n    var isDraggable = $bf7b38bce41ca3dd$export$7b553a398ff09de5(draggingDisabledConditions, event);\n    if (!isDraggable) return;\n    setState('isDragging', true);\n    draggingRef.current = true;\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp, true); // set temp state while dragging\n\n    initMove();\n  };\n  /**\n  * Initial long press click/touch on event\n  * @param e\n  */\n\n\n  var onMouseDown = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (isResizing.current) return; // add timeout to differentiate from normal clicks\n\n    $b852c5f3008abacb$var$timeoutRef = setTimeout(function () {\n      onMouseDownLong(e);\n    }, 120);\n  };\n\n  return type1 !== $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n    id: event.id,\n    isDark: isDark,\n    style: style,\n    className: \"\".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__Event-\".concat(type1), store.isDark), \" \").concat(state.isDragging ? 'Kalend__EventButton__elevation' : ''),\n    onClick: handleEventClick,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    children: [type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH || type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER || type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($e4c1f2269414489f$export$2e2bcd8739ae039, {\n      event: event,\n      isDark: isDark,\n      type: type1,\n      isDarkColor: isDarkColor\n    }) : null, type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($05400c9842705755$export$2e2bcd8739ae039, {\n      event: event,\n      isDark: isDark,\n      type: type1,\n      meta: item1.meta,\n      endAt: state.endAt,\n      isDarkColor: isDarkColor\n    }) : null, isResizing.current ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__EventButton__resizing_wrapper',\n      onClick: function () {\n        isResizing.current = false;\n      }\n    }) : null, type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: 0,\n        height: 5,\n        width: '100%',\n        background: 'transparent',\n        zIndex: isResizing.current ? 999 : 9,\n        cursor: 'n-resize'\n      },\n      onClick: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        isResizing.current = true;\n      },\n      onMouseDown: onMouseDownResize,\n      onMouseUp: onMouseUpResize\n    }) : null]\n  }) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n    id: event.id,\n    isDark: false,\n    className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__Event-\".concat(type1), isDark),\n    onClick: handleEventClick,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($82d351ff4940fae4$export$2e2bcd8739ae039, {\n      event: event,\n      isDark: isDark,\n      type: type1\n    })\n  });\n};\n\nvar $b852c5f3008abacb$export$2e2bcd8739ae039 = $b852c5f3008abacb$var$EventButton;\n\nvar $86ca9f6752cc056e$var$renderEvents = function (events, timezone) {\n  if (!events || events.length === 0) return [];\n  var allDayEvents = [];\n  var normalEvents = [];\n  events === null || events === void 0 ? void 0 : events.forEach(function (item) {\n    if (item.allDay) allDayEvents.push(item);else normalEvents.push(item);\n  });\n  var sortedEvents = normalEvents === null || normalEvents === void 0 ? void 0 : normalEvents.sort(function (a, b) {\n    return $cw6c3$luxon.DateTime.fromISO(a.startAt).setZone(a.timezoneStartAt || timezone).toMillis() - $cw6c3$luxon.DateTime.fromISO(b.startAt).setZone(b.timezoneStartAt || timezone).toMillis();\n  });\n  sortedEvents = $cw6c3$swchelpers.toConsumableArray(allDayEvents).concat($cw6c3$swchelpers.toConsumableArray(sortedEvents));\n  return sortedEvents.map(function (event) {\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n      item: {\n        event: event\n      },\n      type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA\n    }, \"\".concat(event.id).concat(event.internalID ? event.internalID : ''));\n  });\n};\n\nvar $86ca9f6752cc056e$var$AgendaDayRow = function (props) {\n  var day = props.day,\n      events = props.events,\n      scrollToThis = props.scrollToThis;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var dayEvents = $86ca9f6752cc056e$var$renderEvents(events, store.config.timezone);\n  $cw6c3$react.useEffect(function () {\n    if (!store.config.autoScroll) return;\n\n    if (scrollToThis) {\n      var element = document.getElementById(day.toString());\n      if (element) element.scrollIntoView();\n    }\n  }, []);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__AgendaDayRow__container', store.isDark),\n    id: day.toString(),\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__AgendaDayRow__container-day',\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($0689dc746d054cae$export$2e2bcd8739ae039, {\n        day: day,\n        width: 50\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($ecf585202d453fcb$export$2e2bcd8739ae039, {\n        width: 50,\n        day: day\n      })]\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__AgendaDayRow__events',\n      children: dayEvents\n    })]\n  });\n};\n\nvar $86ca9f6752cc056e$export$2e2bcd8739ae039 = $86ca9f6752cc056e$var$AgendaDayRow;\n\nvar $ae9d5d34ac1cc52f$var$renderAgendaEvents = function (events, calendarDays) {\n  var scrollToSet = false;\n  return calendarDays.map(function (calendarDay) {\n    var hasEvents = !!events[calendarDay.toFormat($d49542164c9bae14$export$74b2237eca26435b)];\n    var scrollToThis = false;\n\n    if (hasEvents) {\n      if (!scrollToSet && $d49542164c9bae14$export$2e2bcd8739ae039.isTodayOrInFuture(calendarDay)) {\n        scrollToSet = true;\n        scrollToThis = true;\n      }\n\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($86ca9f6752cc056e$export$2e2bcd8739ae039, {\n        scrollToThis: scrollToThis,\n        day: calendarDay,\n        events: events[calendarDay.toFormat($d49542164c9bae14$export$74b2237eca26435b)]\n      }, calendarDay.toString());\n    }\n  });\n};\n\nvar $ae9d5d34ac1cc52f$var$AgendaView = function (props) {\n  var events = props.events,\n      eventLayouts = props.eventLayouts;\n  var ref3 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      wasInit = ref3[0],\n      setWasInit = ref3[1];\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      calendarContent = ref1[0],\n      setCalendarContent = ref1[1];\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref2[0],\n      dispatch = ref2[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var calendarDays = store.calendarDays,\n      width = store.width,\n      height = store.height;\n  var hasExternalLayout = eventLayouts !== undefined;\n  $cw6c3$react.useEffect(function () {\n    if (!hasExternalLayout) {\n      $parcel$interopDefault($cw6c3$kalendlayout)({\n        events: events,\n        selectedView: $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA,\n        height: height,\n        width: width,\n        calendarDays: [],\n        config: store.config\n      }).then(function (res) {\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n        var content = $ae9d5d34ac1cc52f$var$renderAgendaEvents(res.events, calendarDays);\n        setCalendarContent(content);\n      });\n      setWasInit(true);\n    }\n  }, [calendarDays[0]]);\n  $cw6c3$react.useEffect(function () {\n    // don't need to call this immediately\n    if (wasInit) {\n      if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n        events: events,\n        selectedView: $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA,\n        height: height,\n        width: width,\n        calendarDays: [],\n        config: store.config\n      }).then(function (res) {\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n        var content = $ae9d5d34ac1cc52f$var$renderAgendaEvents(res.events, calendarDays);\n        setCalendarContent(content);\n      });\n    }\n  }, [JSON.stringify(events)]);\n  $cw6c3$react.useEffect(function () {\n    if (hasExternalLayout && $bf7b38bce41ca3dd$export$e3e4ea182aca355e(props.eventLayouts.selectedView) === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA) {\n      var ref;\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n      var content = $ae9d5d34ac1cc52f$var$renderAgendaEvents((ref = props.eventLayouts) === null || ref === void 0 ? void 0 : ref.events, calendarDays);\n      setCalendarContent(content);\n    }\n  }, [JSON.stringify(props.eventLayouts)]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__Agenda__container',\n    style: {\n      height: '100%'\n    },\n    children: calendarContent\n  });\n};\n\nvar $ae9d5d34ac1cc52f$export$2e2bcd8739ae039 = $ae9d5d34ac1cc52f$var$AgendaView;\n\nvar $cea2a6b325f4edcd$var$CalendarIcon = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    fill: props.fill,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"calendar\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"8\",\n          cy: \"16\",\n          r: \"1\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $cea2a6b325f4edcd$export$2e2bcd8739ae039 = $cea2a6b325f4edcd$var$CalendarIcon;\n\nvar $de758c447aa9231a$var$ChevronDown = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"chevron-down\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $de758c447aa9231a$export$2e2bcd8739ae039 = $de758c447aa9231a$var$ChevronDown;\n\nvar $2764ed95df1a4c11$var$ChevronLeft = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"chevron-left\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          transform: \"rotate(90 12 12)\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $2764ed95df1a4c11$export$2e2bcd8739ae039 = $2764ed95df1a4c11$var$ChevronLeft;\n\nvar $ddaf3c6577962ab4$var$ChevronRight = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"chevron-right\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          transform: \"rotate(-90 12 12)\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $ddaf3c6577962ab4$export$2e2bcd8739ae039 = $ddaf3c6577962ab4$var$ChevronRight;\n\nvar $e5981d21af543faf$var$MenuIcon = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    className: props.className,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"more-vertical\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          transform: \"rotate(-90 12 12)\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"12\",\n          cy: \"12\",\n          r: \"2\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"12\",\n          cy: \"5\",\n          r: \"2\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"12\",\n          cy: \"19\",\n          r: \"2\"\n        })]\n      })\n    })\n  });\n};\n\nvar $e5981d21af543faf$export$2e2bcd8739ae039 = $e5981d21af543faf$var$MenuIcon;\nvar $1c7a61445362ebf7$export$a9676248d3e54baf = {\n  ChevronDown: $de758c447aa9231a$export$2e2bcd8739ae039,\n  ChevronLeft: $2764ed95df1a4c11$export$2e2bcd8739ae039,\n  ChevronRight: $ddaf3c6577962ab4$export$2e2bcd8739ae039,\n  Calendar: $cea2a6b325f4edcd$export$2e2bcd8739ae039,\n  More: $e5981d21af543faf$export$2e2bcd8739ae039\n};\n\nvar $63103f0ef67d319d$export$3d0db7ed812b6b3f = function (calendarDays, calendarView, direction, weekDayStart, dispatchContext) {\n  var setSelectedDate = function (date) {\n    if (dispatchContext) dispatchContext('selectedDate', date);\n  };\n\n  var newCalendarDays = $1500da26cef85c66$export$20dc9138dd5b1a6a(direction, calendarDays, calendarView, setSelectedDate, weekDayStart);\n  if (dispatchContext) dispatchContext('calendarDays', newCalendarDays);\n  return newCalendarDays; // dispatchContext(\n  //   'selectedDate',\n  //   newCalendarDays[chooseSelectedDateIndex(calendarView)]\n  // );\n};\n\nvar $63103f0ef67d319d$export$28b655052872eb26 = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee(selectedView, setContext, weekDayStart, param) {\n  var dateNow;\n  return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n    while (1) switch (_ctx.prev = _ctx.next) {\n      case 0:\n        dateNow = param === void 0 ? $cw6c3$luxon.DateTime.now() : param;\n        $63103f0ef67d319d$export$3d0db7ed812b6b3f([dateNow], selectedView, $e4750b0ebeed8e48$export$c2bed76d77ee7287.TODAY, weekDayStart, setContext);\n\n      case 2:\n      case \"end\":\n        return _ctx.stop();\n    }\n  }, _callee);\n}));\n\nvar $224cea852abf103b$var$ButtonIcon = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isPressed = ref[0],\n      setIsPressed = ref[1];\n  var children = props.children,\n      onClick = props.onClick,\n      size = props.size,\n      disabled = props.disabled,\n      isDark = props.isDark,\n      iconSize = props.iconSize,\n      noActive = props.noActive,\n      backdropClassName = props.backdropClassName,\n      style = props.style;\n\n  var handleTouchStart = function () {\n    return setIsPressed(true);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  var handleTouchOff = function (e) {\n    return setIsPressed(false);\n  };\n\n  var containerClassName = !size ? 'Kalend__ButtonIcon__container' : \"Kalend__ButtonIcon__container-\".concat(size);\n  var backdropClassNameString = backdropClassName ? backdropClassName : 'Kalend__ButtonIcon__backdrop';\n  var buttonClassName = noActive ? \"\".concat(disabled ? 'Kalend__ButtonIcon__disabled ' : '', \"Kalend__ButtonIcon-inactive\") : \"\".concat(disabled ? 'Kalend__ButtonIcon__disabled ' : '', \"Kalend__ButtonIcon\");\n  var IconElement = /*#__PURE__*/$parcel$interopDefault($cw6c3$react).cloneElement(children, {\n    className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65(\"Kalend__ButtonIcon__svg\".concat(iconSize ? \"-\".concat(iconSize) : '-normal'), isDark)\n  });\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: containerClassName,\n    style: style,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"button\", {\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65(buttonClassName, isDark),\n      onClick: onClick,\n      disabled: disabled,\n      onTouchStart: handleTouchStart,\n      onTouchEnd: handleTouchOff,\n      children: [IconElement, isPressed ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: backdropClassNameString\n      }) : null]\n    })\n  });\n};\n\nvar $224cea852abf103b$export$2e2bcd8739ae039 = $224cea852abf103b$var$ButtonIcon;\n\nvar $6188babcb8da6286$var$HeaderCalendarButton = function (props) {\n  var buttonData = props.buttonData,\n      setViewChanged = props.setViewChanged,\n      handleClose = props.handleClose,\n      isForcedMobile = props.isForcedMobile;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      selectedView = store.selectedView,\n      isMobile = store.isMobile;\n  var isSelected = buttonData.value === selectedView;\n  var buttonClassName = \"Kalend__header_calendar_button\".concat(isSelected ? '-selected' : '');\n  var textClassName = \"Kalend__text Kalend__header_calendar_button-text\".concat(isSelected ? '-selected' : '');\n\n  var navigateFunction = function () {\n    if (handleClose) handleClose();\n    setViewChanged(buttonData.value);\n  };\n\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08(buttonClassName, isMobile || isForcedMobile, isDark),\n    isDark: isDark,\n    onClick: navigateFunction,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08(textClassName, isMobile, isDark),\n      children: buttonData.label\n    })\n  });\n};\n\nvar $6188babcb8da6286$export$72c130881ba16236 = function (disabledViews) {\n  if (!disabledViews || disabledViews && (disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.length) + 1 !== Object.values($e4750b0ebeed8e48$export$ec9758e21af63072).length) return false;\n  return true;\n};\n/**\n * Buttons for switching calendar view in desktop layout\n * @constructor\n */\n\n\nvar $6188babcb8da6286$var$HeaderCalendarButtons = function (props) {\n  var setViewChanged = props.setViewChanged,\n      handleClose = props.handleClose,\n      isForcedMobile = props.isForcedMobile;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      isMobile = store.isMobile,\n      translations = store.translations,\n      config = store.config;\n  var disabledViews = config.disabledViews;\n  return $6188babcb8da6286$export$72c130881ba16236(disabledViews) ? null : /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08('Kalend__header_calendar_buttons__container', !!(isMobile || isForcedMobile), isDark),\n    children: [!(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: translations['buttons']['agenda'],\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.DAY)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: translations['buttons']['day'],\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.DAY\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: translations['buttons']['threeDays'],\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.WEEK)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: translations['buttons']['week'],\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.MONTH)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: translations['buttons']['month'],\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null]\n  });\n};\n\nvar $6188babcb8da6286$export$2e2bcd8739ae039 = $6188babcb8da6286$var$HeaderCalendarButtons;\n\nvar $95f304efc96ef4c9$var$CalendarViewDropdown = function (props) {\n  var setViewChanged = props.setViewChanged;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isOpen = ref[0],\n      setOpen = ref[1];\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref1[0];\n  var config = store.config,\n      isMobile = store.isMobile,\n      selectedView = store.selectedView,\n      translations = store.translations;\n  var isDark = config.isDark,\n      disabledViews = config.disabledViews,\n      disableMobileDropdown = config.disableMobileDropdown;\n\n  var handleOpen = function () {\n    return setOpen(true);\n  };\n\n  var handleClose = function () {\n    return setOpen(false);\n  };\n\n  var preventDefault = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  return isMobile && (disableMobileDropdown || $6188babcb8da6286$export$72c130881ba16236(disabledViews)) || $6188babcb8da6286$export$72c130881ba16236(disabledViews) ? null : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($cw6c3$reactjsxruntime.Fragment, {\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__CalendarViewDropdown__wrapper',\n      children: [isMobile ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n        isDark: isDark,\n        onClick: handleOpen,\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.More, {\n          className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('icon-svg', isDark)\n        })\n      }, 'calendar') : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n        isDark: isDark,\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__ButtonBase-border', isDark),\n        onClick: handleOpen,\n        text: $bf7b38bce41ca3dd$export$205aaf06acb1c5fc(selectedView, translations)\n      }), isOpen ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: 'Kalend__CalendarViewDropdown__backdrop',\n        onClick: handleClose\n      }) : null, isOpen ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__CalendarViewDropdown__container', isDark),\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n          className: 'Kalend__CalendarViewDropdown__container-content',\n          onClick: preventDefault,\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$export$2e2bcd8739ae039, {\n            disabledViews: disabledViews,\n            setViewChanged: setViewChanged,\n            handleClose: handleClose,\n            isForcedMobile: true\n          })\n        })\n      }) : null]\n    })\n  });\n};\n\nvar $95f304efc96ef4c9$export$2e2bcd8739ae039 = $95f304efc96ef4c9$var$CalendarViewDropdown;\n\nvar $d2b46716a1f3a2a1$var$DesktopLayout = function (props) {\n  var children = props.children;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isMobile = store.isMobile;\n  return !isMobile ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__DesktopLayout',\n    children: children\n  }) : null;\n};\n\nvar $d2b46716a1f3a2a1$export$2e2bcd8739ae039 = $d2b46716a1f3a2a1$var$DesktopLayout;\n/**\n * Calendar title in header in month date format\n * @param props\n * @constructor\n */\n\nvar $e8a58db0b7f8e0e1$var$HeaderCalendarTitle = function (props) {\n  var title = props.title;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      isMobile = store.isMobile;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08(\"Kalend__HeaderCalendarTitle__container\", isMobile),\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08('Kalend__text Kalend__HeaderCalendarTitle', isMobile, isDark),\n      children: title\n    })\n  });\n};\n\nvar $e8a58db0b7f8e0e1$export$2e2bcd8739ae039 = $e8a58db0b7f8e0e1$var$HeaderCalendarTitle;\n\nvar $60dd5ae4676e5d2e$var$MobileLayout = function (props) {\n  var children = props.children,\n      style = props.style;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isMobile = store.isMobile;\n  return isMobile ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__MobileLayout',\n    style: style,\n    children: children\n  }) : null;\n};\n\nvar $60dd5ae4676e5d2e$export$2e2bcd8739ae039 = $60dd5ae4676e5d2e$var$MobileLayout;\n/**\n * Title with calendar navigation buttons for desktop layout\n * @param props\n * @constructor\n */\n\nvar $21db0de5ba63f204$var$CalendarDesktopNavigation = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var config = store.config,\n      calendarDays = store.calendarDays,\n      selectedView = store.selectedView,\n      selectedDate = store.selectedDate,\n      isMobile = store.isMobile,\n      width = store.width,\n      translations = store.translations;\n  var weekDayStart = config.weekDayStart,\n      isDark = config.isDark;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(true), 2),\n      isFullNavigationHidden = ref1[0],\n      setIsFullNavigationHidden = ref1[1];\n  var titleDate = $cw6c3$luxon.DateTime.fromISO(selectedDate);\n  var title = \"\".concat(translations['months'][\"\".concat(titleDate.toFormat('MMMM').toLowerCase())], \" \").concat(titleDate.toFormat('yyyy'));\n  var navigateBackwards = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee() {\n    return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n      while (1) switch (_ctx.prev = _ctx.next) {\n        case 0:\n          setContext('calendarContent', null);\n          setContext('direction', $e4750b0ebeed8e48$export$c2bed76d77ee7287.BACKWARDS);\n          $63103f0ef67d319d$export$3d0db7ed812b6b3f(calendarDays, selectedView, $e4750b0ebeed8e48$export$c2bed76d77ee7287.BACKWARDS, weekDayStart, setContext);\n\n        case 3:\n        case \"end\":\n          return _ctx.stop();\n      }\n    }, _callee);\n  }));\n  var navigateForward = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee() {\n    return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n      while (1) switch (_ctx.prev = _ctx.next) {\n        case 0:\n          setContext('calendarContent', null);\n          setContext('direction', $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD);\n          $63103f0ef67d319d$export$3d0db7ed812b6b3f(calendarDays, selectedView, $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD, weekDayStart, setContext);\n\n        case 3:\n        case \"end\":\n          return _ctx.stop();\n      }\n    }, _callee);\n  }));\n  var navigateToTodayDate = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee() {\n    return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n      while (1) switch (_ctx.prev = _ctx.next) {\n        case 0:\n          setContext('calendarContent', null);\n          setContext('direction', $e4750b0ebeed8e48$export$c2bed76d77ee7287.TODAY);\n          _ctx.next = 4;\n          return $63103f0ef67d319d$export$28b655052872eb26(selectedView, setContext, weekDayStart, $cw6c3$luxon.DateTime.now());\n\n        case 4:\n        case \"end\":\n          return _ctx.stop();\n      }\n    }, _callee);\n  })); // handle showing  full desktop navigation panel or dropdown for\n  // different screen size\n\n  $cw6c3$react.useEffect(function () {\n    var element = document.querySelector($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('.Kalend__CalendarDesktopNavigation__container', isDark));\n\n    if (element) {\n      if (element) {\n        if (element.getBoundingClientRect().width <= 950) setIsFullNavigationHidden(true);else setIsFullNavigationHidden(false);\n      }\n    }\n  }, [width]); // add funcs to ref\n\n  $cw6c3$react.useEffect(function () {\n    if (props.kalendRef) props.kalendRef.current = {\n      navigateToTodayDate: navigateToTodayDate,\n      navigateForward: navigateForward,\n      navigateBackwards: navigateBackwards\n    };\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    if (props.kalendRef) props.kalendRef.current = {\n      navigateToTodayDate: navigateToTodayDate,\n      navigateForward: navigateForward,\n      navigateBackwards: navigateBackwards\n    };\n  }, [selectedView, calendarDays[0].toString()]);\n  return props.kalendRef ? null : /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08('Kalend__CalendarDesktopNavigation__container', isMobile, isDark),\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        width: isMobile ? '100%' : 'auto'\n      },\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($d2b46716a1f3a2a1$export$2e2bcd8739ae039, {\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n          className: 'Kalend__CalendarDesktopNavigation__buttons',\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n            children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n              className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__ButtonBase-border', isDark),\n              isDark: isDark,\n              onClick: navigateToTodayDate,\n              children: translations['buttons']['today']\n            }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateBackwards,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronLeft, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'left'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateForward,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronRight, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'right')]\n          })\n        })\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($e8a58db0b7f8e0e1$export$2e2bcd8739ae039, {\n        title: title\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($60dd5ae4676e5d2e$export$2e2bcd8739ae039, {\n        style: {\n          width: '100%'\n        },\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n          className: 'Kalend__CalendarDesktopNavigation__buttons',\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n            children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateBackwards,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronLeft, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'left'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateForward,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronRight, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'right'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateToTodayDate,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.Calendar, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'calendar'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($95f304efc96ef4c9$export$2e2bcd8739ae039, {\n              disabledViews: props.disabledViews,\n              setViewChanged: props.setViewChanged,\n              disableMobileDropdown: props.disableMobileDropdown\n            })]\n          })\n        })\n      })]\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginRight: 12,\n        justifyContent: 'flex-end',\n        flex: 'auto'\n      },\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($d2b46716a1f3a2a1$export$2e2bcd8739ae039, {\n        children: isFullNavigationHidden ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($95f304efc96ef4c9$export$2e2bcd8739ae039, {\n          disabledViews: props.disabledViews,\n          setViewChanged: props.setViewChanged,\n          disableMobileDropdown: props.disableMobileDropdown\n        }) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$export$2e2bcd8739ae039, {\n          disabledViews: props.disabledViews,\n          setViewChanged: props.setViewChanged\n        })\n      })\n    })]\n  });\n};\n\nvar $21db0de5ba63f204$export$2e2bcd8739ae039 = $21db0de5ba63f204$var$CalendarDesktopNavigation;\n\nvar $9a525da4604d3f07$var$CalendarHeaderColText = function (props) {\n  var children = props.children;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderColText__container',\n    children: children\n  });\n};\n\nvar $9a525da4604d3f07$export$2e2bcd8739ae039 = $9a525da4604d3f07$var$CalendarHeaderColText;\n\nvar $2a3380b4418c18d4$var$CalendarHeaderCol = function (props) {\n  var children = props.children;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      selectedView = store.selectedView;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: \"\".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__CalendarHeaderCol', isDark)).concat(selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? '-month' : ''),\n    children: children\n  });\n};\n\nvar $2a3380b4418c18d4$export$2e2bcd8739ae039 = $2a3380b4418c18d4$var$CalendarHeaderCol;\n/**\n * Get numeric representation of days\n *\n * @param props\n * @constructor\n */\n\nvar $0c3afbe9f694dbf0$var$CalendarHeaderDates = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      isMobile = store.isMobile,\n      selectedView = store.selectedView;\n  var daysNum = props.daysNum,\n      calendarDays = props.calendarDays;\n  var colWidth = $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, selectedView) / daysNum;\n\n  var renderNumericDays = function () {\n    return calendarDays.map(function (calendarDay) {\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($ecf585202d453fcb$export$2e2bcd8739ae039, {\n        width: colWidth,\n        day: calendarDay,\n        setViewChanged: props.setViewChanged\n      }, calendarDay.toString());\n    });\n  };\n\n  var numericDays = renderNumericDays();\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($2a3380b4418c18d4$export$2e2bcd8739ae039, {\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($9a525da4604d3f07$export$2e2bcd8739ae039, {\n      children: numericDays\n    })\n  });\n};\n\nvar $0c3afbe9f694dbf0$export$2e2bcd8739ae039 = $0c3afbe9f694dbf0$var$CalendarHeaderDates;\n/**\n * Render text representation of days\n *\n * @param props\n * @constructor\n */\n\nvar $386a7bec00aa15a1$var$CalendarHeaderWeekDays = function (props) {\n  var daysNum = props.daysNum,\n      days = props.days;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      selectedView = store.selectedView,\n      isMobile = store.isMobile,\n      config = store.config,\n      translations = store.translations;\n  var weekDayStart = config.weekDayStart;\n  var isMonthView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  var colWidth = isMonthView ? width / daysNum : $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, selectedView) / daysNum;\n  var weekDays = weekDayStart === $e4750b0ebeed8e48$export$5a05f7ffc0500403.SUNDAY ? $1500da26cef85c66$export$88e7cb308ec58e48 : $1500da26cef85c66$export$933d53aed74a6ef0;\n\n  var renderDaysText = function () {\n    var dayTextColumnWidth = {\n      width: colWidth\n    };\n    if (isMonthView) return weekDays.map(function (day) {\n      /*#__PURE__*/\n      return $cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: 'Kalend__CalendarHeaderWeekDays__col',\n        style: dayTextColumnWidth,\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n          className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__text Kalend__CalendarHeaderWeekDays__text', store.isDark),\n          children: translations['weekDays'][\"\".concat(day)]\n        })\n      }, day);\n    });\n    return days.map(function (calendarDay) {\n      /*#__PURE__*/\n      return $cw6c3$reactjsxruntime.jsx($0689dc746d054cae$export$2e2bcd8739ae039, {\n        day: calendarDay,\n        width: colWidth\n      }, calendarDay.toString());\n    });\n  };\n\n  var namesForDays = renderDaysText();\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderWeekDays__wrapper',\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarHeaderWeekDays__container',\n      children: namesForDays\n    })\n  });\n};\n\nvar $386a7bec00aa15a1$export$2e2bcd8739ae039 = $386a7bec00aa15a1$var$CalendarHeaderWeekDays;\n\nvar $a214409a8fa5f760$var$CalendarHeaderWrapper = function (props) {\n  var children = props.children,\n      isMonthView = props.isMonthView;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      rawWidth = store.rawWidth,\n      isDark = store.isDark,\n      showWeekNumbers = store.showWeekNumbers;\n  var headerStyle = {\n    paddingLeft: isMonthView ? showWeekNumbers ? 30 : 0 : $88a08af890f49243$export$447c5938f45c45a5,\n    width: isMonthView && !showWeekNumbers ? rawWidth : width\n  };\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__CalendarHeaderCol', isDark),\n    style: headerStyle,\n    children: children\n  });\n};\n\nvar $a214409a8fa5f760$export$2e2bcd8739ae039 = $a214409a8fa5f760$var$CalendarHeaderWrapper;\n\nvar $2d4e959c42b07254$var$CalendarHeaderDays = function (props) {\n  var isMonthView = props.isMonthView;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var calendarDays = store.calendarDays,\n      selectedDate = store.selectedDate,\n      selectedView = store.selectedView,\n      showWeekNumbers = store.showWeekNumbers,\n      translations = store.translations;\n  var daysNum = isMonthView ? 7 : calendarDays.length;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($a214409a8fa5f760$export$2e2bcd8739ae039, {\n    isMonthView: isMonthView,\n    children: [!isMonthView && selectedView !== $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA && showWeekNumbers ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        left: 8\n      },\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n        className: 'Kalend__WeekNumbersCol__text-weekdays',\n        children: [translations['weekShort'], selectedDate.weekNumber]\n      })\n    }) : null, /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($9a525da4604d3f07$export$2e2bcd8739ae039, {\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($386a7bec00aa15a1$export$2e2bcd8739ae039, {\n        daysNum: daysNum,\n        days: calendarDays\n      })\n    }), !isMonthView ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($9a525da4604d3f07$export$2e2bcd8739ae039, {\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($0c3afbe9f694dbf0$export$2e2bcd8739ae039, {\n        calendarDays: calendarDays,\n        daysNum: daysNum,\n        setViewChanged: props.setViewChanged\n      })\n    }) : null]\n  });\n};\n\nvar $2d4e959c42b07254$export$2e2bcd8739ae039 = $2d4e959c42b07254$var$CalendarHeaderDays;\n\nvar $89f45f2bf33757e0$var$CalendarHeaderEvents = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var selectedView = store.selectedView,\n      width = store.width,\n      calendarDays = store.calendarDays;\n\n  var renderEvents = function (data, sequence) {\n    return data === null || data === void 0 ? void 0 : data.map(function (item) {\n      // const item: any = keyValue[1];\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n        item: item,\n        type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER\n      }, \"\".concat(item.event.id).concat(item.event.internalID ? item.event.internalID : '') + sequence);\n    });\n  };\n\n  var column = width / $1500da26cef85c66$export$f16d393a3268e3f3(selectedView);\n  var colWidthStyle = {\n    width: column\n  };\n  var daysNumbers = calendarDays.map(function (calendarDay) {\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarHeaderEvents__col-wrapper',\n      style: colWidthStyle\n    }, calendarDay.toString());\n  });\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      headerEvents = ref1[0],\n      setHeaderEvents = ref1[1];\n  var headerStyle = {\n    // paddingLeft: CALENDAR_OFFSET_LEFT,\n    height: store.headerEventRowsCount + 20\n  }; // useEffect(() => {\n  //   // setTimeout(() => {\n  //   setContext('height', getHeight());\n  //   // }, 600);\n  // }, [store.headerEventRowsCount]);\n  // useEffect(() => {\n  //   // set animation\n  //   setAnimation('Kalend__CalendarHeaderEvents_animationExpand');\n  //   // clean animation\n  //   setTimeout(() => {\n  //     setAnimation('');\n  //   }, 600);\n  // }, [store.headerEventRowsCount]);\n\n  $cw6c3$react.useEffect(function () {\n    var headerEventsRaw = renderEvents(store.headerLayout, store.layoutUpdateSequence + 1);\n    setHeaderEvents(headerEventsRaw);\n  }, [JSON.stringify(store.headerLayout)]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: \"Kalend__CalendarHeaderEvents__container\",\n    style: headerStyle,\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarHeaderEvents__row',\n      children: daysNumbers\n    }), headerEvents]\n  });\n};\n\nvar $89f45f2bf33757e0$export$2e2bcd8739ae039 = $89f45f2bf33757e0$var$CalendarHeaderEvents;\n\nvar $58f20473f1f0067a$var$CalendarHeader = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      width = store.width,\n      selectedView = store.selectedView;\n  var isDayView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY;\n  var isMonthView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: \"Kalend__CalendarHeader\".concat(!isMonthView ? '-tall' : '').concat(isDayView ? '-day' : '').concat(isMonthView ? '-small' : '').concat(isDark ? '-dark' : ''),\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($2d4e959c42b07254$export$2e2bcd8739ae039, {\n      width: width,\n      isMonthView: isMonthView,\n      setViewChanged: props.setViewChanged\n    }), !isMonthView && store.headerLayout && store.headerLayout.length ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($89f45f2bf33757e0$export$2e2bcd8739ae039, {}) : null]\n  });\n};\n\nvar $58f20473f1f0067a$export$2e2bcd8739ae039 = $58f20473f1f0067a$var$CalendarHeader;\n\nvar $f89b7b16d8022e68$var$CalendarTableLayoutLayer = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var calendarDays = store.calendarDays,\n      selectedView = store.selectedView,\n      callbacks = store.callbacks,\n      config = store.config,\n      width = store.width,\n      direction = store.direction;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isMounted = ref1[0],\n      setIsMounted = ref1[1];\n  $cw6c3$react.useEffect(function () {\n    var rootEl = document.querySelector('.Kalend__Calendar__table');\n    if (rootEl) setIsMounted(true);\n  }, [document.querySelector('.Kalend__Calendar__table')]); // Expose basic state to outside\n\n  $cw6c3$react.useLayoutEffect(function () {\n    if (callbacks.onStateChange && isMounted) {\n      var data = {\n        selectedView: selectedView,\n        calendarDays: calendarDays,\n        range: $cw6c3$swchelpers.objectSpread({}, $1500da26cef85c66$export$fef151b94550e9f5(calendarDays), {\n          direction: direction\n        }),\n        width: width,\n        config: config,\n        isMobile: store.isMobile,\n        height: store.height,\n        selectedDate: store.selectedDate.toUTC().toString()\n      };\n      callbacks.onStateChange(data);\n    }\n  }, [selectedView, JSON.stringify(calendarDays), width, JSON.stringify(config), store.isMobile, isMounted, direction]);\n  $cw6c3$react.useEffect(function () {\n    if (callbacks.onStateChange && isMounted) {\n      var data = {\n        selectedView: selectedView,\n        calendarDays: calendarDays,\n        range: $cw6c3$swchelpers.objectSpread({}, $1500da26cef85c66$export$fef151b94550e9f5(calendarDays), {\n          direction: direction\n        }),\n        width: width,\n        config: config,\n        isMobile: store.isMobile,\n        height: store.height,\n        selectedDate: store.selectedDate.toUTC().toString()\n      };\n      callbacks.onStateChange(data);\n    }\n  }, []);\n  return isMounted ? props.children : null;\n};\n\nvar $f89b7b16d8022e68$export$2e2bcd8739ae039 = $f89b7b16d8022e68$var$CalendarTableLayoutLayer;\n\nvar $db9a28e0bd6328b4$var$getOffsetTop = function (hour, format, hourHeight, isAfter12) {\n  if (format === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24) return parseInt(hour) * hourHeight - 4;\n  if (format === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12 && !isAfter12) return parseInt(hour) * hourHeight - 4;else return (parseInt(hour) + 12) * hourHeight - 4;\n};\n\nvar $db9a28e0bd6328b4$var$renderHours = function (width, hourHeight, isDark, timeFormat) {\n  var isAfter12 = false;\n  return $bf7b38bce41ca3dd$export$d9b78e6f3f437c1f(timeFormat).map(function (hour) {\n    if (hour === '1 PM') isAfter12 = true;\n    return hour === '00' || hour === '24' || hour === '0 AM' || hour === '24 PM' ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarBodyHours__container',\n      style: {\n        minHeight: hourHeight\n      }\n    }, hour) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__CalendarBodyHours__container',\n      style: {\n        minHeight: hourHeight\n      },\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__text Kalend__CalendarBodyHours__text', isDark),\n        style: {\n          top: $db9a28e0bd6328b4$var$getOffsetTop(hour, timeFormat, hourHeight, isAfter12),\n          left: 10\n        },\n        children: hour\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__text Kalend__CalendarBodyHours__line', isDark),\n        style: {\n          width: width - $88a08af890f49243$export$447c5938f45c45a5\n        }\n      })]\n    }, hour);\n  });\n};\n\nvar $db9a28e0bd6328b4$var$CalendarBodyHours = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      config = store.config,\n      isDark = store.isDark,\n      height = store.height;\n  var hourHeight = config.hourHeight,\n      timeFormat = config.timeFormat;\n  var hours = $db9a28e0bd6328b4$var$renderHours(width, hourHeight, isDark, timeFormat);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarBodyHours__wrapper',\n    style: {\n      height: height\n    },\n    children: hours\n  });\n};\n\nvar $db9a28e0bd6328b4$export$2e2bcd8739ae039 = $db9a28e0bd6328b4$var$CalendarBodyHours;\n\nvar $b867b3e906676344$var$renderVerticalLines = function (calendarDays, width, height, hourHeight, isDark, isMobile, selectedView) {\n  var columnWidth = $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, selectedView) / calendarDays.length;\n  return calendarDays.map(function (calendarDay, index) {\n    var style = {\n      left: columnWidth * index + (selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? 0 : $88a08af890f49243$export$447c5938f45c45a5),\n      height: hourHeight * 24\n    };\n    if (index > 0) return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: style,\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__DaysViewVerticalLine__line', isDark)\n    }, index);\n  });\n};\n\nvar $b867b3e906676344$var$DaysViewVerticalLines = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var calendarDays = store.calendarDays,\n      width = store.width,\n      isDark = store.isDark,\n      height = store.height,\n      config = store.config,\n      isMobile = store.isMobile,\n      selectedView = store.selectedView;\n  var verticalLines = $b867b3e906676344$var$renderVerticalLines(selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? calendarDays.slice(0, 7) : calendarDays, width, height, config.hourHeight, isDark, isMobile, selectedView);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($cw6c3$reactjsxruntime.Fragment, {\n    children: verticalLines\n  });\n};\n\nvar $b867b3e906676344$export$2e2bcd8739ae039 = $b867b3e906676344$var$DaysViewVerticalLines;\n\nvar $be26fc4a0d3aa4a6$var$renderOneDay = function (calendarDays, events, sequence) {\n  return calendarDays.map(function (calendarDay, index) {\n    var formattedDayString = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(calendarDay);\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($17d79b7922eec8b8$export$2e2bcd8739ae039, {\n      day: calendarDay,\n      index: index,\n      data: events ? events[formattedDayString] : []\n    }, formattedDayString + sequence);\n  });\n};\n\nvar $be26fc4a0d3aa4a6$var$DaysViewTable = function (props) {\n  var events = props.events;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      wasInit = ref[0],\n      setWasInit = ref[1];\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      calendarContent = ref1[0],\n      setCalendarContent = ref1[1];\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref2[0],\n      dispatch = ref2[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var isMobile = store.isMobile,\n      calendarDays = store.calendarDays,\n      width = store.width,\n      selectedView = store.selectedView,\n      height = store.height,\n      config = store.config;\n  var style = {\n    paddingLeft: $88a08af890f49243$export$447c5938f45c45a5,\n    // width: '100%',\n    height: '100%'\n  };\n\n  var adjustScrollPosition = function () {\n    var currentElement = document.getElementById(\"Kalend__timetable\");\n    var shift = config.focusHour ? config.focusHour : $cw6c3$luxon.DateTime.now().hour;\n    currentElement.scrollTop = shift * config.hourHeight - config.hourHeight;\n  };\n\n  $cw6c3$react.useEffect(function () {\n    if (!store.config.autoScroll) return;\n    adjustScrollPosition();\n  }, []);\n  var hasExternalLayout = props.eventLayouts !== undefined; // recalculate event positions on calendarDays change\n\n  $cw6c3$react.useLayoutEffect(function () {\n    if (wasInit) {\n      if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n        events: events,\n        width: width,\n        height: height,\n        calendarDays: calendarDays,\n        config: store.config,\n        isMobile: isMobile,\n        selectedView: selectedView\n      }).then(function (res) {\n        setContext('headerLayout', res.headerPositions);\n        setContext('headerEventRowsCount', res.headerOffsetTop);\n        setContext('daysViewLayout', res.normalPositions);\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n        var days = $be26fc4a0d3aa4a6$var$renderOneDay(store.calendarDays, res.normalPositions, store.layoutUpdateSequence + 1);\n        setCalendarContent(days);\n      });\n    }\n  }, [calendarDays[0], selectedView]);\n  $cw6c3$react.useLayoutEffect(function () {\n    if (wasInit) {\n      if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n        events: events,\n        width: width,\n        height: height,\n        calendarDays: calendarDays,\n        config: store.config,\n        isMobile: isMobile,\n        selectedView: selectedView\n      }).then(function (res) {\n        setContext('headerLayout', res.headerPositions);\n        setContext('headerEventRowsCount', res.headerOffsetTop);\n        setContext('daysViewLayout', res.normalPositions);\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n        var days = $be26fc4a0d3aa4a6$var$renderOneDay(store.calendarDays, res.normalPositions, store.layoutUpdateSequence + 1);\n        setCalendarContent(days);\n      });\n    }\n  }, [width]);\n  $cw6c3$react.useLayoutEffect(function () {\n    if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n      events: events,\n      width: width,\n      height: height,\n      calendarDays: calendarDays,\n      config: store.config,\n      isMobile: isMobile,\n      selectedView: selectedView\n    }).then(function (res) {\n      setContext('headerLayout', res.headerPositions);\n      setContext('headerEventRowsCount', res.headerOffsetTop);\n      setContext('daysViewLayout', res.normalPositions);\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n      var days = $be26fc4a0d3aa4a6$var$renderOneDay(store.calendarDays, res.normalPositions, store.layoutUpdateSequence + 1);\n      setCalendarContent(days);\n    });\n  }, [JSON.stringify(events)]);\n  $cw6c3$react.useLayoutEffect(function () {\n    if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n      events: events,\n      width: width,\n      height: height,\n      calendarDays: calendarDays,\n      config: store.config,\n      isMobile: isMobile,\n      selectedView: selectedView\n    }).then(function (res) {\n      setContext('headerLayout', res.headerPositions);\n      setContext('headerEventRowsCount', res.headerOffsetTop);\n      setContext('daysViewLayout', res.normalPositions);\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n      var days = $be26fc4a0d3aa4a6$var$renderOneDay(store.calendarDays, res.normalPositions, store.layoutUpdateSequence + 1);\n      setCalendarContent(days);\n    });\n  }, [config.hourHeight]);\n  $cw6c3$react.useLayoutEffect(function () {\n    if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n      events: events,\n      width: width,\n      height: height,\n      calendarDays: calendarDays,\n      config: store.config,\n      isMobile: isMobile,\n      selectedView: selectedView\n    }).then(function (res) {\n      setContext('headerLayout', res.headerPositions);\n      setContext('headerEventRowsCount', res.headerOffsetTop);\n      setContext('daysViewLayout', res.normalPositions);\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n      var days = $be26fc4a0d3aa4a6$var$renderOneDay(store.calendarDays, res.normalPositions, store.layoutUpdateSequence + 1);\n      setCalendarContent(days);\n    });\n    setWasInit(true);\n  }, []);\n  $cw6c3$react.useLayoutEffect(function () {\n    if (hasExternalLayout && $bf7b38bce41ca3dd$export$e3e4ea182aca355e(props.eventLayouts.selectedView) === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK) {\n      setContext('headerLayout', props.eventLayouts.headerPositions);\n      setContext('headerEventRowsCount', props.eventLayouts.headerOffsetTop);\n      setContext('daysViewLayout', props.eventLayouts.normalPositions);\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n      var days = $be26fc4a0d3aa4a6$var$renderOneDay(store.calendarDays, props.eventLayouts.normalPositions, store.layoutUpdateSequence + 1);\n      setCalendarContent(days);\n    }\n  }, [props.eventLayouts, JSON.stringify(props.eventLayouts)]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    style: style,\n    className: 'Kalend__CalendarBody',\n    id: \"Kalend__timetable\",\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($db9a28e0bd6328b4$export$2e2bcd8739ae039, {}), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b867b3e906676344$export$2e2bcd8739ae039, {}), calendarContent]\n  });\n};\n\nvar $be26fc4a0d3aa4a6$export$2e2bcd8739ae039 = $be26fc4a0d3aa4a6$var$DaysViewTable;\n\nvar $c57d36d3233524f5$export$ca41440b93b2a001 = function (event, timezone) {\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt || timezone).set({\n      hour: 0,\n      minute: 0,\n      second: 1\n    }).toString(),\n    endAt: $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt || timezone).set({\n      hour: 23,\n      minute: 59,\n      second: 59\n    }).toString()\n  });\n};\n\nvar $c57d36d3233524f5$export$ebf0f5b49a0a9e59 = function (events1, width, calendarDays, timezone, setContext) {\n  var // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ref; // TODO prefilter only relevant events\n  // TODO remove used events from main array\n  // const formattedDayString: string = formatTimestampToDate(day);\n  //\n  // const dataForDay: any = events ? events[formattedDayString] : [];\n  //\n  // const headerEvents: any = renderEvents(calendarBodyWidth, dataForDay);\n  //\n  // compare each event and find those which can be placed next to each\n  // other and are not overlapping\n  // form them to row\n\n  var tableSpace = (width + $88a08af890f49243$export$447c5938f45c45a5) / 100 * $88a08af890f49243$export$b4e2ba6756dec2c;\n  var result = [];\n  var usedEvents = []; // filter only header events\n\n  var headerEventsFiltered = [];\n  if (!events1) return [[]];\n  (ref = Object.entries(events1)) === null || ref === void 0 ? void 0 : ref.map(function (param) {\n    var _param = $cw6c3$swchelpers.slicedToArray(param, 2),\n        key = _param[0],\n        items = _param[1]; // @ts-ignore\n\n\n    items.forEach(function (item) {\n      // filter only relevant events\n      if (item.allDay || $bf7b38bce41ca3dd$export$23783ea7bfe28abd(item)) {\n        var isInRange = $585762b051d85803$export$3a6eb9efca632dee(item, calendarDays, timezone);\n        if (isInRange) // correct position when external event ends in next day\n          headerEventsFiltered.push(item);\n      }\n    });\n  }); // find all matching events to fit in one row\n\n  headerEventsFiltered === null || headerEventsFiltered === void 0 ? void 0 : headerEventsFiltered.forEach(function (event) {\n    var eventPositionResult = []; // check if event was used already\n    // skip iteration if event was already resolved\n\n    if (usedEvents.includes(event.id)) return true; // set event to row\n\n    var rowWithNotOverlappingEvents = [event];\n    usedEvents.push(event.id); // compare to rest of the events\n\n    headerEventsFiltered.forEach(function (eventToCompare) {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) return true; // don't compare to self // maybe remove?\n\n      if (event.id === eventToCompare.id) return true; // check if events are not overlapping\n\n      var isOverlapping = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(event, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // found not overlapping matching event\n\n      if (!isOverlapping) {\n        var isMatchingAll = true; // compare match with other stored events for same row\n\n        rowWithNotOverlappingEvents.forEach(function (itemFromRow) {\n          var isOverlappingAll = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(itemFromRow, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // prevent merging if only one conflict exists\n\n          if (isOverlappingAll) isMatchingAll = false;\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    }); // now we have row with only not overlapping events\n    // sort events in row by start date\n\n    var sortedResult = rowWithNotOverlappingEvents.sort(function (a, b) {\n      return $cw6c3$luxon.DateTime.fromISO(a.startAt).toMillis() - $cw6c3$luxon.DateTime.fromISO(b.startAt).toMillis();\n    }); // place events accordingly in row next to each other\n\n    sortedResult.forEach(function (item) {\n      var offset = 0;\n      var eventWidth = 0;\n      var hasMatchingDay = false;\n      calendarDays.forEach(function (day) {\n        if ($585762b051d85803$export$f917769c218c90fd(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        } // increment offset only till we have matching day\n\n\n        if (!hasMatchingDay) offset += width;\n      }); // create event position data\n\n      var eventPositionData = {\n        event: item,\n        width: Math.round(eventWidth - tableSpace),\n        offsetLeft: offset + $88a08af890f49243$export$447c5938f45c45a5,\n        offsetTop: 0,\n        height: 20,\n        zIndex: 2\n      };\n      eventPositionResult.push(eventPositionData);\n    }); // save row to result\n\n    result.push(eventPositionResult);\n  });\n  var formattedResult = {};\n  result.forEach(function (events, index) {\n    events.forEach(function (item) {\n      formattedResult[item.event.id] = $cw6c3$swchelpers.objectSpread({}, item, {\n        offsetTop: index * 26\n      });\n    });\n  });\n  if (setContext) setContext('headerEventRowsCount', result.length);\n  return formattedResult;\n};\n\nvar $0491e7111fa05a9f$var$formatOverflowingEvents = function (events, timezone) {\n  var result = {};\n  if (!events || events.length === 0) return null;\n  events.forEach(function (event) {\n    var dateTimeStartAt = $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt || timezone);\n    var dateTimeEndAt = $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt || timezone); // get each day for multi day events\n    // @ts-ignore\n\n    var differenceInDays = dateTimeEndAt.diff(dateTimeStartAt).days;\n\n    for (var i = 0; i <= differenceInDays; i++) {\n      var dateKey = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(dateTimeStartAt.plus({\n        days: i\n      }));\n      if (!result[dateKey]) result[dateKey] = [event];else result[dateKey] = $cw6c3$swchelpers.toConsumableArray(result[dateKey]).concat([event]);\n    }\n  });\n  return result;\n};\n\nvar $0491e7111fa05a9f$export$89831913a243f8ab = function (calendarDays) {\n  var calendarDaysRows = [];\n  var tempArray = [];\n  calendarDays.forEach(function (item, i) {\n    var index = i + 1;\n\n    if (index % 7 === 0) {\n      tempArray.push(item);\n      calendarDaysRows.push(tempArray);\n      tempArray = [];\n    } else tempArray.push(item);\n  });\n  return calendarDaysRows;\n};\n\nvar $0491e7111fa05a9f$export$d27f846d3c4971c6 = function (events) {\n  return events.sort(function (a, b) {\n    var diffA = $cw6c3$luxon.DateTime.fromISO(a.endAt).toMillis() - $cw6c3$luxon.DateTime.fromISO(a.startAt).toMillis();\n    var diffB = $cw6c3$luxon.DateTime.fromISO(b.endAt).toMillis() - $cw6c3$luxon.DateTime.fromISO(b.startAt).toMillis();\n    if (diffB > diffA) return 1;else if (diffB < diffA) return -1;\n    return 0;\n  });\n};\n\nvar $0491e7111fa05a9f$var$getMonthRowPosition = function (events1, width, calendarDays, timezone, maxEventsVisible) {\n  var // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ref;\n  var overflowEvents = [];\n  var tableSpace = width / 100 * $88a08af890f49243$export$b4e2ba6756dec2c;\n  var result = [];\n  var usedEvents = []; // filter only header events\n\n  var eventsFiltered = [];\n  if (!events1) return {\n    positions: [],\n    overflowingEvents: []\n  };\n  (ref = Object.entries(events1)) === null || ref === void 0 ? void 0 : ref.map(function (param) {\n    var _param = $cw6c3$swchelpers.slicedToArray(param, 2),\n        key = _param[0],\n        items = _param[1]; // @ts-ignore\n\n\n    items.forEach(function (item) {\n      // filter only relevant events\n      var isInRange = $585762b051d85803$export$3a6eb9efca632dee(item, calendarDays, timezone);\n      if (isInRange) // correct position when external event ends in next day\n        eventsFiltered.push(item);\n    });\n  }); // sort by length to fit more items in limited space\n\n  var sortedByLength = $0491e7111fa05a9f$export$d27f846d3c4971c6(eventsFiltered); // find all matching events to fit in one row\n\n  sortedByLength === null || sortedByLength === void 0 ? void 0 : sortedByLength.forEach(function (event) {\n    var eventPositionResult = []; // check if event was used already\n    // skip iteration if event was already resolved\n\n    if (usedEvents.includes(event.id)) return true; // set event to row\n\n    var rowWithNotOverlappingEvents = [event];\n    usedEvents.push(event.id); // compare to rest of the events\n\n    sortedByLength.forEach(function (eventToCompare) {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) return true; // don't compare to self // maybe remove?\n\n      if (event.id === eventToCompare.id) return true; // check if events are not overlapping\n\n      var isOverlapping = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(event, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // found not overlapping matching event\n\n      if (!isOverlapping) {\n        var isMatchingAll = true; // compare match with other stored events for same row\n\n        rowWithNotOverlappingEvents.forEach(function (itemFromRow) {\n          var isOverlappingAll = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(itemFromRow, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // prevent merging if only one conflict exists\n\n          if (isOverlappingAll) isMatchingAll = false;\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    }); // now we have row with only not overlapping events\n    // sort events in row by duration to fit more events in row\n    // const sortedResult: CalendarEvent[] = rowWithNotOverlappingEvents.sort(\n    //   (a, b) =>\n    //     DateTime.fromISO(a.endAt).toMillis() -\n    //     DateTime.fromISO(a.startAt).toMillis() -\n    //     (DateTime.fromISO(b.endAt).toMillis() -\n    //       DateTime.fromISO(b.startAt).toMillis())\n    // );\n    // const sortedResult = sortByLength(rowWithNotOverlappingEvents);\n    // place events accordingly in row next to each other\n\n    rowWithNotOverlappingEvents.forEach(function (item) {\n      var offset = 0;\n      var eventWidth = 0;\n      var hasMatchingDay = false;\n      calendarDays.forEach(function (day) {\n        if ($585762b051d85803$export$f917769c218c90fd(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        } // increment offset only till we have matching day\n\n\n        if (!hasMatchingDay) offset += width;\n      });\n      var isOverflowing = result.length > maxEventsVisible;\n\n      if (!isOverflowing) {\n        // create event position data\n        var eventPositionData = {\n          event: item,\n          width: Math.round(eventWidth - tableSpace),\n          offsetLeft: offset,\n          offsetTop: 0,\n          height: 20,\n          zIndex: 2\n        };\n        eventPositionResult.push(eventPositionData);\n      } else overflowEvents.push(item);\n    }); // save row to result\n\n    result.push(eventPositionResult);\n  });\n  var formattedResult = {};\n  result.forEach(function (events, index) {\n    events.forEach(function (item) {\n      formattedResult[item.event.id] = $cw6c3$swchelpers.objectSpread({}, item, {\n        offsetTop: index * 25\n      });\n    });\n  });\n  return {\n    positions: formattedResult,\n    overflowingEvents: overflowEvents\n  };\n};\n\nvar $0491e7111fa05a9f$export$ac592545eadc1037 = function (events, width, calendarDays, config, maxEventsVisible, // eslint-disable-next-line @typescript-eslint/no-unused-vars\nsetContext) {\n  var result = [];\n  var overflowingEvents = []; // TODO prefilter events for each row\n  // split calendar days to rows\n\n  var calendarDaysRows = $0491e7111fa05a9f$export$89831913a243f8ab(calendarDays); // get layout for each row\n\n  calendarDaysRows.forEach(function (row) {\n    var rowResult = $0491e7111fa05a9f$var$getMonthRowPosition(events, width / 7, row, config.timezone, maxEventsVisible);\n    result.push(rowResult.positions);\n    overflowingEvents = $cw6c3$swchelpers.toConsumableArray(overflowingEvents).concat($cw6c3$swchelpers.toConsumableArray(rowResult.overflowingEvents));\n  }); //\n  // setContext(\n  //   'monthOverflowEvents',\n  //   formatOverflowingEvents(overflowingEvents, config.timezone)\n  // );\n\n  return {\n    result: result,\n    overflowingEvents: $0491e7111fa05a9f$var$formatOverflowingEvents(overflowingEvents, config.timezone)\n  };\n};\n\nvar $b1f96b393fd4bbd3$var$Dropdown = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var translations = store.translations,\n      height = store.height;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isVisible = ref1[0],\n      setVisible = ref1[1];\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState({\n    x: null,\n    y: null\n  }), 2),\n      layout = ref2[0],\n      setLayout = ref2[1];\n\n  var handleClick = function (e) {\n    var _nativeEvent = e.nativeEvent,\n        x = _nativeEvent.x,\n        y = _nativeEvent.y;\n    setLayout({\n      x: x,\n      y: y\n    });\n    setVisible(true);\n  };\n\n  var getStyle = function () {\n    if (layout.x) return {\n      left: layout.x,\n      top: layout.y,\n      maxWidth: 300,\n      maxHeight: height - 24,\n      minWidth: 120,\n      height: 'auto',\n      overflowX: 'hidden',\n      overflowY: 'auto'\n    };\n  }; // Correct layout\n\n\n  $cw6c3$react.useLayoutEffect(function () {\n    if (isVisible) {\n      var element = document.getElementById('Kalend__Dropdown__container');\n\n      if (element) {\n        var newX = layout.x;\n        var newY = layout.y;\n        if (element.offsetHeight + layout.y > window.innerHeight) newY = layout.y - element.offsetHeight;\n        if (element.offsetWidth + layout.x > window.innerWidth) newX = layout.x - element.offsetWidth;\n        setLayout({\n          x: newX,\n          y: newY\n        });\n      }\n    }\n  }, [isVisible, document.getElementsByClassName('Kalend__Dropdown__container')]);\n  var style = getStyle();\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Monthview_Event', store.isDark),\n      style: {\n        width: props.width,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: 20\n      },\n      onClick: handleClick,\n      isDark: store.isDark,\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__text', !store.isDark),\n        style: {\n          fontSize: 11\n        },\n        children: translations['buttons']['showMore']\n      })\n    }), isVisible ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__Dropdown__backdrop',\n      onClick: function () {\n        return setVisible(false);\n      },\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Dropdown__container', store.isDark),\n        id: \"Kalend__Dropdown__container\",\n        style: style,\n        children: props.children\n      })\n    }) : null]\n  });\n};\n\nvar $b1f96b393fd4bbd3$export$2e2bcd8739ae039 = $b1f96b393fd4bbd3$var$Dropdown;\n\nvar $05ef8620e2e948fa$var$MonthViewButtonMore = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var width = store.width,\n      monthOverflowEvents = store.monthOverflowEvents;\n  var calendarDays = props.calendarDays;\n  var colWidth = width / 7;\n\n  var handleClick = function (day, events) {\n    setContext('showMoreEvents', {\n      day: day,\n      events: events\n    });\n  };\n\n  var renderShowMoreButtons = function () {\n    if (!monthOverflowEvents || !calendarDays || calendarDays.length === 0) return [];\n    return calendarDays.map(function (calendarDay) {\n      var dateKey = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(calendarDay);\n      var events = monthOverflowEvents[dateKey];\n      if (events) return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b1f96b393fd4bbd3$export$2e2bcd8739ae039, {\n        onClick: function () {\n          return handleClick(calendarDay, events);\n        },\n        width: colWidth,\n        day: calendarDay,\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n          children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"h6\", {\n            className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__MonthView_more_title', store.isDark),\n            children: calendarDay.toFormat('dd. MMM')\n          }), events === null || events === void 0 ? void 0 : events.map(function (event) {\n            return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n              item: {\n                event: event\n              },\n              type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH\n            }, \"\".concat(event.id).concat(event.internalID ? event.internalID : ''));\n          })]\n        })\n      }, calendarDay.toString());else return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        style: {\n          width: colWidth,\n          visibility: 'hidden'\n        }\n      }, calendarDay.toString());\n    });\n  };\n\n  var showMoreButtons = renderShowMoreButtons();\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'row',\n      position: 'absolute',\n      bottom: 1,\n      left: 0\n    },\n    children: showMoreButtons\n  });\n};\n\nvar $05ef8620e2e948fa$export$2e2bcd8739ae039 = $05ef8620e2e948fa$var$MonthViewButtonMore;\n\nvar $c4cfd121d9d256dd$var$MonthWeekRow = function (props) {\n  var days = props.days,\n      index = props.index,\n      itemRows = props.itemRows;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var monthLayout = store.monthLayout;\n\n  var renderEvents = function (data, i) {\n    if (!data || !(data === null || data === void 0 ? void 0 : data[i])) return [];\n    return itemRows.map(function (item) {\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n        item: $cw6c3$swchelpers.objectSpread({}, item),\n        meta: item.meta,\n        type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH,\n        index: i\n      }, \"\".concat(item.event.id).concat(item.event.internalID ? item.event.internalID : ''));\n    });\n  };\n\n  var events = renderEvents(monthLayout, index); // const style: { maxHeight: number } = { maxHeight: height / 6 - 30 };\n\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: \"\".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__MonthWeekRow__container', store.isDark), \" \").concat(index > 4 ? '--no-border' : ''),\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__MonthWeekRow__day',\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($0c3afbe9f694dbf0$export$2e2bcd8739ae039, {\n        calendarDays: days,\n        daysNum: 7,\n        setViewChanged: props.setViewChanged\n      })\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__MonthWeekRow__container-events',\n      children: events\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($05ef8620e2e948fa$export$2e2bcd8739ae039, {\n      calendarDays: days\n    })]\n  });\n};\n\nvar $c4cfd121d9d256dd$export$2e2bcd8739ae039 = $c4cfd121d9d256dd$var$MonthWeekRow;\n\nvar $4e630ae36e00686b$var$renderOneRow = function (days, eventRows, sequence, setViewChanged) {\n  var rows = $0491e7111fa05a9f$export$89831913a243f8ab(days);\n  return rows.map(function (row, index) {\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($c4cfd121d9d256dd$export$2e2bcd8739ae039, {\n      days: row,\n      index: index,\n      itemRows: eventRows ? eventRows[index] : [],\n      sequence: sequence,\n      setViewChanged: setViewChanged\n    }, row[0].toString() + sequence);\n  });\n};\n\nvar $4e630ae36e00686b$var$MonthView = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      wasInit = ref[0],\n      setWasInit = ref[1];\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      calendarContent = ref1[0],\n      setCalendarContent = ref1[1];\n  var events = props.events;\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref2[0],\n      dispatch = ref2[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var rawWidth = store.rawWidth,\n      width = store.width,\n      calendarDays = store.calendarDays,\n      height = store.height,\n      showWeekNumbers = store.showWeekNumbers;\n  var style = {\n    width: showWeekNumbers ? width : rawWidth,\n    height: '100%'\n  };\n  var hasExternalLayout = props.eventLayouts !== undefined;\n  $cw6c3$react.useEffect(function () {\n    if (height !== 0) {\n      if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n        events: events,\n        width: showWeekNumbers ? width : rawWidth,\n        height: height,\n        calendarDays: calendarDays,\n        config: store.config,\n        selectedView: $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH\n      }).then(function (res) {\n        setWasInit(true);\n        setContext('monthLayout', res.positions);\n        setContext('monthOverflowEvents', res.overflowingEvents);\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n        var content = $4e630ae36e00686b$var$renderOneRow(calendarDays, res.positions, store.layoutUpdateSequence, props.setViewChanged);\n        setCalendarContent(content);\n      });\n    }\n  }, [height, rawWidth]);\n  $cw6c3$react.useEffect(function () {\n    if (wasInit && height !== 0) {\n      if (!hasExternalLayout) $parcel$interopDefault($cw6c3$kalendlayout)({\n        events: events,\n        width: showWeekNumbers ? width : rawWidth,\n        height: height,\n        calendarDays: calendarDays,\n        config: store.config,\n        selectedView: $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH\n      }).then(function (res) {\n        setContext('monthLayout', res.positions);\n        setContext('monthOverflowEvents', res.overflowingEvents);\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n        var content = $4e630ae36e00686b$var$renderOneRow(calendarDays, res.positions, store.layoutUpdateSequence, props.setViewChanged);\n        setCalendarContent(content);\n      });\n    }\n  }, [calendarDays[0], JSON.stringify(events)]);\n  $cw6c3$react.useEffect(function () {\n    if (hasExternalLayout && $bf7b38bce41ca3dd$export$e3e4ea182aca355e(props.eventLayouts.selectedView) === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH) {\n      setContext('monthLayout', props.eventLayouts.positions);\n      setContext('monthOverflowEvents', props.eventLayouts.overflowingEvents);\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n      var content = $4e630ae36e00686b$var$renderOneRow(calendarDays, props.eventLayouts.positions, store.layoutUpdateSequence, props.setViewChanged);\n      setCalendarContent(content);\n    }\n  }, [JSON.stringify(props.eventLayouts)]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: 'Kalend__MonthView__container',\n    style: style,\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b867b3e906676344$export$2e2bcd8739ae039, {}), calendarContent]\n  });\n};\n\nvar $4e630ae36e00686b$export$2e2bcd8739ae039 = $4e630ae36e00686b$var$MonthView;\n\nvar $7b4ef3e16846642d$var$renderCols = function (calendarDays, translations) {\n  return calendarDays.map(function (item, index) {\n    if (index % 7 === 0 && index < 35) {\n      var weekNum = item.weekNumber;\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: 'Kalend__WeekNumbersCol__container',\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n          className: 'Kalend__WeekNumbersCol__text',\n          children: [translations['weekShort'], weekNum]\n        })\n      });\n    } else if (index % 7 === 0 && index >= 35) {\n      var weekNum1 = item.weekNumber;\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: 'Kalend__WeekNumbersCol__container--no-border',\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n          className: 'Kalend__WeekNumbersCol__text',\n          children: [translations['weekShort'], weekNum1]\n        })\n      });\n    }\n  });\n};\n\nvar $7b4ef3e16846642d$var$WeekNumbersCol = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var cols = $7b4ef3e16846642d$var$renderCols(store.calendarDays, store.translations);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__WeekNumbersCol__wrapper',\n    children: cols\n  });\n};\n\nvar $7b4ef3e16846642d$export$2e2bcd8739ae039 = $7b4ef3e16846642d$var$WeekNumbersCol;\n\nvar $2c06f9532bb9aaf9$var$Calendar = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var selectedDate = store.selectedDate,\n      calendarDays = store.calendarDays,\n      selectedView = store.selectedView,\n      callbacks = store.callbacks,\n      config = store.config,\n      width = store.width;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(''), 2),\n      prevView = ref1[0],\n      setPrevView = ref1[1];\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      viewChanged = ref2[0],\n      setViewChanged = ref2[1];\n  $cw6c3$react.useEffect(function () {\n    var initialDate = props.initialDate ? $cw6c3$luxon.DateTime.fromISO(props.initialDate) : $cw6c3$luxon.DateTime.now();\n    setContext('selectedDate', initialDate);\n\n    if (selectedView) {\n      var calendarDaysInitial = $1500da26cef85c66$export$e75d169fad6edf5f(selectedView, initialDate, config.weekDayStart);\n      setContext('calendarDays', calendarDaysInitial);\n    }\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    var viewChangedValue = props.selectedView || viewChanged; // if (props.selectedView && props.selectedView === selectedView) {\n    //   return;\n    // }\n\n    if (prevView === viewChangedValue) return; // prevent infinit loop\n\n    if (!selectedView && callbacks.onSelectView) {\n      callbacks.onSelectView(viewChangedValue);\n      return;\n    }\n\n    if (!viewChangedValue) return;\n    setContext('calendarDays', calendarDays[0]);\n    setContext('selectedView', viewChangedValue); // use either passed value or internal state\n\n    var setSelectedDate = function (date) {\n      setContext('selectedDate', date);\n    };\n\n    var calendarDaysNew = $1500da26cef85c66$export$e75d169fad6edf5f(viewChangedValue, selectedDate || props.initialDate || $cw6c3$luxon.DateTime.now(), config.weekDayStart, setSelectedDate);\n    setContext('calendarDays', calendarDaysNew);\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n    setPrevView(viewChangedValue);\n    setViewChanged(null);\n  }, [viewChanged, props.selectedView]);\n  $cw6c3$react.useEffect(function () {\n    var selectedViewValue = props.selectedView || selectedView;\n    if (prevView === selectedViewValue) return;\n\n    if (selectedViewValue && selectedViewValue !== prevView) {\n      setContext('calendarDays', calendarDays[0]);\n      setContext('selectedView', selectedViewValue);\n      setPrevView(selectedViewValue);\n\n      var setSelectedDate = function (date) {\n        return setContext('selectedDate', date);\n      };\n\n      var calendarDaysNew = $1500da26cef85c66$export$e75d169fad6edf5f(selectedViewValue, selectedDate || props.initialDate || $cw6c3$luxon.DateTime.now(), config.weekDayStart, setSelectedDate);\n      setContext('calendarDays', calendarDaysNew);\n    }\n  }, [selectedView]);\n  $cw6c3$react.useLayoutEffect(function () {\n    setContext('events', props.events);\n  }, [JSON.stringify(props.events)]);\n  $cw6c3$react.useLayoutEffect(function () {\n    if (callbacks.onPageChange && calendarDays && calendarDays[0] && calendarDays.length > 0) callbacks.onPageChange($cw6c3$swchelpers.objectSpread({}, $1500da26cef85c66$export$fef151b94550e9f5(calendarDays), {\n      direction: store.direction\n    }));\n  }, [selectedView, calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays[0], calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays[(calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays.length) - 1]]);\n  return selectedView && (calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays.length) > 0 && selectedDate && width ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($21db0de5ba63f204$export$2e2bcd8739ae039, {\n      setViewChanged: setViewChanged,\n      kalendRef: props.kalendRef\n    }), selectedView !== $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA && selectedView !== $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($58f20473f1f0067a$export$2e2bcd8739ae039, {\n      setViewChanged: setViewChanged\n    }) : null, selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($58f20473f1f0067a$export$2e2bcd8739ae039, {}), /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row',\n          width: '100%',\n          height: '100%'\n        },\n        children: [store.showWeekNumbers ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($7b4ef3e16846642d$export$2e2bcd8739ae039, {}) : null, /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n          className: 'Kalend__Calendar__table',\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n            className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Calendar__table-surface', store.isDark),\n            children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f89b7b16d8022e68$export$2e2bcd8739ae039, {\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($4e630ae36e00686b$export$2e2bcd8739ae039, {\n                events: props.events ? props.events : [],\n                eventLayouts: props.eventLayouts,\n                setViewChanged: setViewChanged\n              })\n            })\n          })\n        })]\n      })]\n    }) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__Calendar__table',\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Calendar__table-surface', store.isDark),\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($f89b7b16d8022e68$export$2e2bcd8739ae039, {\n          children: [selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($be26fc4a0d3aa4a6$export$2e2bcd8739ae039, {\n            events: props.events ? props.events : [],\n            eventLayouts: props.eventLayouts\n          }) : null, selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($ae9d5d34ac1cc52f$export$2e2bcd8739ae039, {\n            events: props.events ? props.events : [],\n            eventLayouts: props.eventLayouts\n          }) : null]\n        })\n      })\n    })]\n  }) : null;\n};\n\nvar $2c06f9532bb9aaf9$export$2e2bcd8739ae039 = $2c06f9532bb9aaf9$var$Calendar;\n\nvar $f101c73fee185a96$var$DimensionsLayoutLayer = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var selectedView = store.selectedView,\n      headerEventRowsCount = store.headerEventRowsCount,\n      showWeekNumbers = store.showWeekNumbers;\n  $cw6c3$react.useEffect(function () {\n    var el = document === null || document === void 0 ? void 0 : document.querySelector('.Kalend__Calendar__root');\n    if (!el) return;\n    var resizeObserver = new ResizeObserver(function (entries) {\n      var entryRect = entries[0].contentRect;\n      var width = entryRect.width;\n      if (width < 750) setContext('isMobile', true);else setContext('isMobile', false);\n      setContext('rawWidth', entryRect.width);\n      setContext('width', entryRect.width - $bf7b38bce41ca3dd$export$76c69f043295405f(selectedView, showWeekNumbers));\n    });\n    resizeObserver.observe(el);\n  }, [document === null || document === void 0 ? void 0 : document.querySelector('.Kalend__Calendar__root'), selectedView]);\n  $cw6c3$react.useEffect(function () {\n    var el = document === null || document === void 0 ? void 0 : document.querySelector('.Kalend__Calendar__root');\n    if (!el) return;\n    var resizeObserver = new ResizeObserver(function (entries) {\n      var entryRect = entries[0].contentRect;\n      var width = entryRect.width;\n      if (width < 750) setContext('isMobile', true);else setContext('isMobile', false);\n      setContext('rawWidth', entryRect.width);\n      setContext('width', entryRect.width - $bf7b38bce41ca3dd$export$76c69f043295405f(selectedView, showWeekNumbers));\n    });\n    resizeObserver.observe(el);\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    var el = document === null || document === void 0 ? void 0 : document.querySelector('.Kalend__Calendar__table');\n    if (!el) return;\n    var resizeObserver = new ResizeObserver(function (entries) {\n      var entryRect = entries[0].contentRect;\n      setContext('height', entryRect.height);\n    });\n    resizeObserver.observe(el);\n  }, [document === null || document === void 0 ? void 0 : document.querySelector('.Kalend__Calendar__table'), selectedView, headerEventRowsCount]);\n  $cw6c3$react.useEffect(function () {\n    var el = document === null || document === void 0 ? void 0 : document.querySelector('.Kalend__Calendar__table');\n    if (!el) return;\n    var resizeObserver = new ResizeObserver(function (entries) {\n      var entryRect = entries[0].contentRect;\n      setContext('height', entryRect.height);\n    });\n    resizeObserver.observe(el);\n  }, []);\n  return props.children;\n};\n\nvar $f101c73fee185a96$export$2e2bcd8739ae039 = $f101c73fee185a96$var$DimensionsLayoutLayer;\nvar $4f8fac8212b1a05e$exports = {};\n$4f8fac8212b1a05e$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Heute\\\",\\\"agenda\\\":\\\"Agenda\\\",\\\"day\\\":\\\"Tag\\\",\\\"threeDays\\\":\\\"3 Tage\\\",\\\"week\\\":\\\"Woche\\\",\\\"month\\\":\\\"Monat\\\",\\\"showMore\\\":\\\"Mehr\\\"},\\\"months\\\":{\\\"january\\\":\\\"Januar\\\",\\\"february\\\":\\\"Februar\\\",\\\"march\\\":\\\"Mrz\\\",\\\"april\\\":\\\"April\\\",\\\"may\\\":\\\"Mai\\\",\\\"june\\\":\\\"Juni\\\",\\\"july\\\":\\\"Juli\\\",\\\"august\\\":\\\"August\\\",\\\"september\\\":\\\"September\\\",\\\"october\\\":\\\"Oktober\\\",\\\"november\\\":\\\"November\\\",\\\"december\\\":\\\"Dezember\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Mo\\\",\\\"Tue\\\":\\\"Di\\\",\\\"Wed\\\":\\\"Mi\\\",\\\"Thu\\\":\\\"Do\\\",\\\"Fri\\\":\\\"Fr\\\",\\\"Sat\\\":\\\"Sa\\\",\\\"Sun\\\":\\\"So\\\"},\\\"weekShort\\\":\\\"W\\\"}\");\nvar $9ac065e100f212f5$exports = {};\n$9ac065e100f212f5$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Hoy\\\",\\\"agenda\\\":\\\"Diario\\\",\\\"day\\\":\\\"Da\\\",\\\"threeDays\\\":\\\"3 Das\\\",\\\"week\\\":\\\"Semana\\\",\\\"month\\\":\\\"Mes\\\",\\\"showMore\\\":\\\"Ms\\\"},\\\"months\\\":{\\\"january\\\":\\\"Enero\\\",\\\"february\\\":\\\"Febrero\\\",\\\"march\\\":\\\"Marzo\\\",\\\"april\\\":\\\"Abril\\\",\\\"may\\\":\\\"Mayo\\\",\\\"june\\\":\\\"Junio\\\",\\\"july\\\":\\\"Julio\\\",\\\"august\\\":\\\"Agosto\\\",\\\"september\\\":\\\"Septiembre\\\",\\\"october\\\":\\\"Octubre\\\",\\\"november\\\":\\\"Noviembre\\\",\\\"december\\\":\\\"Diciembre\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Lun\\\",\\\"Tue\\\":\\\"Mar\\\",\\\"Wed\\\":\\\"Mi\\\",\\\"Thu\\\":\\\"Jue\\\",\\\"Fri\\\":\\\"Vie\\\",\\\"Sat\\\":\\\"Sb\\\",\\\"Sun\\\":\\\"Dom\\\"},\\\"weekShort\\\":\\\"S\\\"}\");\nvar $8afa7629b855c8cd$exports = {};\n$8afa7629b855c8cd$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Aujourd\\\",\\\"agenda\\\":\\\"Jour\\\",\\\"day\\\":\\\"Journe\\\",\\\"threeDays\\\":\\\"3 Jours\\\",\\\"week\\\":\\\"Semaine\\\",\\\"month\\\":\\\"Mois\\\",\\\"showMore\\\":\\\"Plus\\\"},\\\"months\\\":{\\\"january\\\":\\\"Janvier\\\",\\\"february\\\":\\\"Fvrier\\\",\\\"march\\\":\\\"Mars\\\",\\\"april\\\":\\\"Avril\\\",\\\"may\\\":\\\"Mai\\\",\\\"june\\\":\\\"Juin\\\",\\\"july\\\":\\\"Juillet\\\",\\\"august\\\":\\\"Aot\\\",\\\"september\\\":\\\"Septembre\\\",\\\"october\\\":\\\"Octobre\\\",\\\"november\\\":\\\"Novembre\\\",\\\"december\\\":\\\"Dcembre\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Lun\\\",\\\"Tue\\\":\\\"Mar\\\",\\\"Wed\\\":\\\"Mer\\\",\\\"Thu\\\":\\\"Jeu\\\",\\\"Fri\\\":\\\"Ven\\\",\\\"Sat\\\":\\\"Sam\\\",\\\"Sun\\\":\\\"Dim\\\"},\\\"weekShort\\\":\\\"S\\\"}\");\nvar $a1d28ad4f425ad6f$exports = {};\n$a1d28ad4f425ad6f$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Hoje\\\",\\\"agenda\\\":\\\"Agenda\\\",\\\"day\\\":\\\"Dia\\\",\\\"threeDays\\\":\\\"3 Dias\\\",\\\"week\\\":\\\"Semana\\\",\\\"month\\\":\\\"Ms\\\",\\\"showMore\\\":\\\"Mais\\\"},\\\"months\\\":{\\\"january\\\":\\\"Janeiro\\\",\\\"february\\\":\\\"Fevereiro\\\",\\\"march\\\":\\\"Maro\\\",\\\"april\\\":\\\"Abril\\\",\\\"may\\\":\\\"Maio\\\",\\\"june\\\":\\\"Junho\\\",\\\"july\\\":\\\"Julho\\\",\\\"august\\\":\\\"Agosto\\\",\\\"september\\\":\\\"Setembro\\\",\\\"october\\\":\\\"Outubro\\\",\\\"november\\\":\\\"Novembro\\\",\\\"december\\\":\\\"Dezembro\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Seg\\\",\\\"Tue\\\":\\\"Ter\\\",\\\"Wed\\\":\\\"Quar\\\",\\\"Thu\\\":\\\"Qui\\\",\\\"Fri\\\":\\\"Sex\\\",\\\"Sat\\\":\\\"Sab\\\",\\\"Sun\\\":\\\"Dom\\\"},\\\"weekShort\\\":\\\"S\\\"}\");\nvar $8d153bee865ba9a1$exports = {};\n$8d153bee865ba9a1$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"\\\",\\\"agenda\\\":\\\"\\\",\\\"day\\\":\\\"\\\",\\\"threeDays\\\":\\\"3 \\\",\\\"week\\\":\\\"\\\",\\\"month\\\":\\\"\\\",\\\"showMore\\\":\\\"...\\\"},\\\"months\\\":{\\\"january\\\":\\\"\\\",\\\"february\\\":\\\"\\\",\\\"march\\\":\\\"\\\",\\\"april\\\":\\\"\\\",\\\"may\\\":\\\"\\\",\\\"june\\\":\\\"\\\",\\\"july\\\":\\\"\\\",\\\"august\\\":\\\"\\\",\\\"september\\\":\\\"\\\",\\\"october\\\":\\\"\\\",\\\"november\\\":\\\"\\\",\\\"december\\\":\\\"\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"\\\",\\\"Tue\\\":\\\"\\\",\\\"Wed\\\":\\\"\\\",\\\"Thu\\\":\\\"\\\",\\\"Fri\\\":\\\"\\\",\\\"Sat\\\":\\\"\\\",\\\"Sun\\\":\\\"\\\"},\\\"weekShort\\\":\\\"\\\"}\");\nvar $6d7cb4bf3385b3b5$exports = {};\n$6d7cb4bf3385b3b5$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"\\\",\\\"agenda\\\":\\\"\\\",\\\"day\\\":\\\"\\\",\\\"threeDays\\\":\\\"3\\\",\\\"week\\\":\\\"\\\",\\\"month\\\":\\\"\\\",\\\"showMore\\\":\\\"\\\"},\\\"months\\\":{\\\"january\\\":\\\"\\\",\\\"february\\\":\\\"\\\",\\\"march\\\":\\\"\\\",\\\"april\\\":\\\"\\\",\\\"may\\\":\\\"\\\",\\\"june\\\":\\\"\\\",\\\"july\\\":\\\"\\\",\\\"august\\\":\\\"\\\",\\\"september\\\":\\\"\\\",\\\"october\\\":\\\"\\\",\\\"november\\\":\\\"\\\",\\\"december\\\":\\\"\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"\\\",\\\"Tue\\\":\\\"\\\",\\\"Wed\\\":\\\"\\\",\\\"Thu\\\":\\\"\\\",\\\"Fri\\\":\\\"\\\",\\\"Sat\\\":\\\"\\\",\\\"Sun\\\":\\\"\\\"},\\\"weekShort\\\":\\\"\\\"}\");\n\nvar $36362bd2dc53dd73$var$getKnownLanguage = function (language) {\n  switch (language) {\n    case 'en':\n      return /*@__PURE__*/$parcel$interopDefault($073ad6afefbd1c74$exports);\n\n    case 'de':\n      return /*@__PURE__*/$parcel$interopDefault($4f8fac8212b1a05e$exports);\n\n    case 'es':\n      return /*@__PURE__*/$parcel$interopDefault($9ac065e100f212f5$exports);\n\n    case 'fr':\n      return /*@__PURE__*/$parcel$interopDefault($8afa7629b855c8cd$exports);\n\n    case 'ptBR':\n      return /*@__PURE__*/$parcel$interopDefault($a1d28ad4f425ad6f$exports);\n\n    case 'ru':\n      return /*@__PURE__*/$parcel$interopDefault($8d153bee865ba9a1$exports);\n\n    case 'zh':\n      return /*@__PURE__*/$parcel$interopDefault($6d7cb4bf3385b3b5$exports);\n\n    default:\n      return 'en';\n  }\n};\n\nvar $36362bd2dc53dd73$var$LanguageLayer = function (props) {\n  var language = props.language,\n      customLanguage = props.customLanguage; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var translations = store.translations;\n  $cw6c3$react.useEffect(function () {\n    if (customLanguage) setContext('translations', customLanguage);else if (language) setContext('translations', $36362bd2dc53dd73$var$getKnownLanguage(language));\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    if (customLanguage) setContext('translations', customLanguage);else if (language) setContext('translations', $36362bd2dc53dd73$var$getKnownLanguage(language));\n  }, [customLanguage, language]);\n  return translations ? props.children : null;\n};\n\nvar $36362bd2dc53dd73$export$2e2bcd8739ae039 = $36362bd2dc53dd73$var$LanguageLayer;\n\nvar $7d02895a6af4de33$var$RootLayoutLayer = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isMounted = ref[0],\n      setIsMounted = ref[1];\n  $cw6c3$react.useEffect(function () {\n    var rootEl = document.querySelector('.Kalend__Calendar__root');\n    if (rootEl) setIsMounted(true);\n  }, [document.querySelector('.Kalend__Calendar__root')]);\n  return isMounted ? props.children : null;\n};\n\nvar $7d02895a6af4de33$export$2e2bcd8739ae039 = $7d02895a6af4de33$var$RootLayoutLayer;\nvar $3f7b2fe5d2c34f8f$export$b573856c46cc9357 = $e4750b0ebeed8e48$export$ec9758e21af63072; // use any as JSX was causing errors for some cases\n\nvar $3f7b2fe5d2c34f8f$var$Kalend = function (props) {\n  // basic validation\n  $cw6c3$react.useEffect(function () {\n    $078907888c55a58c$export$45855e0dd982478b(props);\n    $078907888c55a58c$export$fbb8247b2e46a70a();\n  }, []);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__Calendar__root Kalend__main',\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($65553fbba1d6d65b$export$2e2bcd8739ae039, $cw6c3$swchelpers.objectSpread({}, props, {\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($36362bd2dc53dd73$export$2e2bcd8739ae039, {\n        language: props.language || 'en',\n        customLanguage: props.customLanguage,\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($7d02895a6af4de33$export$2e2bcd8739ae039, {\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($3886b97a1526edd3$export$2e2bcd8739ae039, $cw6c3$swchelpers.objectSpread({}, props, {\n            children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f101c73fee185a96$export$2e2bcd8739ae039, {\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($2c06f9532bb9aaf9$export$2e2bcd8739ae039, {\n                kalendRef: props.kalendRef,\n                events: props.events,\n                eventLayouts: props.eventLayouts,\n                selectedView: props.selectedView,\n                initialDate: props.initialDate\n              })\n            })\n          }))\n        })\n      })\n    }))\n  });\n};\n\nvar $3f7b2fe5d2c34f8f$export$2e2bcd8739ae039 = $3f7b2fe5d2c34f8f$var$Kalend;","map":{"version":3,"mappings":"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","names":["CALENDAR_VIEW","$e4750b0ebeed8e48$export$ec9758e21af63072","EVENT_TYPE","$e4750b0ebeed8e48$export$76a2e4c433c23bb9","CALENDAR_NAVIGATION_DIRECTION","$e4750b0ebeed8e48$export$c2bed76d77ee7287","WEEKDAY_START","$e4750b0ebeed8e48$export$5a05f7ffc0500403","TIME_FORMAT","$e4750b0ebeed8e48$export$c4e1e4e065ff5bd8","$078907888c55a58c$var$getCalendarView","value","toLowerCase","DAY","THREE_DAYS","WEEK","MONTH","AGENDA","$078907888c55a58c$export$45855e0dd982478b","props","disabledViews","length","Object","values","Error","initialView","toString","concat","weekDayStart","timeFormat","H_24","H_12","$078907888c55a58c$export$fbb8247b2e46a70a","el","document","querySelector","window","getComputedStyle","display","$88a08af890f49243$export$eae15a231de23f4a","$88a08af890f49243$export$fd6e3e2f92ae10fd","$88a08af890f49243$export$c1af425794ec7f44","$88a08af890f49243$export$b4e2ba6756dec2c","$88a08af890f49243$export$25973911efc96b71","$88a08af890f49243$export$447c5938f45c45a5","$88a08af890f49243$export$1c9a1263a0d343f4","$88a08af890f49243$export$81f0fddb54debad3","$88a08af890f49243$export$27633cf363057263","$88a08af890f49243$export$4b16cd32b50218c6","$88a08af890f49243$export$9a6bb2acef5e644a","$88a08af890f49243$export$418e7590fd81e209","$28306200f69a6328$var$FLOATING_DATETIME","$28306200f69a6328$var$UTC_TIMEZONE","$28306200f69a6328$export$64d4bb1347f411e8","date","zone","deviceTimezone","dateString","isFloatingDatetime","dateFloating","$cw6c3$luxon","fromISO","toUTC","toISO","thisDate","dateConvert","setZone","$28306200f69a6328$export$6c2618c4afcf6cfb","$bf7b38bce41ca3dd$export$b7a9dbebc395fc65","className","isDark","$bf7b38bce41ca3dd$export$5f81845c2fa0b381","isMobile","$bf7b38bce41ca3dd$export$cf733e3bd5432c08","classNameParsed","$bf7b38bce41ca3dd$export$f5a7c490b6f9fbc4","dateObj","isValid","toFormat","$bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5","$bf7b38bce41ca3dd$export$76c69f043295405f","calendarView","showWeekNumbers","$bf7b38bce41ca3dd$export$4be7a748c9766cf9","array","$bf7b38bce41ca3dd$export$126fc096895fc6f5","$bf7b38bce41ca3dd$export$3643189503061f69","set","hour","minute","second","$bf7b38bce41ca3dd$export$a7827c78319dafc9","$bf7b38bce41ca3dd$export$23783ea7bfe28abd","item","endAt","timezoneStartAt","diff","startAt","toObject","days","$bf7b38bce41ca3dd$export$205aaf06acb1c5fc","translations","$bf7b38bce41ca3dd$export$e3e4ea182aca355e","$bf7b38bce41ca3dd$export$6d0e4c4a8ffb9c2b","events","result","entries","forEach","keyValue","eventsItems","$cw6c3$swchelpers","$bf7b38bce41ca3dd$export$3d836550a1b0c60b","timezone","dateKey","$bf7b38bce41ca3dd$export$b32ccbc1ca23891","width","selectedView","navigator","maxTouchPoints","$bf7b38bce41ca3dd$export$d9b78e6f3f437c1f","i","push","String","i1","$bf7b38bce41ca3dd$export$7b553a398ff09de5","draggingDisabledConditions","event","param","key","$d49542164c9bae14$var$FLOATING_DATETIME","$d49542164c9bae14$var$UTC_TIMEZONE","$d49542164c9bae14$export$9e6a8e9ca52f6a3d","$d49542164c9bae14$export$b7b5db2aa6555cc1","$d49542164c9bae14$export$45c85543ba71221d","$d49542164c9bae14$export$c4e1e4e065ff5bd8","$d49542164c9bae14$export$2fd089738c9b03fb","$d49542164c9bae14$export$4679370298bfc65","$d49542164c9bae14$export$1be242b518527e80","$d49542164c9bae14$export$884cf35d3975e8b9","$d49542164c9bae14$export$7c233a6f2ca6f19e","$d49542164c9bae14$export$74b2237eca26435b","$d49542164c9bae14$export$64d4bb1347f411e8","$d49542164c9bae14$var$LuxonHelper","parseToDateTime","getLastDayOfMonth","daysInMonth","day","getFirstDayOfMonth","isSameDay","dateA","dateB","year","month","isBefore","valueOf","isBeforeInDateTime","isBeforeAny","dateADateTime","dateBDateTime","isToday","todayDate","local","isTodayOrInFuture","parseToString","toUtcString","toUtc","setTimezone","toHumanDate","$d49542164c9bae14$export$2e2bcd8739ae039","$1500da26cef85c66$var$ONE_DAY","$1500da26cef85c66$var$THREE_DAYS","$1500da26cef85c66$var$SEVEN_DAYS","$1500da26cef85c66$export$b314e84a21bd4b5f","stringDate","slice","indexOf","$1500da26cef85c66$export$a6181a60b480c9a4","$1500da26cef85c66$export$418e7590fd81e209","$1500da26cef85c66$export$b1af3e61661bd3b2","red","dark","light","pink","purple","indigo","blue","cyan","teal","green","yellow","amber","orange","brown","$1500da26cef85c66$export$2d5ed1e6bc597003","colorString","$1500da26cef85c66$export$933d53aed74a6ef0","$1500da26cef85c66$export$88e7cb308ec58e48","$1500da26cef85c66$export$737cca9a4f8febb7","$1500da26cef85c66$var$calculateMondayStartWeekDay","dayInWeek","weekday","startDate","minus","plus","i2","$1500da26cef85c66$var$calculateSundayStartWeekDay","i3","i4","$1500da26cef85c66$export$69ac73875782844e","setSelectedDate","MONDAY","$1500da26cef85c66$export$b34cdd4783897766","isGoingForward","undefined","i5","i6","$1500da26cef85c66$export$f16d393a3268e3f3","$1500da26cef85c66$var$getOneDay","refDate","$1500da26cef85c66$export$f82b43a5dad4749","firstDayInMonth","monthDays","$1500da26cef85c66$export$be98daea68e5bd4","FIVE_WEEKS_DAYS_COUNT","firstDayOfCurrentMonth","firstWeekOfCurrentMonth","$1500da26cef85c66$export$4b1bd9c645c26ec4","$1500da26cef85c66$export$214c174a056fc56f","$1500da26cef85c66$export$431753531f5fca31","$1500da26cef85c66$export$89694f4f8cea7fb","$1500da26cef85c66$export$8abac2236d14a91f","oldIndex","newIndex","$1500da26cef85c66$export$77c6031193b02723","$1500da26cef85c66$export$e75d169fad6edf5f","$1500da26cef85c66$var$getReferenceDate","direction","calendarDays","TODAY","now","FORWARD","months","$1500da26cef85c66$export$20dc9138dd5b1a6a","$1500da26cef85c66$export$fef151b94550e9f5","ref","ref1","ref2","rangeFrom","millisecond","rangeTo","$585762b051d85803$export$c212dd23f1f0a1e3","eventA","eventB","startAtFirst","endAtFirst","startAtSecond","endAtSecond","fromDateTimes","overlaps","$585762b051d85803$var$adjustForMinimalHeight","hourHeight","eventADiff","minutes","eventBDiff","$585762b051d85803$export$75fe04c694e7ab2e","calendarIDsHidden","filter","calendarID","includes","$585762b051d85803$export$6a8cd07afb93412f","baseWidth","config","offsetCount","offsetCountFinal","tableWidth","tableSpace","eventsData","allDay","map","offsetLeft","item2","id","offsetTop","eventHeight","eventWidth","sort","height","zIndex","meta","isFullWidth","showTime","centerText","partialResult","Math","round","$585762b051d85803$export$2edf4a4fedf73d36","calendarDay","formattedDayString","dayEvents","groupedPositions","positions","$585762b051d85803$export$f917769c218c90fd","dateStart","dateEnd","dayTruncated","toMillis","eventStartTruncated","eventEndTruncated","externalID","$585762b051d85803$export$3a6eb9efca632dee","hasMatch","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","$3886b97a1526edd3$var$emptyFunction","$3886b97a1526edd3$var$parseTimeFormat","timeFormatValue","$3886b97a1526edd3$var$parseWeekDayStart","weekDayStartValue","SUNDAY","$3886b97a1526edd3$var$parseHourHeight","hourHeightOrigin","remainder","$3886b97a1526edd3$export$45a69314cf48a3eb","Intl","DateTimeFormat","resolvedOptions","timeZone","disableMobileDropdown","hasExternalLayout","eventLayouts","focusHour","showTimeLine","autoScroll","$3886b97a1526edd3$export$96e2a2f386b0b376","onEventDragFinish","onPageChange","onSelectView","onEventClick","onNewEventClick","showMoreMonth","onStateChange","$3886b97a1526edd3$var$ConfigLayer","$cw6c3$react","isReady","setIsReady","$65553fbba1d6d65b$export$841858b892ce1f4c","store","dispatch","setContext","type","payload","initFromProps","callbacks","colors","initialDate","style","isNewEventOpen","newConfig","eventsFiltered","JSON","stringify","children","$3886b97a1526edd3$export$2e2bcd8739ae039","$e7acfb653c6fbfca$var$Reducer","state","action","daysViewLayout","headerLayout","monthLayout","monthOverflowEvents","showMoreEvents","layoutUpdateSequence","selectedDate","isLoading","rawWidth","headerEventRowsCount","$e7acfb653c6fbfca$export$2e2bcd8739ae039","$073ad6afefbd1c74$exports","parse","$65553fbba1d6d65b$var$StoreProvider","_param","initialContext","primaryColor","baseColor","inverseBaseColor","Provider","$65553fbba1d6d65b$export$2e2bcd8739ae039","$ecf585202d453fcb$var$DateWeekDay","isDayToday","isMonthView","isAgendaView","navigateToDay","e","setViewChanged","preventDefault","stopPropagation","handleNewEventClick","toJSDate","startOf","endOf","view","getBackgroundColor","onClick","backgroundColor","cursor","$ecf585202d453fcb$export$2e2bcd8739ae039","$0689dc746d054cae$var$DayOfWeekText","$0689dc746d054cae$export$2e2bcd8739ae039","$df4cda54b7466b02$export$ff41551cf384acef","xShiftIndexRef","originalStartAtDateTime","originalEndAtDateTime","newDay","current","diffInMinutes","newStartAt","newEndAt","$df4cda54b7466b02$export$1fc19a5181516448","columnWidth","offsetLeftRef","eventWasChangedRef","setState","tableElement","tableElementRect","getBoundingClientRect","touches","nativeEvent","x","clientX","columnShift","floor","xTable","columnShiftTable","$e5a736e77c82a8d5$export$dd76bfaf05a6a47a","yShiftIndexRef","rowCalendarDays","tempArray","matchingRow","matchingDay","$e5a736e77c82a8d5$export$dc270e2350d64c2","draggingRef","offsetTopRef","index","columnHeight","yTable","clientY","y","yReal","columnShiftX","columnShiftY","columnShiftXParsed","parseInt","columnShiftYParsed","columnShiftTableX","$082d0c87d15d5b42$export$a53075e16597084a","$082d0c87d15d5b42$export$286c3aed0632f6fd","top","left","$79dca703cc699b4f$export$38477230a29207e3","border","$79dca703cc699b4f$export$2b35b885b699e674","dragging","initialTop","initialLeft","xPosition","eventHasChanged","isDragging","$79dca703cc699b4f$export$633076c346814fbe","setLayout","NORMAL","eventLayoutValue","HEADER","headerLayoutValue","monthLayoutValue","$79dca703cc699b4f$export$6da1c85d7de31b61","$1a47dae3ce368d80$var$CurrentHourLine","currentTime","wrapperStyle","background","$1a47dae3ce368d80$export$2e2bcd8739ae039","$17d79b7922eec8b8$var$renderEvents","dataset","eventRaw","$b852c5f3008abacb$export$2e2bcd8739ae039","internalID","$17d79b7922eec8b8$export$5c851bc642d7e5b8","$17d79b7922eec8b8$export$4f0cc7427b5c4255","stringValue","split","hourStart","minuteStart","Number","$17d79b7922eec8b8$export$51e2b98d4ac03ddd","toFixed","$17d79b7922eec8b8$var$DaysViewOneDay","ref6","data","setOffsetTop","ref3","offsetTopEnd","setOffsetTopEnd","ref4","startAtState","setStartAt","ref5","endAtState","setEndAt","newEventStartOffset","newEventEndOffset","startAtRef","isDraggingRef","isUpdating","position","borderRadius","opacity","handleEventClickInternal","rect","target","startAtOnClick","endAtOnClick","onMove","ref7","dayElement","getElementById","dayElementRect","yString","yValue","startAtValue","yString1","yValue1","startAtValue1","yString2","yValue2","endAtValue","onMouseUp","removeEventListener","targetClass","correctedValue","ref8","ref9","ref10","startValue","onMouseDownLong","button","addEventListener","onMouseDown","oneDayStyle","isFirstDay","dataForDay","dateNow","nowPosition","elements","querySelectorAll","element","scrollTo","behavior","handleCloseNewEventDrag","paddingTop","paddingLeft","fontSize","color","$17d79b7922eec8b8$export$2e2bcd8739ae039","$b65920b85a89468f$export$8b07b20d06dbc3c2","offsetTopValue","offsetLeftValue","goingForward","abs","minutesOffset","$b65920b85a89468f$export$8c6a352b48fd8d92","$b65920b85a89468f$export$a8520376571bd6a0","endAtRef","$d936bbeb8e3b329f$export$fd46f924699b0eb4","prevEvent","eventToUpdate","$f7dc25aaa4235907$var$timeout","$f7dc25aaa4235907$var$ButtonBase","text","style1","propagation","disabled","onClickFromParent","onMouseMove","onTouchEnd","buttonRef","isPressed","setIsPressed","spanStyle","setSpanStyle","onButtonClick","animateRipple","oneSide","clientWidth","clientHeight","clickLeft","clickTop","onTouchStart","setTimeout","onTouchMove","clearTimeout","buttonText","buttonClassName","$f7dc25aaa4235907$export$2e2bcd8739ae039","$8304c40ecd0ca62c$var$EventSummary","summary","isDarkColor","$8304c40ecd0ca62c$export$2e2bcd8739ae039","$5293df8efc30aa85$var$TIME_FORMAT_PATTERN","$5293df8efc30aa85$var$TIME_H_12_FORMAT_PATTERN","$5293df8efc30aa85$var$parseTimeFormat","$5293df8efc30aa85$var$formatEventTimeV2","startAtDateTime","endAtDateTime","start","end","$5293df8efc30aa85$var$normalTime","timeV2","$5293df8efc30aa85$var$EventTime","padding","margin","$5293df8efc30aa85$export$2e2bcd8739ae039","$82d351ff4940fae4$var$EventAgenda","justifyContent","alignItems","marginLeft","marginRight","$82d351ff4940fae4$export$2e2bcd8739ae039","$e4c1f2269414489f$var$EventMonth","$e4c1f2269414489f$export$2e2bcd8739ae039","$05400c9842705755$var$EventNormal","flexDirection","maxWidth","$05400c9842705755$export$2e2bcd8739ae039","$66c3795c5fc7507d$var$StateReducer","_payload","stateName","$66c3795c5fc7507d$export$2e2bcd8739ae039","$b852c5f3008abacb$var$timeoutRef","$b852c5f3008abacb$export$7027e19dcb369b2d","$parcel$interopDefault","$b852c5f3008abacb$var$EventButton","item1","type1","_day","dispatchState","isResizing","eventColor","getPosition","SHOW_MORE_MONTH","$cw6c3$kalendlayoutconstants","visibility","handleEventClick","layout","initMove","onResize","onMouseUpResize","updatedEvent","newEvent","onMouseDownResize","isDraggable","bottom","$86ca9f6752cc056e$var$renderEvents","allDayEvents","normalEvents","sortedEvents","a","b","$86ca9f6752cc056e$var$AgendaDayRow","scrollToThis","scrollIntoView","$86ca9f6752cc056e$export$2e2bcd8739ae039","$ae9d5d34ac1cc52f$var$renderAgendaEvents","scrollToSet","hasEvents","$ae9d5d34ac1cc52f$var$AgendaView","wasInit","setWasInit","calendarContent","setCalendarContent","then","res","content","$ae9d5d34ac1cc52f$export$2e2bcd8739ae039","$cea2a6b325f4edcd$var$CalendarIcon","$cw6c3$reactjsxruntime","xmlns","viewBox","fill","d","cx","cy","r","$cea2a6b325f4edcd$export$2e2bcd8739ae039","$de758c447aa9231a$var$ChevronDown","$de758c447aa9231a$export$2e2bcd8739ae039","$2764ed95df1a4c11$var$ChevronLeft","transform","$2764ed95df1a4c11$export$2e2bcd8739ae039","$ddaf3c6577962ab4$var$ChevronRight","$ddaf3c6577962ab4$export$2e2bcd8739ae039","$e5981d21af543faf$var$MenuIcon","$e5981d21af543faf$export$2e2bcd8739ae039","$1c7a61445362ebf7$export$a9676248d3e54baf","ChevronDown","ChevronLeft","ChevronRight","Calendar","More","$63103f0ef67d319d$export$3d0db7ed812b6b3f","dispatchContext","newCalendarDays","$63103f0ef67d319d$export$28b655052872eb26","_callee","$224cea852abf103b$var$ButtonIcon","size","iconSize","noActive","backdropClassName","handleTouchStart","handleTouchOff","containerClassName","backdropClassNameString","IconElement","cloneElement","$224cea852abf103b$export$2e2bcd8739ae039","$6188babcb8da6286$var$HeaderCalendarButton","buttonData","handleClose","isForcedMobile","isSelected","textClassName","navigateFunction","label","$6188babcb8da6286$export$72c130881ba16236","$6188babcb8da6286$var$HeaderCalendarButtons","$6188babcb8da6286$export$2e2bcd8739ae039","$95f304efc96ef4c9$var$CalendarViewDropdown","isOpen","setOpen","handleOpen","$95f304efc96ef4c9$export$2e2bcd8739ae039","$d2b46716a1f3a2a1$var$DesktopLayout","$d2b46716a1f3a2a1$export$2e2bcd8739ae039","$e8a58db0b7f8e0e1$var$HeaderCalendarTitle","title","$e8a58db0b7f8e0e1$export$2e2bcd8739ae039","$60dd5ae4676e5d2e$var$MobileLayout","$60dd5ae4676e5d2e$export$2e2bcd8739ae039","$21db0de5ba63f204$var$CalendarDesktopNavigation","isFullNavigationHidden","setIsFullNavigationHidden","titleDate","navigateBackwards","BACKWARDS","navigateForward","navigateToTodayDate","kalendRef","flex","$21db0de5ba63f204$export$2e2bcd8739ae039","$9a525da4604d3f07$var$CalendarHeaderColText","$9a525da4604d3f07$export$2e2bcd8739ae039","$2a3380b4418c18d4$var$CalendarHeaderCol","$2a3380b4418c18d4$export$2e2bcd8739ae039","$0c3afbe9f694dbf0$var$CalendarHeaderDates","daysNum","colWidth","renderNumericDays","numericDays","$0c3afbe9f694dbf0$export$2e2bcd8739ae039","$386a7bec00aa15a1$var$CalendarHeaderWeekDays","weekDays","renderDaysText","dayTextColumnWidth","namesForDays","$386a7bec00aa15a1$export$2e2bcd8739ae039","$a214409a8fa5f760$var$CalendarHeaderWrapper","headerStyle","$a214409a8fa5f760$export$2e2bcd8739ae039","$2d4e959c42b07254$var$CalendarHeaderDays","weekNumber","$2d4e959c42b07254$export$2e2bcd8739ae039","$89f45f2bf33757e0$var$CalendarHeaderEvents","renderEvents","sequence","column","colWidthStyle","daysNumbers","headerEvents","setHeaderEvents","headerEventsRaw","$89f45f2bf33757e0$export$2e2bcd8739ae039","$58f20473f1f0067a$var$CalendarHeader","isDayView","$58f20473f1f0067a$export$2e2bcd8739ae039","$f89b7b16d8022e68$var$CalendarTableLayoutLayer","isMounted","setIsMounted","rootEl","range","$f89b7b16d8022e68$export$2e2bcd8739ae039","$db9a28e0bd6328b4$var$getOffsetTop","format","isAfter12","$db9a28e0bd6328b4$var$renderHours","minHeight","$db9a28e0bd6328b4$var$CalendarBodyHours","hours","$db9a28e0bd6328b4$export$2e2bcd8739ae039","$b867b3e906676344$var$renderVerticalLines","$b867b3e906676344$var$DaysViewVerticalLines","verticalLines","$b867b3e906676344$export$2e2bcd8739ae039","$be26fc4a0d3aa4a6$var$renderOneDay","$be26fc4a0d3aa4a6$var$DaysViewTable","adjustScrollPosition","currentElement","shift","scrollTop","headerPositions","headerOffsetTop","normalPositions","$be26fc4a0d3aa4a6$export$2e2bcd8739ae039","$c57d36d3233524f5$export$ca41440b93b2a001","$c57d36d3233524f5$export$ebf0f5b49a0a9e59","events1","usedEvents","headerEventsFiltered","items","isInRange","eventPositionResult","rowWithNotOverlappingEvents","eventToCompare","isOverlapping","isMatchingAll","itemFromRow","isOverlappingAll","sortedResult","offset","hasMatchingDay","eventPositionData","formattedResult","$0491e7111fa05a9f$var$formatOverflowingEvents","dateTimeStartAt","dateTimeEndAt","differenceInDays","$0491e7111fa05a9f$export$89831913a243f8ab","calendarDaysRows","$0491e7111fa05a9f$export$d27f846d3c4971c6","diffA","diffB","$0491e7111fa05a9f$var$getMonthRowPosition","maxEventsVisible","overflowEvents","overflowingEvents","sortedByLength","isOverflowing","$0491e7111fa05a9f$export$ac592545eadc1037","row","rowResult","$b1f96b393fd4bbd3$var$Dropdown","isVisible","setVisible","handleClick","_nativeEvent","getStyle","maxHeight","minWidth","overflowX","overflowY","newX","newY","offsetHeight","innerHeight","offsetWidth","innerWidth","getElementsByClassName","$b1f96b393fd4bbd3$export$2e2bcd8739ae039","$05ef8620e2e948fa$var$MonthViewButtonMore","renderShowMoreButtons","showMoreButtons","$05ef8620e2e948fa$export$2e2bcd8739ae039","$c4cfd121d9d256dd$var$MonthWeekRow","itemRows","$c4cfd121d9d256dd$export$2e2bcd8739ae039","$4e630ae36e00686b$var$renderOneRow","eventRows","rows","$4e630ae36e00686b$var$MonthView","$4e630ae36e00686b$export$2e2bcd8739ae039","$7b4ef3e16846642d$var$renderCols","weekNum","weekNum1","$7b4ef3e16846642d$var$WeekNumbersCol","cols","$7b4ef3e16846642d$export$2e2bcd8739ae039","$2c06f9532bb9aaf9$var$Calendar","prevView","setPrevView","viewChanged","calendarDaysInitial","viewChangedValue","calendarDaysNew","selectedViewValue","$2c06f9532bb9aaf9$export$2e2bcd8739ae039","$f101c73fee185a96$var$DimensionsLayoutLayer","resizeObserver","ResizeObserver","entryRect","contentRect","observe","$f101c73fee185a96$export$2e2bcd8739ae039","$4f8fac8212b1a05e$exports","$9ac065e100f212f5$exports","$8afa7629b855c8cd$exports","$a1d28ad4f425ad6f$exports","$8d153bee865ba9a1$exports","$6d7cb4bf3385b3b5$exports","$36362bd2dc53dd73$var$getKnownLanguage","language","$36362bd2dc53dd73$var$LanguageLayer","customLanguage","$36362bd2dc53dd73$export$2e2bcd8739ae039","$7d02895a6af4de33$var$RootLayoutLayer","$7d02895a6af4de33$export$2e2bcd8739ae039","$3f7b2fe5d2c34f8f$export$b573856c46cc9357","$3f7b2fe5d2c34f8f$var$Kalend","$3f7b2fe5d2c34f8f$export$2e2bcd8739ae039"],"sources":["C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\common\\enums.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\validator.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\common\\constants.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\dateTimeParser.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\common.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\luxonHelper.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\calendarDays.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\eventLayout.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\layers\\ConfigLayer.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\context\\reducer.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\locales\\en.json","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\context\\store.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\dateWeekDay\\DateWeekDay.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\dayOfWeekText\\DayOfWeekText.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\utils\\draggingHeader.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\utils\\draggingMonth.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\utils\\draggingMonthMore.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\EventButton.utils.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\currentHourLine\\CurrentHourLine.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\daysViewTable\\daysViewOneDay\\DaysViewOneDay.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\utils\\draggingWeek.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\utils\\draggingGeneral.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\buttonBase\\ButtonBase.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\components\\eventSummary\\EventSummary.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\components\\eventTime\\EventTime.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\eventAgenda\\EventAgenda.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\eventMonth\\EventMonth.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\eventNormal\\EventNormal.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\stateReducer.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eventButton\\EventButton.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\agendaView\\agendaDayRow\\AgendaDayRow.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\agendaView\\AgendaView.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eva-icons\\CalendarIcon.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eva-icons\\ChevronDown.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eva-icons\\ChevronLeft.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eva-icons\\ChevronRight.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eva-icons\\more.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\eva-icons\\index.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\utils\\getCalendarDays.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\buttonIcon\\ButtonIcon.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\headerCalendarButtons\\HeaderCalendarButtons.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarViewDropdown\\CalendarViewDropdown.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\desktopLayout\\DesktopLayout.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\headerCalendarTitle\\HeaderCalendarTitle.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\mobileLayout\\MobileLayout.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\CalendarDesktopNavigation\\CalendarDesktopNavigation.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\components\\calendarHeaderColText\\CalendarHeaderColText.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\components\\calendarHeaderCol\\CalendarHeaderCol.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\components\\calendarHeaderDates\\CalendarHeaderDates.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\components\\calendarHeaderWeekDays\\CalendarHeaderWeekDays.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\components\\calendarHeaderWrapper\\CalendarHeaderWrapper.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\calendarHeaderDays\\CalendarHeaderDays.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\calendarHeaderEvents\\CalendarHeaderEvents.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\CalendarHeader.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\layers\\CalendarTableLayoutLayer.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\daysViewTable\\daysViewOneDay\\calendarBodyHours\\CalendarBodyHours.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\daysViewTable\\daysViewVerticalLines\\DaysViewVerticalLines.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\daysViewTable\\DaysViewTable.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\calendarHeader\\calendarHeaderEvents\\CalendarHeaderEvents.utils.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\monthView\\monthWeekRow\\MonthWeekRow.utils.ts","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\dropdown\\Dropdown.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\monthView\\monthViewButtonMore\\MonthViewButtonMore.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\monthView\\monthWeekRow\\MonthWeekRow.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\monthView\\MonthView.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\components\\weekNumbersCol\\WeekNumbersCol.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\Calendar.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\layers\\DimensionsLayoutLayer.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\locales\\de.json","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\locales\\es.json","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\locales\\fr.json","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\locales\\ptBR.json","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\locales\\ru.json","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\locales\\zh.json","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\layers\\LanguageLayer.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\layers\\RootLayoutLayer.tsx","C:\\Users\\deval\\Desktop\\JSX\\calendar2.0\\node_modules\\kalend\\dist\\src\\index.tsx"],"sourcesContent":["export enum CALENDAR_VIEW {\n  AGENDA = 'agenda',\n  WEEK = 'week',\n  DAY = 'day',\n  THREE_DAYS = 'threeDays',\n  MONTH = 'month',\n}\n\nexport enum EVENT_TYPE {\n  NORMAL = 'normal',\n  MONTH = 'month',\n  AGENDA = 'agenda',\n  HEADER = 'header',\n  SHOW_MORE_MONTH = 'showMoreMonth',\n}\n\nexport enum CALENDAR_NAVIGATION_DIRECTION {\n  FORWARD = 'forward',\n  BACKWARDS = 'backwards',\n  TODAY = 'today',\n}\n\nexport enum WEEKDAY_START {\n  MONDAY = 'MONDAY',\n  SUNDAY = 'SUNDAY',\n  UNKNOWN = 'UNKNOWN',\n}\n\nexport enum TIME_FORMAT {\n  H_24 = '24',\n  H_12 = '12',\n}\n","import { CALENDAR_VIEW, TIME_FORMAT } from '../common/enums';\nimport { KalendProps } from '../index';\n\nconst getCalendarView = (value: string): CALENDAR_VIEW | null => {\n  if (value.toLowerCase() === CALENDAR_VIEW.DAY.toLowerCase()) {\n    return CALENDAR_VIEW.DAY;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.THREE_DAYS.toLowerCase()) {\n    return CALENDAR_VIEW.THREE_DAYS;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.WEEK.toLowerCase()) {\n    return CALENDAR_VIEW.WEEK;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.MONTH.toLowerCase()) {\n    return CALENDAR_VIEW.MONTH;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.AGENDA.toLowerCase()) {\n    return CALENDAR_VIEW.AGENDA;\n  }\n\n  return null;\n};\n\nexport const validateProps = (props: KalendProps): void => {\n  // Validate views\n  if (props.disabledViews) {\n    // throw error if all views are disabled\n    if (props.disabledViews.length === Object.values(CALENDAR_VIEW).length) {\n      throw Error('[Kalend]: At least one calendar view has to be enabled');\n    }\n  }\n\n  // validate initial view\n  if (props.initialView) {\n    const initialView: CALENDAR_VIEW | null = getCalendarView(\n      props.initialView.toString()\n    );\n    if (!initialView) {\n      throw Error(`[Kalend]: Initial view \"${props.initialView}\" is not valid`);\n    }\n  }\n\n  // validate weekDayStart\n  if (\n    props.weekDayStart &&\n    props.weekDayStart !== 'Monday' &&\n    props.weekDayStart !== 'Sunday'\n  ) {\n    throw Error(\n      `[Kalend]: invalid weekDayStart prop \"${props.weekDayStart}\". Set either Monday or Sunday`\n    );\n  }\n\n  // validate timeFormat\n  if (props.timeFormat) {\n    if (\n      props.timeFormat !== TIME_FORMAT.H_24.toString() &&\n      props.timeFormat !== TIME_FORMAT.H_12.toString()\n    ) {\n      `[Kalend]: invalid timeFormat prop \"${\n        props.timeFormat\n      }\". Valid values are '${TIME_FORMAT.H_24.toString()}' or '${TIME_FORMAT.H_12.toString()}'`;\n    }\n  }\n};\n\nexport const validateStyle = (): void => {\n  const el: Element | null = document.querySelector('.Kalend__Calendar__root');\n\n  if (el) {\n    if (window.getComputedStyle(el).display !== 'flex') {\n      throw Error(\n        `[Calend]: CSS file not imported.\n         Reason: You probably forgot to import css file in your app as\n         import 'kalend/dist/styles/index.css';\n\n         Valid usage:\n         import Kalend from 'kalend';\n         import 'kalend/dist/styles/index.css';`\n      );\n    }\n  }\n};\n","export const EVENT_MIN_HEIGHT = 25;\nexport const EVENT_TABLE_DELIMITER = 1;\nexport const TABLE_COL_SPACE = 5;\nexport const EVENT_TABLE_DELIMITER_SPACE = 8;\nexport const HOUR_COL_HEIGHT = 40;\nexport const CALENDAR_OFFSET_LEFT = 40;\nexport const DEFAULT_HOUR_HEIGHT = 40;\nexport const SHOW_TIME_THRESHOLD = 60;\nexport const MONTH_DAY_HEADER_HEIGHT = 25;\nexport const MONTH_EVENT_HEIGHT = 14;\nexport const SCROLLBAR_WIDTH = 15;\n\nexport const hoursArrayString = [\n  '00',\n  '01',\n  '02',\n  '03',\n  '04',\n  '05',\n  '06',\n  '07',\n  '08',\n  '09',\n  '10',\n  '11',\n  '12',\n  '13',\n  '14',\n  '15',\n  '16',\n  '17',\n  '18',\n  '19',\n  '20',\n  '21',\n  '22',\n  '23',\n];\n","import { DateTime } from 'luxon';\n\n//\n// Support for local datetime, timezones and floating times\n//\nconst FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\nconst UTC_TIMEZONE = 'UTC';\n\n/**\n * Parse datetime according different rules like local datetime, floating time and timezones\n * @param date\n * @param zone\n * @param deviceTimezone\n * @constructor\n */\nexport const DatetimeParser = (\n  date: DateTime | string,\n  zone: string,\n  deviceTimezone?: string\n): string => {\n  const dateString: string = typeof date === 'string' ? date : date.toString();\n\n  const isFloatingDatetime: boolean = zone === FLOATING_DATETIME;\n\n  // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n  if (isFloatingDatetime) {\n    const dateFloating: DateTime = DateTime.fromISO(dateString, {\n      zone: UTC_TIMEZONE,\n    });\n\n    return dateFloating.toUTC().toISO();\n  }\n\n  const thisDate: DateTime = DateTime.fromISO(dateString);\n\n  // Adjust datetime to device timezone\n  if (deviceTimezone) {\n    const dateConvert: DateTime = thisDate.setZone(zone);\n\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nexport const parseToDateTime = (\n  date: DateTime | string,\n  zone: string,\n  deviceTimezone?: string\n): DateTime => {\n  const dateString: string = typeof date === 'string' ? date : date.toString();\n\n  const isFloatingDatetime: boolean = zone === FLOATING_DATETIME;\n\n  // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n  if (isFloatingDatetime) {\n    const dateFloating: DateTime = DateTime.fromISO(dateString, {\n      zone: UTC_TIMEZONE,\n    });\n\n    return dateFloating.toUTC();\n  }\n\n  const thisDate: DateTime = DateTime.fromISO(dateString);\n\n  if (!zone) {\n    // Adjust datetime to device timezone\n    if (deviceTimezone) {\n      return thisDate.setZone(deviceTimezone);\n    } else {\n      return thisDate;\n    }\n  }\n\n  return thisDate.setZone(zone);\n};\n","import { CALENDAR_OFFSET_LEFT, SCROLLBAR_WIDTH } from '../common/constants';\nimport { CALENDAR_VIEW, TIME_FORMAT } from '../common/enums';\nimport { CalendarEvent, DraggingDisabledConditions } from '../common/interface';\nimport { DateTime } from 'luxon';\nimport { parseToDateTime } from './dateTimeParser';\n\nexport const parseCssDark = (\n  className: string,\n  isDark: boolean | undefined\n): string => {\n  if (isDark) {\n    return `${className}-dark`;\n  }\n\n  return className;\n};\n\nexport const parseIsMobile = (className: string, isMobile: boolean): string => {\n  return isMobile ? `${className}-mobile` : className;\n};\n\nexport const parseClassName = (\n  className: string,\n  isMobile?: boolean,\n  isDark?: boolean\n): string => {\n  let classNameParsed = className;\n  classNameParsed = isMobile ? `${classNameParsed}-mobile` : classNameParsed;\n  classNameParsed = isDark ? `${classNameParsed}-dark` : classNameParsed;\n\n  return classNameParsed;\n};\n\nexport const formatTimestampToDate = (dateObj: any): string =>\n  dateObj.isValid\n    ? dateObj.toFormat('dd-MM-yyyy')\n    : DateTime.fromISO(dateObj).toFormat('dd-MM-yyyy');\n\nexport const formatDateTimeToString = (dateObj: DateTime): string =>\n  dateObj.toFormat('dd-MM-yyyy');\n\n/**\n * Get left offset for timetable when hours column in used\n * @param calendarView\n * @param showWeekNumbers\n */\nexport const getTableOffset = (\n  calendarView: CALENDAR_VIEW,\n  showWeekNumbers?: boolean\n): number => {\n  if (calendarView === CALENDAR_VIEW.MONTH && showWeekNumbers) {\n    return 30;\n  }\n\n  if (\n    calendarView === CALENDAR_VIEW.THREE_DAYS ||\n    calendarView === CALENDAR_VIEW.DAY ||\n    calendarView === CALENDAR_VIEW.WEEK\n  ) {\n    return CALENDAR_OFFSET_LEFT;\n  }\n\n  return 0;\n};\n\nexport const getArrayStart = (array: any) => array[0];\nexport const getArrayEnd = (array: any) => array[array.length - 1];\nexport const getDayTimeStart = (date: DateTime): string =>\n  date.set({ hour: 0, minute: 0, second: 0 }).toUTC().toString();\nexport const getDayTimeEnd = (date: DateTime): string =>\n  date.set({ hour: 23, minute: 59, second: 59 }).toUTC().toString();\n\nexport const isAllDayEvent = (item: CalendarEvent): boolean => {\n  if (!item) {\n    return false;\n  }\n\n  return (\n    // @ts-ignore\n    parseToDateTime(item.endAt, item.timezoneStartAt)\n      .diff(parseToDateTime(item.startAt, item.timezoneStartAt), 'days')\n      .toObject().days > 1\n  );\n};\n\nexport const parseCalendarViewToText = (\n  calendarView: CALENDAR_VIEW,\n  translations: any\n): string => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.AGENDA:\n      return translations['buttons']['agenda'];\n    case CALENDAR_VIEW.DAY:\n      return translations['buttons']['day'];\n    case CALENDAR_VIEW.THREE_DAYS:\n      return translations['buttons']['threeDays'];\n    case CALENDAR_VIEW.WEEK:\n      return translations['buttons']['week'];\n    case CALENDAR_VIEW.MONTH:\n      return translations['buttons']['month'];\n    default:\n      return '';\n  }\n};\n\nexport const getSelectedViewType = (calendarView: CALENDAR_VIEW): string => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.AGENDA:\n      return CALENDAR_VIEW.AGENDA;\n    case CALENDAR_VIEW.DAY:\n      return CALENDAR_VIEW.WEEK;\n    case CALENDAR_VIEW.THREE_DAYS:\n      return CALENDAR_VIEW.WEEK;\n    case CALENDAR_VIEW.WEEK:\n      return CALENDAR_VIEW.WEEK;\n    case CALENDAR_VIEW.MONTH:\n      return CALENDAR_VIEW.MONTH;\n    default:\n      return '';\n  }\n};\n\nexport const eventsToArray = (events: any): CalendarEvent[] => {\n  let result: CalendarEvent[] = [];\n\n  if (!events) {\n    return result;\n  }\n\n  Object.entries(events).forEach((keyValue: any) => {\n    const eventsItems: CalendarEvent[] = keyValue[1];\n    result = [...result, ...eventsItems];\n  });\n\n  return result;\n};\n\nexport const eventsToDateKey = (events: CalendarEvent[], timezone: string) => {\n  const result: any = {};\n\n  events?.forEach((item: any) => {\n    const dateKey: any = parseToDateTime(\n      item.startAt,\n      item.timezoneStartAt || timezone\n    ).toFormat('dd-MM-yyyy');\n\n    if (result[dateKey]) {\n      result[dateKey] = [...result[dateKey], ...[item]];\n    } else {\n      result[dateKey] = [item];\n    }\n  });\n\n  return result;\n};\n\n/**\n * Adjust width for views with displayed scrollbar cutting of space\n * @param width\n * @param isMobile\n * @param selectedView\n */\nexport const getCorrectWidth = (\n  width: number,\n  isMobile: boolean,\n  selectedView: CALENDAR_VIEW\n): number => {\n  if (\n    selectedView === CALENDAR_VIEW.WEEK ||\n    selectedView === CALENDAR_VIEW.DAY ||\n    selectedView === CALENDAR_VIEW.THREE_DAYS\n  ) {\n    if (\n      isMobile &&\n      ('ontouchstart' in window || window.navigator.maxTouchPoints)\n    ) {\n      return width;\n    } else {\n      return width - SCROLLBAR_WIDTH;\n    }\n  }\n\n  return width;\n};\n\nexport const createVerticalHours = (timeFormat: TIME_FORMAT): string[] => {\n  const result: string[] = [];\n\n  if (timeFormat === TIME_FORMAT.H_24) {\n    for (let i = 0; i < 24; i++) {\n      if (i < 10) {\n        result.push(`0${i}`);\n      } else {\n        result.push(String(i));\n      }\n    }\n  } else if (timeFormat === TIME_FORMAT.H_12) {\n    for (let i = 0; i < 24; i++) {\n      if (i < 12) {\n        result.push(`${i} AM`);\n      } else if (i === 12) {\n        result.push(`${i} PM`);\n      } else if (i === 24) {\n        result.push(`24 PM`);\n      } else {\n        result.push(`${i - 12} PM`);\n      }\n    }\n  }\n\n  return result;\n};\n\nexport const checkIfDraggable = (\n  draggingDisabledConditions: DraggingDisabledConditions | null,\n  event: CalendarEvent\n) => {\n  if (!draggingDisabledConditions) {\n    return true;\n  }\n\n  let result = true;\n\n  Object.entries(draggingDisabledConditions).forEach(([key, value]) => {\n    if (event[key]) {\n      if (event[key] === value) {\n        result = false;\n        return false;\n      }\n    }\n  });\n\n  return result;\n};\n","import { DateTime } from 'luxon';\n//\n// Support for local datetime, timezones and floating times\n//\nconst FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\nconst UTC_TIMEZONE = 'UTC';\n\nexport const TIMESTAMP_FORMAT = \"yyyy-MM-dd HH:mm:ss 'Z'\";\nexport const DATE_HOUR_FORMAT = 'd. MMM, HH:mm';\nexport const DATE_FORMAT = 'd. MMMM';\nexport const TIME_FORMAT = 'HH:mm';\nexport const DATE_DAY_FORMAT = 'd. MMMM (EEEEEE)';\nexport const WEEK_DAY_FORMAT = 'cccc';\nexport const WEEK_DAY_FORMAT_MEDIUM = 'ccc';\nexport const WEEK_DAY_FORMAT_SHORT = 'EEEEEE';\nexport const DATE_MONTH_YEAR_FORMAT = 'd. MMMM yyyy';\nexport const EVENTS_DAY_FORMAT = 'dd-MM-yyyy';\n\n/**\n * Parse datetime according different rules like local datetime, floating time and timezones\n * @param date\n * @param zone\n * @param deviceTimezone\n * @constructor\n */\nexport const DatetimeParser = (\n  date: DateTime | string,\n  zone: string,\n  deviceTimezone?: string\n): string => {\n  const dateString: string = typeof date === 'string' ? date : date.toString();\n\n  const isFloatingDatetime: boolean = zone === FLOATING_DATETIME;\n\n  // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n  if (isFloatingDatetime) {\n    const dateFloating: DateTime = DateTime.fromISO(dateString, {\n      zone: UTC_TIMEZONE,\n    });\n\n    return dateFloating.toUTC().toISO();\n  }\n\n  const thisDate: DateTime = DateTime.fromISO(dateString);\n\n  // Adjust datetime to device timezone\n  if (deviceTimezone) {\n    const dateConvert: DateTime = thisDate.setZone(zone);\n\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nconst LuxonHelper = {\n  parseToDateTime: (date: string | DateTime): DateTime =>\n    typeof date === 'string' ? DateTime.fromISO(date) : date,\n\n  getLastDayOfMonth: (date: DateTime): DateTime => {\n    const daysInMonth: number = date.daysInMonth;\n\n    return date.set({ day: daysInMonth });\n  },\n\n  getFirstDayOfMonth: (date: DateTime): DateTime => date.set({ day: 1 }),\n\n  isSameDay: (dateA: DateTime, dateB: DateTime): boolean => {\n    return (\n      dateA.year === dateB.year &&\n      dateA.month === dateB.month &&\n      dateA.day === dateB.day\n    );\n  },\n\n  isBefore: (dateA: string, dateB: string): boolean =>\n    DateTime.fromISO(dateB).valueOf() - DateTime.fromISO(dateA).valueOf() > 0,\n\n  isBeforeInDateTime: (dateA: DateTime, dateB: DateTime): boolean =>\n    dateB.valueOf() - dateA.valueOf() > 0,\n\n  isBeforeAny: (dateA: string, dateB: string): boolean => {\n    const dateADateTime: DateTime = LuxonHelper.parseToDateTime(dateA);\n    const dateBDateTime: DateTime = LuxonHelper.parseToDateTime(dateB);\n\n    return dateBDateTime.valueOf() - dateADateTime.valueOf() > 0;\n  },\n\n  isToday: (dateA: DateTime): boolean => {\n    const todayDate: DateTime = DateTime.local();\n\n    return (\n      dateA.day === todayDate.day &&\n      dateA.month === todayDate.month &&\n      dateA.year === todayDate.year\n    );\n  },\n\n  isTodayOrInFuture: (dateA: DateTime): boolean => {\n    const todayDate: DateTime = DateTime.local();\n\n    return (\n      dateA.day >= todayDate.day &&\n      dateA.month >= todayDate.month &&\n      dateA.year >= todayDate.year\n    );\n  },\n\n  parseToString: (date: DateTime | string): string => {\n    if (typeof date !== 'string') {\n      if (date.isValid) {\n        return date.toUTC().toString();\n      }\n    }\n\n    return date.toString() as string;\n  },\n  toUtcString: (date: string): string => DateTime.fromISO(date).toUTC().toISO(),\n  toUtc: (date: DateTime): string => date.toUTC().toISO(),\n  setTimezone: (dateString: string, timezone: string): string =>\n    DateTime.fromISO(dateString).setZone(timezone).toString(),\n  toHumanDate: (dateString: string): string =>\n    DateTime.fromISO(dateString).toFormat('d LLL yyyy hh:mm'),\n};\n\nexport default LuxonHelper;\n","/* tslint:disable:no-magic-numbers */\nimport {\n  CALENDAR_NAVIGATION_DIRECTION,\n  CALENDAR_VIEW,\n  WEEKDAY_START,\n} from '../common/enums';\nimport { DateTime } from 'luxon';\nimport { getArrayEnd, getArrayStart } from './common';\nimport LuxonHelper from './luxonHelper';\n\nconst ONE_DAY = 1;\nconst THREE_DAYS = 3;\nconst SEVEN_DAYS = 7;\n\nexport const formatIsoStringDate = (stringDate: string) =>\n  stringDate.slice(0, stringDate.indexOf('T'));\n\nexport const hoursArray = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,\n  22, 23, 24,\n];\n\nexport const hoursArrayString = [\n  '00',\n  '01',\n  '02',\n  '03',\n  '04',\n  '05',\n  '06',\n  '07',\n  '08',\n  '09',\n  '10',\n  '11',\n  '12',\n  '13',\n  '14',\n  '15',\n  '16',\n  '17',\n  '18',\n  '19',\n  '20',\n  '21',\n  '22',\n  '23',\n];\n\nexport const calendarColors: any = {\n  red: { dark: '#ef9a9a', light: '#e53935' },\n  pink: { dark: '#f48fb1', light: '#d81b60' },\n  purple: { dark: '#ce93d8', light: '#8e24aa' },\n  'deep purple': { dark: '#b39ddb', light: '#5e35b1' },\n  indigo: { dark: '#9fa8da', light: '#3949ab' },\n  blue: { dark: '#90caf9', light: '#1e88e5' },\n  'light blue': { dark: '#81d4fa', light: '#039be5' },\n  cyan: { dark: '#80deea', light: '#00acc1' },\n  teal: { dark: '#80cbc4', light: '#00897b' },\n  green: { dark: '#a5d6a7', light: '#43a047' },\n  'light green': { dark: '#c5e1a5', light: '#7cb342' },\n  yellow: { dark: '#fff59d', light: '#fdd835' },\n  amber: { dark: '#ffe082', light: '#ffb300' },\n  orange: { dark: '#ffcc80', light: '#fb8c00' },\n  'deep orange': { dark: '#ffab91', light: '#f4511e' },\n  brown: { dark: '#bcaaa4', light: '#6d4c41' },\n  'blue grey': { dark: '#b0bec5', light: '#546e7a' },\n};\n\nexport const parseEventColor = (\n  colorString: string,\n  isDark?: boolean\n): string =>\n  calendarColors[colorString]\n    ? calendarColors[colorString][isDark ? 'dark' : 'light']\n    : colorString;\n\nexport const daysText = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\nexport const daysTextSundayStart = [\n  'Sun',\n  'Mon',\n  'Tue',\n  'Wed',\n  'Thu',\n  'Fri',\n  'Sat',\n];\n\nexport const calculateOneDay = (date: DateTime): DateTime => {\n  return date;\n};\n\nconst calculateMondayStartWeekDay = (\n  date: DateTime,\n  calendarView: CALENDAR_VIEW\n): DateTime[] => {\n  const days = [];\n  const dayInWeek = date.weekday;\n  const startDate = date.minus({ days: dayInWeek - 1 });\n\n  if (calendarView === CALENDAR_VIEW.MONTH) {\n    if (dayInWeek === 0) {\n      for (let i = 6; i > 0; i--) {\n        days.push(date.minus({ days: i }));\n      }\n      days.push(date);\n    } else {\n      days.push(startDate);\n      for (let i = 1; i < 7; i++) {\n        days.push(startDate.plus({ days: i }));\n      }\n    }\n  } else {\n    for (let i = 0; i < 7; i++) {\n      days.push(startDate.plus({ days: i }));\n    }\n  }\n\n  return days;\n};\n\nconst calculateSundayStartWeekDay = (\n  date: DateTime,\n  calendarView: CALENDAR_VIEW\n): DateTime[] => {\n  const days = [];\n  const dayInWeek = date.weekday;\n  const startDate =\n    dayInWeek === 7\n      ? date.plus({ days: dayInWeek - 7 })\n      : date.minus({ days: dayInWeek });\n\n  if (calendarView === CALENDAR_VIEW.MONTH) {\n    if (dayInWeek === 7) {\n      for (let i = 6; i > 0; i--) {\n        days.push(date.minus({ days: i }));\n      }\n      days.push(date);\n    } else {\n      days.push(startDate);\n      for (let i = 1; i < 7; i++) {\n        days.push(startDate.plus({ days: i }));\n      }\n    }\n  } else {\n    for (let i = 0; i < 7; i++) {\n      days.push(startDate.plus({ days: i }));\n    }\n  }\n\n  return days;\n};\n\nexport const getWeekDays = (\n  date: DateTime,\n  calendarView: CALENDAR_VIEW,\n  weekDayStart: WEEKDAY_START,\n  setSelectedDate?: any\n): DateTime[] => {\n  // Set state\n  if (setSelectedDate && calendarView !== CALENDAR_VIEW.MONTH) {\n    setSelectedDate(date);\n  }\n\n  if (weekDayStart === WEEKDAY_START.MONDAY) {\n    return calculateMondayStartWeekDay(date, calendarView);\n  } else {\n    return calculateSundayStartWeekDay(date, calendarView);\n  }\n};\n\nexport const getThreeDays = (\n  date: DateTime,\n  setSelectedDate: any,\n  isGoingForward?: boolean | null\n): DateTime[] => {\n  const days = [];\n\n  if (isGoingForward === null || isGoingForward === undefined) {\n    for (let i = 0; i <= 2; i++) {\n      days.push(date.plus({ days: i }));\n    }\n  } else if (isGoingForward) {\n    for (let i = 1; i <= 3; i++) {\n      days.push(date.plus({ days: i }));\n    }\n  } else {\n    for (let i = 3; i > 0; i--) {\n      days.push(date.minus({ days: i }));\n    }\n  }\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(days[1]);\n  }\n\n  return days;\n};\n\nexport const getDaysNum = (calendarView: CALENDAR_VIEW): number => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.WEEK:\n      return SEVEN_DAYS;\n    case CALENDAR_VIEW.THREE_DAYS:\n      return THREE_DAYS;\n    case CALENDAR_VIEW.DAY:\n      return ONE_DAY;\n    default:\n      return SEVEN_DAYS;\n  }\n};\n\nconst getOneDay = (date: DateTime, setSelectedDate: any): DateTime[] => {\n  const refDate: DateTime = calculateOneDay(date);\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(refDate);\n  }\n\n  return [refDate];\n};\n\nexport const calculateAgendaDays = (refDate: DateTime): DateTime[] => {\n  const firstDayInMonth: DateTime = LuxonHelper.getFirstDayOfMonth(refDate);\n  const daysInMonth: number = refDate.daysInMonth;\n  const monthDays: DateTime[] = [];\n\n  // Add missing days to month view\n  for (let i = 0; i < daysInMonth; i += 1) {\n    const day: DateTime = firstDayInMonth.plus({ days: i });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nexport const calculateMonthDays = (\n  date: DateTime,\n  weekDayStart: WEEKDAY_START\n): DateTime[] => {\n  const FIVE_WEEKS_DAYS_COUNT = 36;\n  // Get reference date for calculating new month\n\n  // Get first week of current month\n  const firstDayOfCurrentMonth: DateTime = LuxonHelper.getFirstDayOfMonth(date);\n\n  const firstWeekOfCurrentMonth: DateTime[] = getWeekDays(\n    firstDayOfCurrentMonth,\n    CALENDAR_VIEW.WEEK,\n    weekDayStart,\n    undefined\n  );\n\n  const monthDays: DateTime[] = firstWeekOfCurrentMonth;\n\n  // Add missing days to month view\n  for (let i = 1; i < FIVE_WEEKS_DAYS_COUNT; i += 1) {\n    const day: DateTime = firstWeekOfCurrentMonth[6].plus({ days: i });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nexport const getAgendaDays = (\n  date: DateTime,\n  setSelectedDate: any\n): DateTime[] => {\n  const monthDays: DateTime[] = calculateAgendaDays(date);\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(monthDays[15]);\n  }\n\n  return monthDays;\n};\n\nexport const getMonthDays = (\n  date: DateTime,\n  setSelectedDate: any,\n  weekDayStart: WEEKDAY_START\n) => {\n  const monthDays: DateTime[] = calculateMonthDays(date, weekDayStart);\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(monthDays[15]);\n  }\n\n  return monthDays;\n};\n\n// TODO dark theme support for parsing colors\n// export const mapCalendarColors = (calendars: any) => {\n//   const result: any = {};\n//   for (const calendar of calendars) {\n//     result[calendar.id] = {\n//       color: {\n//         light: calendar.color.light,\n//         dark: calendar.color.dark,\n//       },\n//     };\n//   }\n//\n//   return result;\n// };\n\nexport const parseToDate = (item: string | DateTime): DateTime =>\n  typeof item === 'string' ? DateTime.fromISO(item) : item;\n\nexport const parseDateToString = (item: string | DateTime): string =>\n  typeof item === 'string' ? item : item.toString();\n\nexport const checkIfSwipingForward = (\n  oldIndex: number,\n  newIndex: number\n): boolean =>\n  (oldIndex === 0 && newIndex === 1) ||\n  (oldIndex === 1 && newIndex === 2) ||\n  (oldIndex === 2 && newIndex === 0);\n\nexport const chooseSelectedDateIndex = (\n  calendarView: CALENDAR_VIEW\n): number => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.MONTH:\n      return 15;\n    case CALENDAR_VIEW.AGENDA:\n      return 15;\n    case CALENDAR_VIEW.WEEK:\n      return 2;\n    case CALENDAR_VIEW.THREE_DAYS:\n      return 0;\n    case CALENDAR_VIEW.DAY:\n      return 0;\n    default:\n      return 2;\n  }\n};\n\nexport const getCalendarDays = (\n  calendarView: CALENDAR_VIEW,\n  date: DateTime,\n  weekDayStart: WEEKDAY_START,\n  setSelectedDate?: any\n): DateTime[] => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.WEEK:\n      return getWeekDays(date, calendarView, weekDayStart, setSelectedDate);\n    case CALENDAR_VIEW.THREE_DAYS:\n      return getThreeDays(date, setSelectedDate);\n    case CALENDAR_VIEW.DAY:\n      return getOneDay(date, setSelectedDate);\n    case CALENDAR_VIEW.MONTH:\n      return getMonthDays(date, setSelectedDate, weekDayStart);\n    case CALENDAR_VIEW.AGENDA:\n      return getAgendaDays(date, setSelectedDate);\n    default:\n      return getWeekDays(date, calendarView, setSelectedDate);\n  }\n};\n\nconst getReferenceDate = (\n  direction: CALENDAR_NAVIGATION_DIRECTION,\n  calendarView: CALENDAR_VIEW,\n  calendarDays: DateTime[]\n): DateTime => {\n  if (direction === CALENDAR_NAVIGATION_DIRECTION.TODAY) {\n    return DateTime.now();\n  }\n\n  if (calendarView === CALENDAR_VIEW.THREE_DAYS) {\n    if (direction === CALENDAR_NAVIGATION_DIRECTION.FORWARD) {\n      return getArrayEnd(calendarDays).plus({ days: 1 });\n    } else {\n      return getArrayStart(calendarDays).minus({ days: 3 });\n    }\n  }\n\n  if (\n    calendarView === CALENDAR_VIEW.WEEK ||\n    calendarView === CALENDAR_VIEW.DAY\n  ) {\n    if (direction === CALENDAR_NAVIGATION_DIRECTION.FORWARD) {\n      return getArrayEnd(calendarDays).plus({ days: 1 });\n    } else {\n      return getArrayStart(calendarDays).minus({ days: 1 });\n    }\n  }\n\n  if (\n    calendarView === CALENDAR_VIEW.MONTH ||\n    calendarView === CALENDAR_VIEW.AGENDA\n  ) {\n    if (direction === CALENDAR_NAVIGATION_DIRECTION.FORWARD) {\n      return calendarDays[15].plus({ months: 1 });\n    } else {\n      return calendarDays[15].minus({ months: 1 });\n    }\n  }\n\n  return DateTime.now();\n};\n\nexport const calculateCalendarDays = (\n  direction: CALENDAR_NAVIGATION_DIRECTION,\n  calendarDays: DateTime[],\n  calendarView: CALENDAR_VIEW,\n  setSelectedDate: any,\n  weekDayStart: WEEKDAY_START\n): DateTime[] => {\n  return getCalendarDays(\n    calendarView,\n    getReferenceDate(direction, calendarView, calendarDays),\n    weekDayStart,\n    setSelectedDate\n  );\n};\n\nexport const getRange = (calendarDays: DateTime[]) => {\n  return {\n    rangeFrom: calendarDays?.[0]\n      ?.set({ hour: 0, minute: 0, second: 0, millisecond: 0 })\n      .toUTC()\n      .toString(),\n    rangeTo: calendarDays?.[calendarDays?.length - 1]\n      ?.set({ hour: 23, minute: 59, second: 59, millisecond: 59 })\n      ?.toUTC()\n      .toString(),\n  };\n};\n","/**\n * Calculate normal event positions for one day\n * @param daysNum\n * @param events\n * @param baseWidth\n * @param isDark\n * @param defaultTimezone\n */\nimport { CALENDAR_VIEW } from '../common/enums';\nimport {\n  CalendarEvent,\n  Config,\n  NormalEventPosition,\n} from '../common/interface';\nimport { DateTime, Interval } from 'luxon';\nimport {\n  EVENT_MIN_HEIGHT,\n  EVENT_TABLE_DELIMITER_SPACE,\n  SHOW_TIME_THRESHOLD,\n} from '../common/constants';\nimport { getDaysNum, parseToDate } from './calendarDays';\nimport { parseToDateTime } from './dateTimeParser';\n\nexport const checkOverlappingEvents = (\n  eventA: CalendarEvent,\n  eventB: CalendarEvent,\n  timezone: string\n): boolean => {\n  const startAtFirst: DateTime = parseToDateTime(\n    eventA.startAt,\n    eventA.timezoneStartAt,\n    timezone\n  );\n  const endAtFirst: DateTime = parseToDateTime(\n    eventA.endAt,\n    eventA.timezoneStartAt,\n    timezone\n  );\n  const startAtSecond: DateTime = parseToDateTime(\n    eventB.startAt,\n    eventB.timezoneStartAt,\n    timezone\n  );\n  const endAtSecond: DateTime = parseToDateTime(\n    eventB.endAt,\n    eventB.timezoneStartAt,\n    timezone\n  );\n\n  return Interval.fromDateTimes(startAtFirst, endAtFirst).overlaps(\n    Interval.fromDateTimes(startAtSecond, endAtSecond)\n  );\n};\n\nconst adjustForMinimalHeight = (\n  eventA: any,\n  eventB: any,\n  hourHeight: number\n): { eventA: any; eventB: any } => {\n  const result: any = {\n    eventA: { ...eventA },\n    eventB: { ...eventB },\n  };\n\n  const eventADiff: number =\n    // @ts-ignore\n    DateTime.fromISO(eventA.endAt)\n      .diff(DateTime.fromISO(eventA.startAt))\n      .toObject().minutes /\n    (60 / hourHeight);\n  const eventBDiff: number =\n    // @ts-ignore\n    DateTime.fromISO(eventB.endAt)\n      .diff(DateTime.fromISO(eventB.startAt))\n      .toObject().minutes /\n    (60 / hourHeight);\n\n  if (eventADiff < EVENT_MIN_HEIGHT) {\n    result.eventA.endAt = DateTime.fromISO(result.eventA.endAt)\n      .plus({\n        minutes: EVENT_MIN_HEIGHT - eventADiff,\n      })\n      .toString();\n  }\n  if (eventBDiff < EVENT_MIN_HEIGHT) {\n    result.eventB.endAt = DateTime.fromISO(result.eventB.endAt)\n      .plus({\n        minutes: EVENT_MIN_HEIGHT - eventBDiff,\n      })\n      .toString();\n  }\n\n  return result;\n};\n\nexport const filterEventsByCalendarIDs = (\n  events: any,\n  calendarIDsHidden?: string[]\n) => {\n  if (!calendarIDsHidden || calendarIDsHidden.length === 0) {\n    return events;\n  }\n\n  return events.filter((item: any) => {\n    if (item.calendarID) {\n      if (calendarIDsHidden?.includes(item.calendarID)) {\n        return false;\n      } else {\n        return item;\n      }\n    }\n\n    return item;\n  });\n};\n\nexport const calculateNormalEventPositions = (\n  events: any,\n  baseWidth: number,\n  config: Config,\n  selectedView: CALENDAR_VIEW,\n  dateKey: string\n): NormalEventPosition[] => {\n  const result: NormalEventPosition[] = [];\n\n  let offsetCount: any = []; //Store every event id of overlapping items\n  let offsetCountFinal: any; //Sort events by id number\n  const tableWidth: number = baseWidth / getDaysNum(selectedView);\n  const tableSpace: number = (tableWidth / 100) * EVENT_TABLE_DELIMITER_SPACE;\n\n  if (events) {\n    const eventsData: any = events;\n    // Filter all day events and multi day events\n    eventsData\n      .filter((item: any) => !item.allDay)\n      .map((event: any) => {\n        let width = 1; //Full width\n        let offsetLeft = 0;\n        // Compare events\n        eventsData.forEach((item2: any) => {\n          if (event.id !== item2.id && !item2.allDay) {\n            // adjust events to have at least minimal height to check\n            // overlapping\n            const { eventA, eventB } = adjustForMinimalHeight(\n              event,\n              item2,\n              config.hourHeight\n            );\n\n            if (\n              checkOverlappingEvents(eventA, eventB, config.timezone) &&\n              !eventB.allDay\n            ) {\n              width = width + 1; //add width for every overlapping item\n              offsetCount.push(item2.id); // set offset for positioning\n              offsetCount.push(event.id); // set offset for positioning\n            }\n          }\n        });\n\n        const offsetTop: any =\n          // @ts-ignore\n          parseToDateTime(event.startAt, event.timezoneStartAt, config.timezone)\n            .diff(\n              parseToDateTime(\n                event.startAt,\n                event.timezoneStartAt,\n                config.timezone\n              ).set({\n                hour: 0,\n                minute: 0,\n                second: 0,\n              }),\n              'minutes'\n            )\n            .toObject().minutes /\n          (60 / config.hourHeight); // adjust based on hour column height\n\n        const eventHeight: any =\n          // @ts-ignore\n          parseToDateTime(event.endAt, event.timezoneStartAt)\n            .diff(\n              parseToDateTime(event.startAt, event.timezoneStartAt),\n              'minutes'\n            )\n            .toObject().minutes /\n          (60 / config.hourHeight); // adjust based on hour column height\n\n        const eventWidth: number = tableWidth / width;\n\n        //sort items for proper calculations of offset by id\n        // prevent different order in loop\n        if (offsetCount.length > 0) {\n          offsetCountFinal = offsetCount.sort();\n        }\n\n        if (offsetCountFinal) {\n          offsetLeft = eventWidth * offsetCountFinal.indexOf(event.id); //count offset\n        }\n\n        //event.left\n        // Current status: events is displayed in wrong place\n        offsetCount = [];\n        offsetCountFinal = '';\n\n        result.push({\n          dateKey,\n          event,\n          height:\n            eventHeight < EVENT_MIN_HEIGHT ? EVENT_MIN_HEIGHT : eventHeight,\n          width: eventWidth,\n          offsetLeft,\n          offsetTop,\n          zIndex: 2,\n          meta: {\n            isFullWidth: width === 1,\n            showTime:\n              eventWidth >= SHOW_TIME_THRESHOLD &&\n              eventHeight >= SHOW_TIME_THRESHOLD,\n            centerText: eventHeight <= SHOW_TIME_THRESHOLD,\n          },\n        });\n      });\n  }\n\n  const partialResult: NormalEventPosition[] = result.map(\n    (item: NormalEventPosition) => {\n      // full event width\n      if (item.meta?.isFullWidth) {\n        return {\n          ...item,\n          width: Math.round(item.width - tableSpace), // add some padding,\n        };\n      } else if (item.offsetLeft > 0) {\n        return {\n          ...item,\n          width: Math.round(item.width),\n          offsetLeft: item.offsetLeft - tableSpace,\n          zIndex: item.zIndex ? item.zIndex + 2 : 2,\n        };\n      } else {\n        return { ...item, width: Math.round(item.width) };\n      }\n    }\n  );\n\n  return partialResult;\n};\n\nexport const calculateDaysViewLayout = (\n  calendarDays: DateTime[],\n  events: any,\n  baseWidth: number,\n  config: Config,\n  selectedView: CALENDAR_VIEW\n) => {\n  const result: any = {};\n  calendarDays.forEach((calendarDay) => {\n    const formattedDayString: string = calendarDay.toFormat('dd-MM-yyyy');\n    const dayEvents: any = events[formattedDayString];\n\n    const groupedPositions: any = {};\n\n    const positions = calculateNormalEventPositions(\n      dayEvents,\n      baseWidth,\n      config,\n      selectedView,\n      formattedDayString\n    );\n\n    positions.forEach((item: any) => {\n      if (groupedPositions[item.event.id]) {\n        groupedPositions[item.event.id] = item;\n      } else {\n        groupedPositions[item.event.id] = item;\n      }\n    });\n\n    result[formattedDayString] = groupedPositions;\n  });\n\n  return result;\n};\n\nexport const checkOverlappingDatesForHeaderEvents = (\n  event: CalendarEvent,\n  day: DateTime,\n  timezone: string\n): boolean => {\n  const dateStart = parseToDateTime(\n    event.startAt,\n    event.timezoneStartAt || timezone\n  );\n  const dateEnd = parseToDateTime(\n    event.endAt,\n    event.timezoneStartAt || timezone\n  );\n  const dayTruncated: number = parseToDate(day)\n    .set({ hour: 0, minute: 0, millisecond: 0, second: 0 })\n    .toMillis();\n\n  const eventStartTruncated: number = dateStart\n    .set({ hour: 0, minute: 0, millisecond: 0, second: 0 })\n    .toMillis();\n  const eventEndTruncated: number = dateEnd\n    .set({ hour: 0, minute: 0, millisecond: 0, second: 0 })\n    .toMillis();\n\n  // fix wrong positioning when external all day event ends in next day\n  if (event.externalID) {\n    return (\n      dayTruncated >= eventStartTruncated && dayTruncated < eventEndTruncated\n    );\n  } else {\n    return (\n      dayTruncated >= eventStartTruncated && dayTruncated <= eventEndTruncated\n    );\n  }\n};\n\nexport const isEventInRange = (\n  event: CalendarEvent,\n  days: DateTime[],\n  timezone: string\n): boolean => {\n  let hasMatch = false;\n\n  for (const day of days) {\n    if (checkOverlappingDatesForHeaderEvents(event, day, timezone)) {\n      hasMatch = true;\n      return true;\n      // return false;\n    }\n  }\n\n  return hasMatch;\n};\n","import { CALENDAR_VIEW, TIME_FORMAT, WEEKDAY_START } from '../common/enums';\nimport { Callbacks, Config } from '../common/interface';\nimport { Context } from '../context/store';\nimport { DEFAULT_HOUR_HEIGHT } from '../common/constants';\nimport { DateTime } from 'luxon';\nimport { KalendProps } from '../index';\nimport { filterEventsByCalendarIDs } from '../utils/eventLayout';\nimport { useContext, useEffect, useState } from 'react';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst emptyFunction = () => {};\n\nconst parseTimeFormat = (\n  timeFormatValue: string | undefined\n): TIME_FORMAT | void => {\n  if (timeFormatValue) {\n    if (\n      timeFormatValue.toLowerCase() ===\n      TIME_FORMAT.H_24.toString().toLowerCase()\n    ) {\n      return TIME_FORMAT.H_24;\n    } else if (\n      timeFormatValue.toLowerCase() ===\n      TIME_FORMAT.H_12.toString().toLowerCase()\n    ) {\n      return TIME_FORMAT.H_12;\n    }\n  }\n};\n\nconst parseWeekDayStart = (\n  weekDayStartValue: string | undefined\n): WEEKDAY_START | void => {\n  if (weekDayStartValue) {\n    if (\n      weekDayStartValue.toLowerCase() === WEEKDAY_START.MONDAY.toLowerCase()\n    ) {\n      return WEEKDAY_START.MONDAY;\n    } else if (\n      weekDayStartValue.toLowerCase() === WEEKDAY_START.SUNDAY.toLowerCase()\n    ) {\n      return WEEKDAY_START.SUNDAY;\n    }\n  }\n};\n\nconst parseHourHeight = (hourHeightOrigin: number) => {\n  const remainder = hourHeightOrigin % 4;\n\n  if (remainder === 0) {\n    return hourHeightOrigin;\n  }\n\n  const result = hourHeightOrigin - remainder;\n\n  return result >= 10 ? result : DEFAULT_HOUR_HEIGHT;\n};\n\nexport const createConfig = (props: KalendProps): Config => {\n  return {\n    hourHeight: props.hourHeight\n      ? parseHourHeight(props.hourHeight)\n      : DEFAULT_HOUR_HEIGHT,\n    timeFormat: parseTimeFormat(props.timeFormat) || TIME_FORMAT.H_24,\n    timezone:\n      props.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone,\n    weekDayStart: parseWeekDayStart(props.weekDayStart) || WEEKDAY_START.MONDAY,\n    isDark: props.isDark || false,\n    disableMobileDropdown: props.disableMobileDropdown || false,\n    disabledViews: props.disabledViews,\n    calendarIDsHidden: props.calendarIDsHidden || null,\n    hasExternalLayout: props.eventLayouts !== undefined,\n    focusHour: props.focusHour || null,\n    showTimeLine: props.showTimeLine || false,\n    autoScroll: props.autoScroll || false,\n  };\n};\n\nexport const createCallbacks = (props: KalendProps): Callbacks => {\n  return {\n    onEventDragFinish: props.onEventDragFinish || undefined,\n    onPageChange: props.onPageChange || undefined,\n    onSelectView: props.onSelectView || undefined,\n    onEventClick: props.onEventClick || emptyFunction,\n    onNewEventClick: props.onNewEventClick || emptyFunction,\n    showMoreMonth: props.showMoreMonth || emptyFunction,\n    onStateChange: props.onStateChange || undefined,\n  };\n};\n\nconst ConfigLayer = (props: KalendProps) => {\n  const [isReady, setIsReady] = useState(false);\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const initFromProps = () => {\n    const config = createConfig(props);\n    const callbacks = createCallbacks(props);\n    setContext('config', config);\n    if (props.colors) {\n      setContext('colors', props.colors);\n    }\n    setContext('callbacks', callbacks);\n    setContext('isDark', props.isDark || false);\n    setContext(\n      'selectedView',\n      props.selectedView || props.initialView || CALENDAR_VIEW.WEEK\n    );\n    setContext(\n      'selectedDate',\n      props.initialDate ? DateTime.fromISO(props.initialDate) : DateTime.now()\n    );\n\n    setContext('isNewEventOpen', true);\n    if (props.style) {\n      setContext('style', props.style);\n    }\n\n    setContext('showWeekNumbers', props.showWeekNumbers || false);\n\n    if (props.draggingDisabledConditions) {\n      setContext(\n        'draggingDisabledConditions',\n        props.draggingDisabledConditions\n      );\n    }\n\n    setIsReady(true);\n  };\n  useEffect(() => {\n    initFromProps();\n    setIsReady(true);\n  }, []);\n\n  useEffect(() => {\n    setContext('isNewEventOpen', props.isNewEventOpen);\n  }, [props.isNewEventOpen]);\n\n  useEffect(() => {\n    initFromProps();\n  }, [\n    props.timeFormat,\n    props.timezone,\n    props.showWeekNumbers,\n    // props.disabledViews, // keeps re-rendering without any change\n    props.isDark,\n    props.disableMobileDropdown,\n  ]);\n\n  useEffect(() => {\n    const newConfig = { ...store.config };\n\n    if (props.hourHeight) {\n      newConfig.hourHeight = parseHourHeight(props.hourHeight);\n    }\n\n    setContext('config', newConfig);\n  }, [props.hourHeight]);\n\n  useEffect(() => {\n    const eventsFiltered: any = filterEventsByCalendarIDs(\n      props.events,\n      props.calendarIDsHidden\n    );\n\n    setContext('events', eventsFiltered);\n  }, [\n    JSON.stringify(props.calendarIDsHidden),\n    props.calendarIDsHidden?.length,\n  ]);\n\n  return isReady ? props.children : null;\n};\n\nexport default ConfigLayer;\n","// tslint:disable-next-line:cyclomatic-complexity\nconst Reducer = (state: any, action: any) => {\n  switch (action.type) {\n    case 'initialView':\n      return {\n        ...state,\n        initialView: action.payload,\n      };\n    case 'selectedView':\n      return {\n        ...state,\n        selectedView: action.payload,\n      };\n    case 'draggingDisabledConditions':\n      return {\n        ...state,\n        draggingDisabledConditions: action.payload,\n      };\n    case 'isMobile':\n      return {\n        ...state,\n        isMobile: action.payload,\n      };\n    case 'isDark':\n      return {\n        ...state,\n        isDark: action.payload,\n      };\n    case 'isNewEventOpen':\n      return {\n        ...state,\n        isNewEventOpen: action.payload,\n      };\n    case 'showWeekNumbers':\n      return {\n        ...state,\n        showWeekNumbers: action.payload,\n      };\n    case 'translations':\n      return {\n        ...state,\n        translations: action.payload,\n      };\n    case 'style':\n      return {\n        ...state,\n        style: action.payload,\n      };\n    case 'direction':\n      return {\n        ...state,\n        direction: action.payload,\n      };\n    case 'daysViewLayout':\n      return {\n        ...state,\n        daysViewLayout: action.payload,\n      };\n    case 'config':\n      return {\n        ...state,\n        config: action.payload,\n      };\n    case 'colors':\n      return {\n        ...state,\n        colors: action.payload,\n      };\n    case 'headerLayout':\n      return {\n        ...state,\n        headerLayout: action.payload,\n      };\n    case 'monthLayout':\n      return {\n        ...state,\n        monthLayout: action.payload,\n      };\n    case 'monthOverflowEvents':\n      return {\n        ...state,\n        monthOverflowEvents: action.payload,\n      };\n    case 'showMoreEvents':\n      return {\n        ...state,\n        showMoreEvents: action.payload,\n      };\n    case 'layoutUpdateSequence':\n      return {\n        ...state,\n        layoutUpdateSequence: action.payload,\n      };\n    case 'events':\n      return {\n        ...state,\n        events: action.payload,\n      };\n    case 'selectedDate':\n      return {\n        ...state,\n        selectedDate: action.payload,\n      };\n    case 'calendarDays':\n      return {\n        ...state,\n        calendarDays: action.payload,\n      };\n    case 'isLoading':\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    case 'rawWidth':\n      return {\n        ...state,\n        rawWidth: action.payload,\n      };\n    case 'width':\n      return {\n        ...state,\n        width: action.payload,\n      };\n    case 'height':\n      return {\n        ...state,\n        height: action.payload,\n      };\n    case 'callbacks':\n      return {\n        ...state,\n        callbacks: action.payload,\n      };\n    case 'headerEventRowsCount':\n      return {\n        ...state,\n        headerEventRowsCount: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default Reducer;\n","{\n  \"buttons\": {\n    \"today\": \"Today\",\n    \"agenda\": \"Agenda\",\n    \"day\": \"Day\",\n    \"threeDays\": \"3 Days\",\n    \"week\": \"Week\",\n    \"month\": \"Month\",\n    \"showMore\": \"More\"\n  },\n  \"months\": {\n    \"january\": \"January\",\n    \"february\": \"February\",\n    \"march\": \"March\",\n    \"april\": \"April\",\n    \"may\": \"May\",\n    \"june\": \"June\",\n    \"july\": \"July\",\n    \"august\": \"August\",\n    \"september\": \"September\",\n    \"october\": \"October\",\n    \"november\": \"November\",\n    \"december\": \"December\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Mon\",\n    \"Tue\": \"Tue\",\n    \"Wed\": \"Wed\",\n    \"Thu\": \"Thu\",\n    \"Fri\": \"Fri\",\n    \"Sat\": \"Sat\",\n    \"Sun\": \"Sun\"\n  },\n  \"weekShort\": \"W\"\n}\n","import { CALENDAR_NAVIGATION_DIRECTION, CALENDAR_VIEW } from '../common/enums';\nimport {\n  Callbacks,\n  Colors,\n  Config,\n  DraggingDisabledConditions,\n  EventLayout,\n  ShowMoreEvents,\n  Style,\n} from '../common/interface';\nimport { DateTime } from 'luxon';\nimport { createCallbacks, createConfig } from '../layers/ConfigLayer';\nimport { createContext, useReducer } from 'react';\nimport Reducer from './reducer';\nimport en from '../locales/en.json';\n\nexport interface Store {\n  isLoading: boolean;\n  headerEventRowsCount: number;\n  initialView: CALENDAR_VIEW | null;\n  selectedView: CALENDAR_VIEW | null;\n  selectedDate: DateTime;\n  calendarDays: DateTime[];\n  width: number;\n  rawWidth: number;\n  height: number;\n  isMobile: boolean;\n  events: any;\n  // layouts\n  daysViewLayout: EventLayout | null;\n  headerLayout: EventLayout | null;\n  monthLayout: EventLayout[] | null;\n  monthOverflowEvents: any;\n  layoutUpdateSequence: number;\n  config: Config;\n  callbacks: Callbacks;\n  showMoreEvents: ShowMoreEvents | null;\n  direction: CALENDAR_NAVIGATION_DIRECTION;\n  draggingDisabledConditions: DraggingDisabledConditions | null;\n  translations: any;\n  isNewEventOpen: boolean;\n  style: Style;\n  showWeekNumbers: boolean;\n  isDark: boolean;\n  colors: Colors;\n}\n\nexport const Context: any = createContext({});\n\nconst StoreProvider = ({ children, ...props }: any) => {\n  const initialContext: Store = {\n    isLoading: false,\n    headerEventRowsCount: 0,\n    initialView: null,\n    selectedView: null,\n    selectedDate: DateTime.now(),\n    calendarDays: [],\n    width: 0,\n    rawWidth: 0,\n    height: 0,\n    isMobile: false,\n    events: {},\n    daysViewLayout: null,\n    headerLayout: null,\n    monthLayout: null,\n    monthOverflowEvents: null,\n    showMoreEvents: null,\n    showWeekNumbers: false,\n    layoutUpdateSequence: 1,\n    config: createConfig(props),\n    callbacks: createCallbacks({}),\n    direction: CALENDAR_NAVIGATION_DIRECTION.TODAY,\n    translations: en,\n    isNewEventOpen: false,\n    draggingDisabledConditions: null,\n    isDark: false,\n    style: {\n      primaryColor: '#ec407a',\n      baseColor: '#424242FF',\n      inverseBaseColor: '#E5E5E5FF',\n    },\n    colors: {\n      light: {\n        primaryColor: '#ec407a',\n      },\n      dark: {\n        primaryColor: '#f48fb1',\n      },\n    },\n  };\n\n  const [store, dispatch] = useReducer(Reducer, initialContext);\n\n  return (\n    <Context.Provider value={[store, dispatch]}>{children}</Context.Provider>\n  );\n};\n\nexport default StoreProvider;\n","import { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { DateWeekDayProps } from './DateWeekDay.props';\nimport { parseCssDark } from '../../utils/common';\nimport { useContext } from 'react';\nimport LuxonHelper from '../../utils/luxonHelper';\n\nconst DateWeekDay = (props: DateWeekDayProps) => {\n  const { width, day } = props;\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { selectedView, callbacks } = store;\n\n  const isDayToday: boolean = LuxonHelper.isToday(day);\n\n  const isMonthView: boolean = selectedView === CALENDAR_VIEW.MONTH;\n  const isAgendaView: boolean = selectedView === CALENDAR_VIEW.AGENDA;\n\n  const navigateToDay = (e: any) => {\n    if (props.setViewChanged) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      props.setViewChanged(CALENDAR_VIEW.DAY);\n      setContext('selectedDate', day);\n      setContext('calendarDays', [day]);\n    }\n  };\n\n  const handleNewEventClick = (event: any) => {\n    if (callbacks.onNewEventClick) {\n      callbacks.onNewEventClick(\n        {\n          day: day.toJSDate(),\n          hour: day.toUTC().hour,\n          startAt: day\n            ?.setZone(store.config.timezone)\n            .startOf('day')\n            .toUTC()\n            .toString(),\n          endAt: day\n            ?.setZone(store.config.timezone)\n            .endOf('day')\n            .toUTC()\n            .toString(),\n          event,\n          view: selectedView,\n        },\n        event\n      );\n    }\n  };\n\n  const getBackgroundColor = () => {\n    if (!store.isDark) {\n      if (isDayToday) {\n        return store.colors.light.primaryColor;\n      }\n    } else {\n      if (isDayToday) {\n        return store.colors.dark.primaryColor;\n      }\n    }\n  };\n\n  return (\n    <div\n      className={'Kalend__CalendarHeaderDates__col'}\n      style={{ width }}\n      onClick={handleNewEventClick}\n    >\n      <div\n        className={`${parseCssDark(\n          `Kalend__CalendarHeaderDates__circle${isMonthView ? '-small' : ''}`,\n          store.isDark\n        )} ${isDayToday ? 'Kalend__CalendarHeaderDates__primary' : ''} ${\n          isAgendaView\n            ? isDayToday\n              ? 'Kalend__CalendarHeaderDates__agenda-primary'\n              : 'Kalend__CalendarHeaderDates__agenda'\n            : ''\n        }`}\n        onClick={navigateToDay}\n        style={{\n          backgroundColor: getBackgroundColor(),\n          cursor: props.setViewChanged ? 'pointer' : 'normal',\n        }}\n      >\n        <p\n          className={`Kalend__text Kalend__CalendarHeaderDates__text ${\n            selectedView === CALENDAR_VIEW.MONTH\n              ? 'Kalend__CalendarHeaderDates__text-size-small'\n              : ''\n          } ${\n            isDayToday\n              ? parseCssDark('Kalend__color-text-base', !store.isDark)\n              : parseCssDark('Kalend__color-text-base', store.isDark)\n          }`}\n        >\n          {day.day}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default DateWeekDay;\n","import { Context } from '../../context/store';\nimport { DayOfWeekTextProps } from './DayOfWeekText.props';\nimport { parseCssDark } from '../../utils/common';\nimport { useContext } from 'react';\n\nconst DayOfWeekText = (props: DayOfWeekTextProps) => {\n  const { width, day } = props;\n\n  const [store] = useContext(Context);\n\n  const { translations } = store;\n\n  return (\n    <div className={'Kalend__CalendarHeaderWeekDays__col'} style={{ width }}>\n      <p\n        className={parseCssDark(\n          'Kalend__text Kalend__CalendarHeaderWeekDays__text',\n          store.isDark\n        )}\n      >\n        {translations['weekDays'][`${day.toFormat('EEE')}`]}\n      </p>\n    </div>\n  );\n};\n\nexport default DayOfWeekText;\n","import { CALENDAR_OFFSET_LEFT } from '../../../common/constants';\nimport { CalendarEvent } from '../../../common/interface';\nimport { DateTime } from 'luxon';\n\nexport const calculateHeaderAfterDrag = (\n  calendarDays: DateTime[],\n  event: CalendarEvent,\n  xShiftIndexRef: any\n): CalendarEvent => {\n  const originalStartAtDateTime = DateTime.fromISO(event.startAt);\n  const originalEndAtDateTime = DateTime.fromISO(event.endAt);\n\n  const newDay: DateTime = calendarDays.map(\n    (calendarDay: DateTime) => calendarDay\n  )[xShiftIndexRef.current];\n\n  const diffInMinutes: number | undefined = originalEndAtDateTime\n    .diff(originalStartAtDateTime, 'minutes')\n    .toObject().minutes;\n\n  const newStartAt: DateTime = originalStartAtDateTime.set({\n    year: newDay.year,\n    day: newDay.day,\n    month: newDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute,\n  });\n\n  // set correct endAt\n  const newEndAt: DateTime = newStartAt.plus({ minutes: diffInMinutes });\n\n  return {\n    ...event,\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString(),\n  };\n};\n\nexport const onMoveHeader = (\n  e: any,\n  columnWidth: number,\n  width: number,\n  xShiftIndexRef: any,\n  offsetLeftRef: any,\n  eventWasChangedRef: any,\n  setState: any\n) => {\n  const tableElement: any = document.querySelector('.Kalend__Calendar__table');\n  const tableElementRect = tableElement.getBoundingClientRect();\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let x: number;\n\n  // handle touch movement\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x - CALENDAR_OFFSET_LEFT;\n  }\n\n  // prevent free dragging across columns with simple recalculation for\n  const columnShift = Math.floor(x / columnWidth);\n\n  const xTable = e.clientX - tableElementRect.x; //- CALENDAR_OFFSET_LEFT;\n\n  const columnShiftTable = Math.round(xTable / columnWidth);\n\n  if (\n    columnShiftTable * columnWidth >= width ||\n    xTable < 0 ||\n    xTable < columnWidth / 2\n  ) {\n    return;\n  }\n\n  // prevent event overflowing on last day\n  // TODO reset back after moving left again\n\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth + 1); // add 1 because 0\n  // was not working\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n};\n","import { CalendarEvent } from '../../../common/interface';\nimport { DateTime } from 'luxon';\n\nexport const calculateMonthEventAfterDrag = (\n  calendarDays: DateTime[],\n  yShiftIndexRef: any,\n  xShiftIndexRef: any,\n  event: CalendarEvent\n): CalendarEvent => {\n  // get new date from x, y coordinates\n\n  // split calendarDays by rows\n  const rowCalendarDays: DateTime[][] = [];\n\n  let tempArray: DateTime[] = [];\n\n  calendarDays.forEach((calendarDay: DateTime) => {\n    if (\n      tempArray.length === 7 ||\n      (rowCalendarDays.length === 5 && tempArray.length === 6)\n    ) {\n      tempArray.push(calendarDay);\n      rowCalendarDays.push(tempArray);\n      tempArray = [];\n    }\n\n    tempArray.push(calendarDay);\n  });\n\n  // get correct row by y coordinate\n  const matchingRow: DateTime[] = rowCalendarDays[yShiftIndexRef.current];\n\n  // get day by x coordinate\n  const matchingDay: DateTime = matchingRow[xShiftIndexRef.current];\n\n  const originalStartAtDateTime = DateTime.fromISO(event.startAt);\n  const originalEndAtDateTime = DateTime.fromISO(event.endAt);\n\n  const diffInMinutes: number | undefined = originalEndAtDateTime\n    .diff(originalStartAtDateTime, 'minutes')\n    .toObject().minutes;\n\n  const newStartAt: DateTime = originalStartAtDateTime.set({\n    year: matchingDay.year,\n    day: matchingDay.day,\n    month: matchingDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute,\n  });\n\n  // set correct endAt\n  const newEndAt: DateTime = newStartAt.plus({ minutes: diffInMinutes });\n\n  return {\n    ...event,\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString(),\n  };\n};\n\nexport const onMoveMonthEvent = (\n  e: any,\n  height: number,\n  draggingRef: any,\n  day: DateTime,\n  columnWidth: number,\n  width: number,\n  xShiftIndexRef: any,\n  yShiftIndexRef: any,\n  eventWasChangedRef: any,\n  offsetLeftRef: any,\n  offsetTopRef: any,\n  setState: any,\n  index: number\n) => {\n  const columnHeight: number = height / 6;\n  if (!draggingRef.current) {\n    return;\n  }\n\n  if (!day) {\n    return;\n  }\n\n  const tableElement: any = document.querySelector('.Kalend__Calendar__table');\n  const tableElementRect = tableElement.getBoundingClientRect();\n\n  const xTable = e.clientX - tableElementRect.x;\n  const yTable = e.clientY - tableElementRect.y;\n\n  // Get column element for day, where event is placed\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let x: number;\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n    y = touches.clientY - tableElementRect.y;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x;\n    y = e.clientY - tableElementRect.y;\n  }\n\n  const yReal = yTable - index * columnHeight;\n\n  // prevent free dragging across columns with simple recalculation for\n  const columnShiftX = Math.floor(x / columnWidth);\n  const columnShiftY = Math.floor(yReal / columnHeight);\n\n  const columnShiftXParsed = parseInt((xTable / columnWidth).toString());\n  const columnShiftYParsed = parseInt((yTable / columnHeight).toString());\n\n  const columnShiftTableX = Math.round(xTable / columnWidth);\n\n  if (\n    columnShiftTableX * columnWidth >= width ||\n    xTable < 0 ||\n    columnShiftY * columnHeight >= height ||\n    yTable < 0 ||\n    y >= height\n  ) {\n    return;\n  }\n\n  xShiftIndexRef.current = columnShiftXParsed;\n  yShiftIndexRef.current = columnShiftYParsed;\n\n  setState('offsetLeft', columnShiftX * columnWidth + 1);\n  setState('offsetTop', columnShiftY * columnHeight);\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n  offsetTopRef.current = y;\n};\n","import { CalendarEvent } from '../../../common/interface';\nimport { DateTime } from 'luxon';\n\nexport const calculateMonthEventMoreAfterDrag = (\n  calendarDays: DateTime[],\n  yShiftIndexRef: any,\n  xShiftIndexRef: any,\n  event: CalendarEvent\n): CalendarEvent => {\n  // get new date from x, y coordinates\n\n  // split calendarDays by rows\n  const rowCalendarDays: DateTime[][] = [];\n\n  let tempArray: DateTime[] = [];\n\n  calendarDays.forEach((calendarDay: DateTime) => {\n    if (\n      tempArray.length === 7 ||\n      (rowCalendarDays.length === 5 && tempArray.length === 6)\n    ) {\n      tempArray.push(calendarDay);\n      rowCalendarDays.push(tempArray);\n      tempArray = [];\n    }\n\n    tempArray.push(calendarDay);\n  });\n\n  // get correct row by y coordinate\n  const matchingRow: DateTime[] = rowCalendarDays[yShiftIndexRef.current];\n\n  // get day by x coordinate\n  const matchingDay: DateTime = matchingRow[xShiftIndexRef.current];\n\n  const originalStartAtDateTime = DateTime.fromISO(event.startAt);\n  const originalEndAtDateTime = DateTime.fromISO(event.endAt);\n\n  const diffInMinutes: number | undefined = originalEndAtDateTime\n    .diff(originalStartAtDateTime, 'minutes')\n    .toObject().minutes;\n\n  const newStartAt: DateTime = originalStartAtDateTime.set({\n    year: matchingDay.year,\n    day: matchingDay.day,\n    month: matchingDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute,\n  });\n\n  // set correct endAt\n  const newEndAt: DateTime = newStartAt.plus({ minutes: diffInMinutes });\n\n  return {\n    ...event,\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString(),\n  };\n};\n\nexport const onMoveMonthEventMore = (\n  e: any,\n  height: number,\n  draggingRef: any,\n  day: DateTime,\n  width: number,\n  xShiftIndexRef: any,\n  yShiftIndexRef: any,\n  eventWasChangedRef: any,\n  offsetLeftRef: any,\n  offsetTopRef: any,\n  setState: any\n) => {\n  const columnHeight: number = height / 6;\n  if (!draggingRef.current) {\n    return;\n  }\n\n  if (!day) {\n    return;\n  }\n\n  const tableElement: any = document.querySelector('.Kalend__Calendar__table');\n  const tableElementRect = tableElement.getBoundingClientRect();\n  const columnWidth = tableElementRect.width / 7;\n\n  const xTable = e.clientX - tableElementRect.x;\n  const yTable = e.clientY - tableElementRect.y;\n  // Get column element for day, where event is placed\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let x: number;\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n    y = touches.clientY - tableElementRect.y;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX; // - tableElementRect.x +\n    y = e.clientY; //- tableElementRect.y + tableElementRect.left;\n  }\n\n  const columnShiftXParsed = parseInt((xTable / columnWidth).toString());\n  const columnShiftYParsed = parseInt((yTable / columnHeight).toString());\n\n  setState('width', tableElementRect.width / 7);\n\n  // restrict dragging outside main table\n  if (\n    y <= tableElementRect.top ||\n    y > tableElementRect.top + tableElementRect.height ||\n    x <= tableElementRect.left ||\n    x > tableElementRect.width + tableElementRect.left\n  ) {\n    return;\n  }\n\n  xShiftIndexRef.current = columnShiftXParsed;\n  yShiftIndexRef.current = columnShiftYParsed;\n\n  setState('offsetLeft', x);\n  setState('offsetTop', y);\n\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n  offsetTopRef.current = y;\n};\n","import { CalendarEvent, EventLayout } from '../../common/interface';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../common/enums';\nimport { MONTH_EVENT_HEIGHT } from '../../common/constants';\nimport { formatDateTimeToString } from '../../utils/common';\n\nexport const createTempMonthEventsLayout = (): EventLayout => {\n  return {\n    offsetLeft: 0,\n    offsetTop: 0,\n    width: '90%',\n    height: MONTH_EVENT_HEIGHT,\n    zIndex: 1,\n    border: 'none',\n    meta: {\n      showTime: false,\n      isFullWidth: true,\n      centerText: true,\n    },\n  };\n};\n\nexport interface EventButtonInitialState {\n  dragging: boolean;\n  initialTop: number;\n  initialLeft: number;\n  offsetTop: number | null;\n  offsetLeft: number | null;\n  xPosition: number;\n  eventHasChanged: boolean;\n  width: number | null;\n  height: number | null;\n  zIndex: number;\n  border: string;\n  meta: any;\n  isDragging: boolean;\n  endAt: string | undefined;\n}\n\nexport const eventButtonInitialState: EventButtonInitialState = {\n  dragging: false,\n  initialTop: 0,\n  initialLeft: 0,\n  offsetTop: null,\n  offsetLeft: null,\n  xPosition: 0,\n  eventHasChanged: false,\n  width: null,\n  height: null,\n  zIndex: 2,\n  border: '',\n  meta: {},\n  isDragging: false,\n  endAt: undefined,\n};\n\nexport const initEventButtonPosition = (\n  type: EVENT_TYPE,\n  day: DateTime | undefined,\n  event: CalendarEvent,\n  store: any,\n  setLayout: any,\n  index?: number\n) => {\n  const { daysViewLayout, headerLayout, monthLayout } = store;\n\n  if (type === EVENT_TYPE.NORMAL && day) {\n    const formattedDayString: string = formatDateTimeToString(day);\n    const eventLayoutValue: any =\n      daysViewLayout[formattedDayString]?.[event.id];\n    if (eventLayoutValue) {\n      setLayout(eventLayoutValue);\n    }\n  } else if (type === EVENT_TYPE.HEADER) {\n    if (store.headerLayout) {\n      const headerLayoutValue: any = headerLayout[event.id];\n      if (headerLayoutValue) {\n        setLayout(headerLayoutValue);\n      }\n    }\n  } else if (type === EVENT_TYPE.MONTH) {\n    if (store.monthLayout && index !== undefined) {\n      const monthLayoutValue: any = monthLayout?.[index]?.[event.id];\n\n      if (monthLayoutValue) {\n        setLayout(monthLayoutValue);\n      }\n    }\n  } else {\n    setLayout(createTempMonthEventsLayout());\n  }\n};\n\nexport const disableTouchDragging = (e: any): boolean => {\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  return !!touches;\n};\n","import { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { parseCssDark } from '../../utils/common';\nimport { useContext } from 'react';\n\nconst CurrentHourLine = () => {\n  const [store] = useContext(Context);\n  const { config, colors } = store;\n\n  const currentTime = DateTime.now();\n\n  const wrapperStyle: any = {\n    top:\n      currentTime.hour * config.hourHeight +\n      (currentTime.minute / 60) * config.hourHeight,\n  };\n\n  return (\n    <div style={wrapperStyle} className={'Kalend__CurrentHourLine'}>\n      <div\n        className={parseCssDark(\n          'Kalend__CurrentHourLine__circle',\n          store.isDark\n        )}\n        style={{\n          background: store.isDark\n            ? colors.dark.primaryColor\n            : colors.light.primaryColor,\n        }}\n      />\n      <div\n        style={{\n          background: store.isDark\n            ? colors.dark.primaryColor\n            : colors.light.primaryColor,\n        }}\n        className={parseCssDark('Kalend__CurrentHourLine__line', store.isDark)}\n      />\n    </div>\n  );\n};\n\nexport default CurrentHourLine;\n","import { CalendarEvent, Config } from '../../../common/interface';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { disableTouchDragging } from '../../eventButton/EventButton.utils';\nimport { formatDateTimeToString, parseCssDark } from '../../../utils/common';\nimport { getDaysNum } from '../../../utils/calendarDays';\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport CurrentHourLine from '../../currentHourLine/CurrentHourLine';\nimport EventButton from '../../eventButton/EventButton';\nimport LuxonHelper from '../../../utils/luxonHelper';\n\nconst renderEvents = (dataset: any[], day: DateTime) => {\n  return dataset.map((eventRaw: any) => {\n    const item: CalendarEvent = eventRaw.event;\n    return (\n      <EventButton\n        key={`${item.id}${item.internalID ? item.internalID : ''}`}\n        item={eventRaw}\n        type={EVENT_TYPE.NORMAL}\n        meta={item.meta}\n        day={day}\n      />\n    );\n  });\n};\n\nexport const HOUR_DIVIDER = 4;\n\nexport const getDateFromPosition = (\n  value: number,\n  day: DateTime,\n  config: Config\n): DateTime => {\n  let stringValue = String(value);\n\n  stringValue = stringValue.includes('.') ? stringValue : `${stringValue}.0`;\n\n  const [hourStart, minuteStart] = stringValue.split('.');\n\n  return day\n    .set({\n      hour: Number(hourStart),\n      minute: Number(`0.${minuteStart}`) * 60,\n      second: 0,\n      millisecond: 0,\n    })\n    .setZone(config.timezone);\n};\n\nexport const getHourHeightPartialUnit = (config: Config) =>\n  Number((config.hourHeight / HOUR_DIVIDER).toFixed(0));\n\ninterface DaysViewOneDayProps {\n  key: string;\n  day: DateTime;\n  index: number;\n  data: any;\n}\nconst DaysViewOneDay = (props: DaysViewOneDayProps) => {\n  const { day, index, data } = props;\n  const [store] = useContext(Context);\n  const { width, selectedView, config, callbacks, isNewEventOpen } = store;\n  const { onNewEventClick } = callbacks;\n  const { isDark, hourHeight } = config;\n\n  const [offsetTop, setOffsetTop] = useState<any>(null);\n  const [offsetTopEnd, setOffsetTopEnd] = useState<any>(null);\n  const startAt: any = useRef(null);\n  const endAt: any = useRef(null);\n  const [startAtState, setStartAt] = useState<DateTime | null>(null);\n  const [endAtState, setEndAt] = useState<DateTime | null>(null);\n\n  // const [isDraggingNewEvent, setIsDraggingNewEvent] = useState(false);\n  const newEventStartOffset: any = useRef(null);\n  const newEventEndOffset: any = useRef(null);\n  const startAtRef: any = useRef(null);\n  const isDraggingRef: any = useRef(null);\n  const isUpdating: any = useRef(false);\n\n  const style: any = {\n    position: 'absolute',\n    top: offsetTop,\n    height: offsetTopEnd - offsetTop,\n    background: store.style.primaryColor,\n    width: '100%',\n    zIndex: 9,\n    borderRadius: 8,\n    opacity: 0.8,\n  };\n\n  const handleEventClickInternal = (event: any) => {\n    if (isDraggingRef.current || isUpdating.current) {\n      return;\n    }\n\n    if (onNewEventClick) {\n      const rect: { top: number } = event.target.getBoundingClientRect();\n      const y: number = event.clientY - rect.top;\n\n      const startAtOnClick = getDateFromPosition(\n        Number((y / hourHeight).toFixed(0)),\n        day,\n        config\n      );\n\n      if (!startAtOnClick?.toUTC()?.toString()) {\n        return;\n      }\n\n      const endAtOnClick = startAtOnClick.plus({ hour: 1 });\n      // Get hour from click event\n      const hour: number = y / hourHeight;\n      onNewEventClick(\n        {\n          day: day.toJSDate(),\n          hour,\n          startAt: startAtOnClick?.toUTC().toString(),\n          endAt: endAtOnClick?.toUTC().toString(),\n          event,\n          view: selectedView,\n        },\n        event\n      );\n    }\n  };\n\n  const onMove = (e: any) => {\n    isDraggingRef.current = true;\n    // setIsDraggingNewEvent(true);\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disableTouchDragging(e)) {\n      return;\n    }\n\n    // Get column element for day, where event is placed\n    const dayElement: any = document.getElementById(\n      `Kalend__day__${day.toString()}`\n    );\n    const touches: any = e.nativeEvent?.touches?.[0];\n    const dayElementRect = dayElement.getBoundingClientRect();\n\n    let y: number;\n    // handle touch movement\n    if (touches) {\n      y = touches.clientY - dayElementRect.top;\n    } else {\n      // handle mouse movement\n      y = e.clientY - dayElementRect.top;\n    }\n\n    // initial dragging\n    if (newEventStartOffset.current === null) {\n      const yString = (y / getHourHeightPartialUnit(config))\n        .toFixed(0)\n        .split('.');\n      const yValue = Number(yString[0]) * getHourHeightPartialUnit(config);\n      setOffsetTop(yValue);\n      const startAtValue = getDateFromPosition(\n        yValue / hourHeight,\n        day,\n        config\n      );\n      startAtRef.current = startAtValue;\n      startAt.current = startAtValue;\n      setStartAt(startAtValue);\n\n      setOffsetTop(yValue);\n      setOffsetTopEnd(yValue);\n      newEventStartOffset.current = yValue;\n      newEventEndOffset.current = yValue;\n\n      startAtRef.current = startAtValue;\n      endAt.current = startAtValue;\n      setEndAt(startAtValue);\n\n      return;\n    }\n\n    // handle dragging up\n    if (newEventStartOffset.current && y < newEventStartOffset.current) {\n      const yString = (y / getHourHeightPartialUnit(config))\n        .toFixed(0)\n        .split('.');\n\n      const yValue = Number(yString[0]) * getHourHeightPartialUnit(config);\n      setOffsetTop(yValue);\n      const startAtValue = getDateFromPosition(\n        yValue / hourHeight,\n        day,\n        config\n      );\n\n      startAtRef.current = startAtValue;\n      startAt.current = startAtValue;\n      setStartAt(startAtValue);\n      return;\n    }\n\n    // handle dragging down\n    const yString = (y / getHourHeightPartialUnit(config))\n      .toFixed(0)\n      .split('.');\n    const yValue = Number(yString[0]) * getHourHeightPartialUnit(config);\n    setOffsetTopEnd(yValue);\n\n    const endAtValue = getDateFromPosition(yValue / hourHeight, day, config);\n    endAt.current = endAtValue;\n    setEndAt(endAtValue);\n  };\n\n  /**\n   * Cancel dragging event\n   * remove listeners clean long click timeout and reset state\n   * @param event\n   */\n  const onMouseUp = (event: any) => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUp, true);\n    document.removeEventListener('mousemove', onMove, true);\n\n    const targetClass = event.target.className;\n\n    // prevent propagating when clicking on event due to listeners\n    if (targetClass.indexOf('Kalend__Event') !== -1) {\n      return;\n    }\n\n    if (!isDraggingRef.current) {\n      handleEventClickInternal(event);\n      return;\n    }\n\n    // correct layout with actual value from endAt date\n    if (endAt) {\n      const correctedValue = (endAt.hour + endAt.minute / 60) * hourHeight;\n      newEventEndOffset.current = correctedValue;\n      setOffsetTopEnd(correctedValue);\n    }\n\n    if (isUpdating.current) {\n      return;\n    }\n\n    if (onNewEventClick && isDraggingRef.current) {\n      const startValue: number = offsetTop / hourHeight;\n      isUpdating.current = true;\n\n      if (!startAt?.current?.toUTC()?.toString()) {\n        isDraggingRef.current = false;\n        isUpdating.current = false;\n        return;\n      }\n\n      onNewEventClick(\n        {\n          day: day.toJSDate(),\n          hour: startValue,\n          event,\n          startAt: startAt.current?.toUTC().toString(),\n          endAt: endAt.current?.toUTC().toString(),\n          view: selectedView,\n        },\n        event\n      );\n    }\n\n    isDraggingRef.current = false;\n    isUpdating.current = false;\n  };\n\n  /**\n   * Start event dragging on long press/touch\n   * Set listeners\n   * @param e\n   */\n  const onMouseDownLong = (e: any) => {\n    if (disableTouchDragging(e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp, true);\n  };\n\n  /**\n   * Initial long press click/touch on event\n   * @param e\n   */\n  const onMouseDown = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // if (isDraggingRef.current) {\n    //   onMouseUp(e);\n    //   return;\n    // }\n\n    onMouseDownLong(e);\n  };\n\n  const oneDayStyle: any = {\n    width: width / getDaysNum(selectedView),\n    height: hourHeight * 24,\n  };\n\n  const isToday: boolean = LuxonHelper.isToday(day);\n  const isFirstDay: boolean = index === 0;\n  const dataForDay: any = data;\n\n  const dateNow: any = DateTime.local();\n\n  const nowPosition: number =\n    dateNow\n      .diff(DateTime.local().set({ hour: 0, minute: 0, second: 0 }), 'minutes')\n      .toObject().minutes /\n    (60 / hourHeight);\n\n  useEffect(() => {\n    if (!store.config.autoScroll) {\n      return;\n    }\n\n    if (isToday) {\n      const elements: any = document.querySelectorAll(\n        '.calendar-body__wrapper'\n      );\n\n      for (const element of elements) {\n        element.scrollTo({ top: nowPosition - 40, behavior: 'smooth' });\n      }\n    }\n  }, []);\n\n  const handleCloseNewEventDrag = (e?: any) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    setOffsetTopEnd(null);\n    setOffsetTop(null);\n    // setIsDraggingNewEvent(false);\n    isDraggingRef.current = false;\n    newEventStartOffset.current = null;\n    newEventEndOffset.current = null;\n    startAt.current = null;\n    endAt.current = null;\n    setStartAt(null);\n    setEndAt(null);\n\n    isUpdating.current = false;\n  };\n\n  useEffect(() => {\n    if (!isNewEventOpen) {\n      handleCloseNewEventDrag();\n    }\n  }, [isNewEventOpen]);\n\n  return (\n    <div\n      id={`Kalend__day__${day.toString()}`}\n      key={day.toString()}\n      style={oneDayStyle}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      // onTouchStart={onMouseDown}\n      // onTouchMove={onMove}\n      // onTouchEnd={onMouseUp}\n      className={\n        !isFirstDay\n          ? parseCssDark('Kalend__DayViewOneDay', isDark)\n          : 'Kalend__DayViewOneDay'\n      }\n      // onClick={handleEventClickInternal}\n    >\n      {isToday && config.showTimeLine ? <CurrentHourLine /> : null}\n      {store.daysViewLayout?.[formatDateTimeToString(day)] &&\n      dataForDay &&\n      dataForDay.length > 0\n        ? renderEvents(dataForDay, day)\n        : null}\n\n      {isDraggingRef.current ? (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            background: 'transparent',\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            zIndex: 8,\n          }}\n          onClick={handleCloseNewEventDrag}\n        />\n      ) : null}\n      {isDraggingRef.current ? (\n        <div style={style}>\n          <div\n            style={{\n              paddingTop: 4,\n              paddingLeft: 4,\n              fontSize: 12,\n            }}\n          >\n            <p style={{ color: 'white' }}>New event</p>\n            <p style={{ color: 'white' }}>\n              {startAtState ? startAtState.toFormat('HH:mm') : ''} -{' '}\n              {endAtState ? endAtState.toFormat('HH:mm') : ''}\n            </p>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default DaysViewOneDay;\n","import {\n  CALENDAR_OFFSET_LEFT,\n  EVENT_MIN_HEIGHT,\n} from '../../../common/constants';\nimport { CalendarEvent, Config } from '../../../common/interface';\nimport { DateTime } from 'luxon';\nimport {\n  getDateFromPosition,\n  getHourHeightPartialUnit,\n} from '../../daysViewTable/daysViewOneDay/DaysViewOneDay';\n\nexport const calculateNewTimeWeekDay = (\n  offsetTopValue: number,\n  offsetLeftValue: number,\n  xShiftIndexRef: any,\n  event: CalendarEvent,\n  hourHeight: number\n): CalendarEvent => {\n  const originalStartAtDateTime = DateTime.fromISO(event.startAt);\n  const originalEndAtDateTime = DateTime.fromISO(event.endAt);\n\n  let goingForward = false;\n  if (offsetLeftValue >= 0) {\n    goingForward = true;\n  } else {\n    goingForward = false;\n  }\n\n  let newDay: DateTime;\n\n  if (goingForward) {\n    newDay = originalStartAtDateTime.plus({ days: xShiftIndexRef.current });\n  } else {\n    newDay = originalStartAtDateTime.minus({\n      days: Math.abs(xShiftIndexRef.current),\n    });\n  }\n\n  const diffInMinutes: number | undefined = originalEndAtDateTime\n    .diff(originalStartAtDateTime, 'minutes')\n    .toObject().minutes;\n  const minutesOffset: number = (offsetTopValue / hourHeight) * 60;\n\n  // add minutes calculated from new offset top\n  const newStartAt: DateTime = originalStartAtDateTime\n    .set({\n      year: newDay.year,\n      day: newDay.day,\n      month: newDay.month,\n      hour: 0,\n      minute: 0,\n    })\n    .plus({ minutes: minutesOffset });\n\n  // set correct endAt\n  const newEndAt: DateTime = newStartAt.plus({ minutes: diffInMinutes });\n\n  return {\n    ...event,\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString(),\n  };\n};\n\nexport const onMoveNormalEvent = (\n  e: any,\n  draggingRef: any,\n  day: DateTime,\n  columnWidth: number,\n  width: number,\n  eventWasChangedRef: any,\n  xShiftIndexRef: any,\n  offsetLeftRef: any,\n  offsetTopRef: any,\n  setState: any\n) => {\n  if (!draggingRef.current) {\n    return;\n  }\n\n  if (!day) {\n    return;\n  }\n\n  const tableElement: any = document.querySelector('.Kalend__Calendar__table');\n  const tableElementRect = tableElement.getBoundingClientRect();\n\n  // Get column element for day, where event is placed\n  const dayElement: any = document.getElementById(\n    `Kalend__day__${day.toString()}`\n  );\n  if (!dayElement) {\n    return;\n  }\n  const dayElementRect = dayElement.getBoundingClientRect();\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let x: number;\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    x = touches.clientX - dayElementRect.x;\n    y = touches.clientY - dayElementRect.top;\n  } else {\n    // handle mouse movement\n    // calculate x and y coordinates while following mouse move\n    x = e.clientX - dayElementRect.x;\n    y = e.clientY - dayElementRect.top;\n  }\n\n  // prevent free dragging across columns with simple recalculation for\n  const columnShift = Math.floor(x / columnWidth);\n\n  const xTable = e.clientX - tableElementRect.x;\n\n  const columnShiftTable = Math.round(xTable / columnWidth);\n\n  // restrict draggable space for timetable\n  if (y < 0) {\n    return;\n  }\n\n  eventWasChangedRef.current = true;\n  setState('offsetTop', y - EVENT_MIN_HEIGHT);\n  offsetTopRef.current = y - EVENT_MIN_HEIGHT;\n\n  // prevent overflowing on x-axis\n  if (\n    columnShiftTable * columnWidth >= width ||\n    xTable - CALENDAR_OFFSET_LEFT < 0\n  ) {\n    return;\n  }\n\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth);\n  offsetLeftRef.current = x;\n};\n\nexport const onResizeNormalEvent = (\n  e: any,\n  endAtRef: any,\n  day: DateTime,\n  config: Config,\n  offsetTop: number,\n  height: number,\n  setState: any\n) => {\n  if (!day) {\n    return;\n  }\n\n  // Get column element for day, where event is placed\n  const dayElement: any = document.getElementById(\n    `Kalend__day__${day.toString()}`\n  );\n  if (!dayElement) {\n    return;\n  }\n  const dayElementRect = dayElement.getBoundingClientRect();\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    y = touches.clientY - dayElementRect.top;\n  } else {\n    // handle mouse movement\n    y = e.clientY - dayElementRect.top;\n  }\n\n  // restrict draggable space for timetable\n  if (y < 0) {\n    return;\n  }\n\n  const yString = (y / getHourHeightPartialUnit(config)).toFixed(0).split('.');\n  const yValue = Number(yString[0]) * getHourHeightPartialUnit(config);\n  const endAtValue = getDateFromPosition(\n    yValue / config.hourHeight,\n    day,\n    config\n  );\n\n  setState('height', Number(((y - offsetTop) / 15).toFixed(0)) * 15);\n  setState('endAt', endAtValue);\n  endAtRef.current = endAtValue.toUTC().toString();\n};\n","import { CalendarEvent, OnEventDragFinish } from '../../../index';\nimport { EVENT_TYPE } from '../../../common/enums';\n\nexport const onFinishDraggingInternal = (\n  prevEvent: CalendarEvent,\n  eventToUpdate: any,\n  store: any,\n  setContext: any,\n  type: EVENT_TYPE,\n  onEventDragFinish?: OnEventDragFinish\n) => {\n  const events = store.events;\n  const result: any = events?.map((item: any) => {\n    if (item.id === eventToUpdate.id) {\n      return eventToUpdate;\n    } else {\n      return item;\n    }\n  });\n\n  // return updated data with callback\n  if (onEventDragFinish) {\n    onEventDragFinish(prevEvent, eventToUpdate, result);\n  }\n};\n","import { ButtonBaseProps } from './ButtonBase.props';\nimport { parseCssDark } from '../../utils/common';\nimport { useRef, useState } from 'react';\n\nlet timeout: any;\n\nconst ButtonBase = (props: ButtonBaseProps) => {\n  const {\n    id,\n    onClick,\n    text,\n    className,\n    style,\n    children,\n    propagation,\n    disabled,\n    onClickFromParent,\n    onMouseDown,\n    onMouseUp,\n    onMouseMove,\n    onTouchEnd,\n    isDark,\n  } = props;\n\n  const buttonRef: any = useRef(null);\n\n  const [isPressed, setIsPressed] = useState(false);\n  const [spanStyle, setSpanStyle] = useState({});\n\n  const onButtonClick = (e: any) => {\n    onClick(e);\n\n    if (onClickFromParent) {\n      onClickFromParent();\n    }\n  };\n\n  const animateRipple = (event: any): void => {\n    const button: any = buttonRef.current;\n\n    if (!button) {\n      return;\n    }\n\n    const rect = button.getBoundingClientRect();\n\n    const oneSide: number =\n      button.clientWidth > button.clientHeight\n        ? button.clientWidth\n        : button.clientHeight;\n\n    const touches: any = event.touches ? event.touches[0] : undefined;\n\n    let clickLeft: number;\n    let clickTop: number;\n\n    if (touches) {\n      clickLeft = touches.clientX - rect.left - oneSide;\n      clickTop = touches.clientY - rect.top - oneSide;\n    } else {\n      clickLeft = event.clientX;\n      clickTop = event.clientY;\n    }\n\n    const style: any = {\n      width: `${oneSide * 2}px`,\n      height: `${oneSide * 2}px`,\n      left: `${clickLeft}px`,\n      top: `${clickTop}px`,\n    };\n\n    setSpanStyle(style);\n\n    setIsPressed(true);\n  };\n\n  const onTouchStart = (e: any): void => {\n    if (!propagation) {\n      e.stopPropagation();\n    }\n\n    if (props.onTouchStart) {\n      props.onTouchStart(e);\n    }\n    if (isPressed) {\n      setIsPressed(false);\n    }\n\n    timeout = setTimeout(() => {\n      animateRipple(e);\n    }, 100);\n  };\n\n  // Clear timeout for ripple effect\n  const onTouchMove = (e: any): void => {\n    if (!propagation) {\n      e.stopPropagation();\n    }\n\n    if (props.onTouchMove) {\n      props.onTouchMove(e);\n    }\n    clearTimeout(timeout);\n  };\n\n  const buttonText: string = text ? text : '';\n  const buttonClassName: string = className\n    ? `Kalend__button ${className} ${parseCssDark(\n        'Kalend__ButtonBase',\n        isDark\n      )}`\n    : `Kalend__button ${parseCssDark('Kalend__ButtonBase', isDark)}`;\n\n  return (\n    <button\n      id={id}\n      ref={buttonRef}\n      onClick={onButtonClick}\n      onTouchMove={onTouchMove}\n      onTouchStart={onTouchStart}\n      onTouchEnd={onTouchEnd}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      onMouseMove={onMouseMove}\n      // onTouchStart={handleTouchStart}\n      // onMouseLeave={handleTouchOff}\n      // onTouchEnd={handleTouchOff}\n      // onTouchEndCapture={handleTouchCancel}\n      className={buttonClassName}\n      style={style}\n    >\n      {children ? children : buttonText}\n      {isPressed && !disabled ? (\n        <span style={spanStyle} className={'Kalend__ButtonBase__animation'} />\n      ) : null}\n    </button>\n  );\n};\n\nexport default ButtonBase;\n","import { EVENT_TYPE } from '../../../../common/enums';\nimport { parseCssDark } from '../../../../utils/common';\n\ninterface EventSummaryProps {\n  isDark: boolean;\n  summary: string;\n  type: EVENT_TYPE;\n  isDarkColor?: boolean;\n}\n\nconst EventSummary = (props: EventSummaryProps) => {\n  const { isDark, summary, type, isDarkColor } = props;\n\n  return (\n    <p\n      className={` Kalend__text ${parseCssDark(\n        'Kalend__Event__summary',\n        isDark\n      )} ${parseCssDark(`Kalend__Event__summary__type-${type}`, isDark)} ${\n        isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'\n      }`}\n    >\n      {summary}{' '}\n    </p>\n  );\n};\n\nexport default EventSummary;\n","import { useContext } from 'react';\n\nimport { CalendarEvent, Config } from '../../../../common/interface';\nimport { Context, Store } from '../../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE, TIME_FORMAT } from '../../../../common/enums';\nimport { parseCssDark } from '../../../../utils/common';\nimport { parseToDateTime } from '../../../../utils/dateTimeParser';\n\nconst TIME_FORMAT_PATTERN = 'HH:mm';\nconst TIME_H_12_FORMAT_PATTERN = 'hh:mm a';\n\nconst parseTimeFormat = (day: DateTime, timeFormat: TIME_FORMAT): string => {\n  if (timeFormat === TIME_FORMAT.H_24) {\n    return day.toFormat(TIME_FORMAT_PATTERN);\n  } else {\n    return day.toFormat(TIME_H_12_FORMAT_PATTERN);\n  }\n};\n\nconst formatEventTimeV2 = (\n  event: CalendarEvent,\n  timeFormat: TIME_FORMAT,\n  timezone?: string,\n  endAtState?: string\n): { start: string; end: string } => {\n  const { startAt, endAt, timezoneStartAt } = event;\n\n  const startAtDateTime: DateTime = parseToDateTime(\n    startAt,\n    timezoneStartAt,\n    timezone\n  );\n  const endAtDateTime: DateTime = parseToDateTime(\n    endAtState || endAt,\n    timezoneStartAt,\n    timezone\n  );\n\n  return {\n    start: parseTimeFormat(startAtDateTime, timeFormat),\n    end: parseTimeFormat(endAtDateTime, timeFormat),\n  };\n};\n\ninterface EventTimeProps {\n  isDark: boolean;\n  event: CalendarEvent;\n  type: EVENT_TYPE;\n  endAt?: string;\n  isDarkColor?: boolean;\n}\n\nconst normalTime = (\n  timeFormat: TIME_FORMAT,\n  event: CalendarEvent,\n  timezone: string,\n  type: EVENT_TYPE,\n  isDark: boolean,\n  endAt?: string,\n  isDarkColor?: boolean\n) => {\n  const timeV2: any = formatEventTimeV2(event, timeFormat, timezone, endAt);\n\n  return timeFormat === TIME_FORMAT.H_12 ? (\n    <p\n      className={`Kalend__text ${parseCssDark(\n        `Kalend__Event__time__type-${type}`,\n        isDark\n      )} Kalend__Event__time ${\n        isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'\n      }`}\n    >\n      {timeV2.start}\n      <br />\n      {timeV2.end}\n    </p>\n  ) : (\n    <p\n      className={`Kalend__text ${parseCssDark(\n        `Kalend__Event__time__type-${type}`,\n        isDark\n      )} Kalend__Event__time ${\n        isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'\n      }`}\n    >\n      {timeV2.start} - {timeV2.end}\n    </p>\n  );\n};\n\nconst EventTime = (props: EventTimeProps) => {\n  const { isDark, event, type, endAt, isDarkColor } = props;\n\n  const [store] = useContext(Context);\n  const { config } = store as Store;\n  const { timezone, timeFormat } = config as Config;\n\n  return type === EVENT_TYPE.AGENDA && event.allDay ? (\n    <>\n      <p\n        className={`Kalend__text ${parseCssDark(\n          `Kalend__Event__time__type-${type}`,\n          isDark\n        )} Kalend__Event__time ${\n          isDarkColor ? 'Kalend__text-light' : 'Kalend__text-dark'\n        }`}\n      >\n        All day\n      </p>\n      <p\n        style={{\n          color: 'transparent',\n          padding: 0,\n          margin: 0,\n          fontSize: '0.8em',\n        }}\n      >\n        123 12\n      </p>\n    </>\n  ) : (\n    normalTime(timeFormat, event, timezone, type, isDark, endAt, isDarkColor)\n  );\n};\n\nexport default EventTime;\n","import { CalendarEvent } from '../../../common/interface';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport EventSummary from '../components/eventSummary/EventSummary';\nimport EventTime from '../components/eventTime/EventTime';\n\ninterface EventAgendaProps {\n  event: CalendarEvent;\n  isDark: boolean;\n  type: EVENT_TYPE;\n}\n\nconst EventAgenda = (props: EventAgendaProps) => {\n  const { isDark, event, type } = props;\n\n  return (\n    <div className={'Kalend__EventAgenda__container'}>\n      <EventTime\n        isDark={isDark}\n        event={event}\n        type={type}\n        isDarkColor={isDark}\n      />\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n        }}\n      >\n        <div\n          style={{\n            width: 20,\n            height: 20,\n            borderRadius: '50%',\n            background: event.color,\n            marginLeft: 8,\n            marginRight: 8,\n            filter: isDark ? 'saturate(60%) brightness(120%)' : 'none',\n          }}\n        />\n      </div>\n      <EventSummary\n        summary={event.summary}\n        isDark={isDark}\n        type={type}\n        isDarkColor={isDark}\n      />\n    </div>\n  );\n};\n\nexport default EventAgenda;\n","import { CalendarEvent } from '../../../common/interface';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport EventSummary from '../components/eventSummary/EventSummary';\n\ninterface EventMonthProps {\n  event: CalendarEvent;\n  isDark: boolean;\n  type: EVENT_TYPE;\n  isDarkColor?: boolean;\n}\n\nconst EventMonth = (props: EventMonthProps) => {\n  const { isDark, event, type, isDarkColor } = props;\n\n  return (\n    <EventSummary\n      summary={event.summary}\n      isDark={isDark}\n      type={type}\n      isDarkColor={isDarkColor}\n    />\n  );\n};\n\nexport default EventMonth;\n","import { CalendarEvent, EventLayoutMeta } from '../../../common/interface';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport EventSummary from '../components/eventSummary/EventSummary';\nimport EventTime from '../components/eventTime/EventTime';\n\ninterface EventNormalProps {\n  event: CalendarEvent;\n  isDark: boolean;\n  type: EVENT_TYPE;\n  meta?: EventLayoutMeta;\n  endAt?: string;\n  isDarkColor?: boolean;\n}\n\nconst EventNormal = (props: EventNormalProps) => {\n  const { isDark, event, type, meta, endAt, isDarkColor } = props;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        maxWidth: '-webkit-fill-available',\n      }}\n    >\n      <EventSummary\n        summary={event.summary}\n        isDark={isDark}\n        type={type}\n        isDarkColor={isDarkColor}\n      />\n\n      {meta?.showTime ? (\n        <EventTime\n          isDark={isDark}\n          event={event}\n          type={EVENT_TYPE.NORMAL}\n          endAt={endAt}\n          isDarkColor={isDarkColor}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default EventNormal;\n","const StateReducer: any = (state: any, action: any): any => {\n  // Replace whole state\n  if (!action.payload) {\n    return { ...state, ...action };\n  }\n\n  const { stateName, type, data } = action.payload;\n\n  switch (type) {\n    default:\n      return {\n        ...state,\n        [stateName]: data,\n      };\n  }\n};\n\nexport default StateReducer;\n","import { useContext, useEffect, useReducer, useRef } from 'react';\n\nimport { CalendarEvent, Config, EventStyle } from '../../common/interface';\nimport { Context, Store } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TABLE_DELIMITER_SPACE } from '../../common/constants';\nimport { EVENT_TYPE } from '../../common/enums';\nimport { EventButtonProps } from './EventButton.props';\nimport { MONTH_EVENT_HEIGHT } from 'kalend-layout/constants';\nimport { calculateHeaderAfterDrag, onMoveHeader } from './utils/draggingHeader';\nimport {\n  calculateMonthEventAfterDrag,\n  onMoveMonthEvent,\n} from './utils/draggingMonth';\nimport {\n  calculateMonthEventMoreAfterDrag,\n  onMoveMonthEventMore,\n} from './utils/draggingMonthMore';\nimport {\n  calculateNewTimeWeekDay,\n  onMoveNormalEvent,\n  onResizeNormalEvent,\n} from './utils/draggingWeek';\nimport { checkIfDraggable, parseCssDark } from '../../utils/common';\nimport {\n  disableTouchDragging,\n  eventButtonInitialState,\n} from './EventButton.utils';\nimport { onFinishDraggingInternal } from './utils/draggingGeneral';\nimport { parseEventColor } from '../../utils/calendarDays';\nimport ButtonBase from '../buttonBase/ButtonBase';\nimport Color from 'color';\nimport EventAgenda from './eventAgenda/EventAgenda';\nimport EventMonth from './eventMonth/EventMonth';\nimport EventNormal from './eventNormal/EventNormal';\nimport stateReducer from '../../utils/stateReducer';\n\n// ref to cancel timout\nlet timeoutRef: any;\n\nexport const checkIfColorDark = (colorString: string): boolean => {\n  try {\n    const color = Color(colorString);\n\n    return color.isDark();\n  } catch (e) {\n    return false;\n  }\n};\n\nconst EventButton = (props: EventButtonProps) => {\n  const { item, type, day = DateTime.now(), index } = props;\n  const { event } = item;\n  const { startAt, endAt } = event;\n\n  const [state, dispatchState]: any = useReducer(\n    stateReducer,\n    eventButtonInitialState\n  );\n  const setState = (stateName: string, data: any): void => {\n    const payload: any = { stateName, data };\n    dispatchState({ state, payload });\n  };\n\n  // store values as refs to access them in event listener\n  const offsetTopRef = useRef(state.offsetTop);\n  const offsetLeftRef = useRef(state.offsetLeft);\n  const xShiftIndexRef = useRef(0);\n  const yShiftIndexRef = useRef(0);\n  const draggingRef = useRef(false);\n  const isResizing = useRef(false);\n  const eventWasChangedRef = useRef(false);\n  const endAtRef = useRef(null);\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const {\n    width,\n    calendarDays,\n    config,\n    callbacks,\n    height,\n    draggingDisabledConditions,\n  } = store as Store;\n\n  const { hourHeight, isDark } = config as Config;\n  const { onEventClick, onEventDragFinish } = callbacks;\n\n  const columnWidth: number =\n    width / (type === EVENT_TYPE.MONTH ? 7 : calendarDays.length);\n  const eventColor: string = event.color\n    ? parseEventColor(event.color as string, isDark)\n    : 'indigo';\n\n  const getPosition = () => {\n    if (type === EVENT_TYPE.AGENDA) {\n      return 'relative';\n    } else if (type === EVENT_TYPE.SHOW_MORE_MONTH && !draggingRef.current) {\n      return 'relative';\n    } else if (type === EVENT_TYPE.SHOW_MORE_MONTH) {\n      return 'fixed';\n    } else {\n      return 'absolute';\n    }\n  };\n\n  const isDarkColor = checkIfColorDark(eventColor);\n\n  const style: EventStyle = {\n    position: getPosition(),\n    height:\n      state.height !== null ? state.height : item.height || MONTH_EVENT_HEIGHT,\n    width: state.width !== null ? state.width : item.width || '100%',\n    top: state.offsetTop !== null ? state.offsetTop : item.offsetTop,\n    left: state.offsetLeft !== null ? state.offsetLeft : item.offsetLeft,\n    zIndex: state.zIndex || item.zIndex,\n    border: state.zIndex > 2 ? `solid 1px white` : `solid 1px ${eventColor}`,\n    backgroundColor: eventColor,\n    visibility: 'visible',\n    // alignItems: meta?.centerText ? 'center' : 'inherit',\n  };\n\n  const handleEventClick = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    if (draggingRef.current) {\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      draggingRef.current = false;\n      return;\n    }\n\n    if (onEventClick) {\n      onEventClick(event, e);\n    }\n  };\n\n  const setLayout = (layout: any) => {\n    setState('initialTop', layout.offsetTop);\n    setState('initialLeft', layout.offsetLeft);\n    setState('offsetTop', layout.offsetTop);\n    setState('offsetLeft', layout.offsetLeft);\n    setState('drawingY', layout.offsetTop);\n    setState('startAt', startAt);\n    setState('width', layout.width);\n    setState('height', layout.height);\n    setState('zIndex', layout.zIndex);\n    setState('border', layout.border);\n    setState('meta', layout.meta);\n  };\n\n  useEffect(() => {\n    setLayout(item);\n    setState('endAt', endAt);\n  }, []);\n\n  const initMove = () => {\n    if (type === EVENT_TYPE.AGENDA) {\n      return;\n    }\n\n    if (!draggingRef.current) {\n      draggingRef.current = true;\n    }\n\n    if (type === EVENT_TYPE.NORMAL) {\n      setState('width', columnWidth - EVENT_TABLE_DELIMITER_SPACE);\n      setState('offsetLeft', 0);\n    }\n  };\n\n  const onResize = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (disableTouchDragging(e)) {\n      return;\n    }\n\n    isResizing.current = true;\n\n    onResizeNormalEvent(\n      e,\n      endAtRef,\n      day,\n      config,\n      state.offsetTop,\n      state.height,\n      setState\n    );\n  };\n\n  const onMove = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disableTouchDragging(e)) {\n      return;\n    }\n    switch (type) {\n      case EVENT_TYPE.NORMAL:\n        onMoveNormalEvent(\n          e,\n          draggingRef,\n          day,\n          columnWidth,\n          width,\n          eventWasChangedRef,\n          xShiftIndexRef,\n          offsetLeftRef,\n          offsetTopRef,\n          setState\n        );\n        break;\n      case EVENT_TYPE.HEADER:\n        onMoveHeader(\n          e,\n          columnWidth,\n          width,\n          xShiftIndexRef,\n          offsetLeftRef,\n          eventWasChangedRef,\n          setState\n        );\n        break;\n      case EVENT_TYPE.MONTH:\n        onMoveMonthEvent(\n          e,\n          height,\n          draggingRef,\n          day,\n          columnWidth,\n          width,\n          xShiftIndexRef,\n          yShiftIndexRef,\n          eventWasChangedRef,\n          offsetLeftRef,\n          offsetTopRef,\n          setState,\n          index || 0\n        );\n        break;\n      case EVENT_TYPE.SHOW_MORE_MONTH:\n        onMoveMonthEventMore(\n          e,\n          height,\n          draggingRef,\n          day,\n          width,\n          xShiftIndexRef,\n          yShiftIndexRef,\n          eventWasChangedRef,\n          offsetLeftRef,\n          offsetTopRef,\n          setState\n        );\n        break;\n      default:\n        return;\n    }\n  };\n\n  const onMouseUpResize = (e: any) => {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUpResize, true);\n    document.removeEventListener('mousemove', onResize, true);\n\n    // add data to callback\n    if (onEventDragFinish) {\n      if (type === EVENT_TYPE.NORMAL) {\n        const updatedEvent = {\n          ...event,\n          endAt: endAtRef.current || state.endAt,\n        };\n        const result: any = store.events?.map((item: any) => {\n          if (item.id === updatedEvent.id) {\n            return updatedEvent;\n          } else {\n            return item;\n          }\n        });\n\n        onEventDragFinish(event, updatedEvent, result);\n      }\n    }\n\n    endAtRef.current = null;\n    isResizing.current = false;\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  /**\n   * Cancel dragging event\n   * remove listeners clean long click timeout and reset state\n   * @param e\n   */\n  const onMouseUp = (e: any) => {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUp, true);\n    document.removeEventListener('mousemove', onMove, true);\n\n    // clear timeout\n    clearTimeout(timeoutRef);\n\n    if (!eventWasChangedRef.current) {\n      setState('offsetLeft', state.offsetLeft);\n      setState('width', state.width);\n      setState('isDragging', false);\n      draggingRef.current = false;\n\n      return;\n    }\n\n    eventWasChangedRef.current = false;\n\n    if (!draggingRef.current) {\n      return;\n    }\n\n    setTimeout(() => {\n      draggingRef.current = false;\n      setState('isDragging', false);\n    }, 100);\n\n    // add data to callback\n    if (onEventDragFinish || config.hasExternalLayout) {\n      let newEvent: CalendarEvent | null = null;\n      if (type === EVENT_TYPE.NORMAL) {\n        newEvent = calculateNewTimeWeekDay(\n          offsetTopRef.current,\n          offsetLeftRef.current,\n          xShiftIndexRef,\n          event,\n          hourHeight\n        );\n      } else if (type === EVENT_TYPE.HEADER) {\n        newEvent = calculateHeaderAfterDrag(\n          calendarDays,\n          event,\n          xShiftIndexRef\n        );\n      } else if (type === EVENT_TYPE.MONTH) {\n        newEvent = calculateMonthEventAfterDrag(\n          calendarDays,\n          yShiftIndexRef,\n          xShiftIndexRef,\n          event\n        );\n      } else if (type === EVENT_TYPE.SHOW_MORE_MONTH) {\n        newEvent = calculateMonthEventMoreAfterDrag(\n          calendarDays,\n          yShiftIndexRef,\n          xShiftIndexRef,\n          event\n        );\n      }\n\n      if (newEvent) {\n        onFinishDraggingInternal(\n          event,\n          newEvent,\n          store,\n          setContext,\n          type,\n          onEventDragFinish\n        );\n      }\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const onMouseDownResize = (e: any) => {\n    if (disableTouchDragging(e) || !onEventDragFinish) {\n      return;\n    }\n\n    const isDraggable = checkIfDraggable(draggingDisabledConditions, event);\n    if (!isDraggable) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    isResizing.current = true;\n\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onResize, true);\n    document.addEventListener('mouseup', onMouseUpResize, true);\n  };\n\n  /**\n   * Start event dragging on long press/touch\n   * Set listeners\n   * @param e\n   */\n  const onMouseDownLong = (e: any) => {\n    if (disableTouchDragging(e)) {\n      return;\n    }\n\n    const isDraggable = checkIfDraggable(draggingDisabledConditions, event);\n    if (!isDraggable) {\n      return;\n    }\n\n    setState('isDragging', true);\n    draggingRef.current = true;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp, true);\n\n    // set temp state while dragging\n    initMove();\n  };\n\n  /**\n   * Initial long press click/touch on event\n   * @param e\n   */\n  const onMouseDown = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (isResizing.current) {\n      return;\n    }\n\n    // add timeout to differentiate from normal clicks\n    timeoutRef = setTimeout(() => {\n      onMouseDownLong(e);\n    }, 120);\n  };\n\n  return type !== EVENT_TYPE.AGENDA ? (\n    <ButtonBase\n      id={event.id}\n      isDark={isDark}\n      style={style}\n      className={`${parseCssDark(`Kalend__Event-${type}`, store.isDark)} ${\n        state.isDragging ? 'Kalend__EventButton__elevation' : ''\n      }`}\n      onClick={handleEventClick}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      // onTouchStart={onMouseDown}\n      // onTouchMove={onMove}\n      // onTouchEnd={onMouseUp}\n    >\n      {type === EVENT_TYPE.MONTH ||\n      type === EVENT_TYPE.HEADER ||\n      type === EVENT_TYPE.SHOW_MORE_MONTH ? (\n        <EventMonth\n          event={event}\n          isDark={isDark}\n          type={type}\n          isDarkColor={isDarkColor}\n        />\n      ) : null}\n      {type === EVENT_TYPE.NORMAL ? (\n        <EventNormal\n          event={event}\n          isDark={isDark}\n          type={type}\n          meta={item.meta}\n          endAt={state.endAt}\n          isDarkColor={isDarkColor}\n        />\n      ) : null}\n      {isResizing.current ? (\n        <div\n          className={'Kalend__EventButton__resizing_wrapper'}\n          onClick={() => {\n            isResizing.current = false;\n          }}\n        />\n      ) : null}\n      {type === EVENT_TYPE.NORMAL ? (\n        <div\n          style={{\n            position: 'absolute',\n            bottom: 0,\n            height: 5,\n            width: '100%',\n            background: 'transparent',\n            zIndex: isResizing.current ? 999 : 9,\n            cursor: 'n-resize',\n          }}\n          onClick={(e: any) => {\n            e.preventDefault();\n            e.stopPropagation();\n            isResizing.current = true;\n          }}\n          onMouseDown={onMouseDownResize}\n          onMouseUp={onMouseUpResize}\n        />\n      ) : null}\n    </ButtonBase>\n  ) : (\n    <ButtonBase\n      id={event.id}\n      isDark={false}\n      className={parseCssDark(`Kalend__Event-${type}`, isDark)}\n      onClick={handleEventClick}\n    >\n      <EventAgenda event={event} isDark={isDark} type={type} />\n    </ButtonBase>\n  );\n};\n\nexport default EventButton;\n","import { AgendaDayRowProps } from './AgendaDayRow.props';\nimport { CalendarEvent } from '../../../common/interface';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { ReactNode, useContext, useEffect } from 'react';\nimport { parseCssDark } from '../../../utils/common';\nimport DateWeekDay from '../../dateWeekDay/DateWeekDay';\nimport DayOfWeekText from '../../dayOfWeekText/DayOfWeekText';\nimport EventButton from '../../eventButton/EventButton';\n\nconst renderEvents = (events: CalendarEvent[], timezone: string) => {\n  if (!events || events.length === 0) {\n    return [];\n  }\n\n  const allDayEvents: CalendarEvent[] = [];\n  const normalEvents: CalendarEvent[] = [];\n\n  events?.forEach((item) => {\n    if (item.allDay) {\n      allDayEvents.push(item);\n    } else {\n      normalEvents.push(item);\n    }\n  });\n\n  let sortedEvents: CalendarEvent[] = normalEvents?.sort((a, b) => {\n    return (\n      DateTime.fromISO(a.startAt)\n        .setZone(a.timezoneStartAt || timezone)\n        .toMillis() -\n      DateTime.fromISO(b.startAt)\n        .setZone(b.timezoneStartAt || timezone)\n        .toMillis()\n    );\n  });\n\n  sortedEvents = [...allDayEvents, ...sortedEvents];\n\n  return sortedEvents.map((event) => {\n    return (\n      <EventButton\n        key={`${event.id}${event.internalID ? event.internalID : ''}`}\n        item={{ event }}\n        type={EVENT_TYPE.AGENDA}\n      />\n    );\n  });\n};\n\nconst AgendaDayRow = (props: AgendaDayRowProps) => {\n  const { day, events, scrollToThis } = props;\n  const [store] = useContext(Context);\n  const dayEvents: ReactNode = renderEvents(events, store.config.timezone);\n\n  useEffect(() => {\n    if (!store.config.autoScroll) {\n      return;\n    }\n\n    if (scrollToThis) {\n      const element = document.getElementById(day.toString());\n      if (element) {\n        element.scrollIntoView();\n      }\n    }\n  }, []);\n\n  return (\n    <div\n      className={parseCssDark('Kalend__AgendaDayRow__container', store.isDark)}\n      id={day.toString()}\n    >\n      <div className={'Kalend__AgendaDayRow__container-day'}>\n        <DayOfWeekText day={day} width={50} />\n        <DateWeekDay width={50} day={day} />\n      </div>\n      <div className={'Kalend__AgendaDayRow__events'}>{dayEvents}</div>\n    </div>\n  );\n};\n\nexport default AgendaDayRow;\n","import { AgendaViewProps } from './AgendaView.props';\nimport { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { getSelectedViewType } from '../../utils/common';\nimport { useContext, useEffect, useState } from 'react';\nimport AgendaDayRow from './agendaDayRow/AgendaDayRow';\nimport KalendLayout from 'kalend-layout';\nimport LuxonHelper, { EVENTS_DAY_FORMAT } from '../../utils/luxonHelper';\n\nconst renderAgendaEvents = (events: any, calendarDays: DateTime[]) => {\n  let scrollToSet = false;\n  return calendarDays.map((calendarDay: DateTime) => {\n    const hasEvents = !!events[calendarDay.toFormat(EVENTS_DAY_FORMAT)];\n    let scrollToThis = false;\n    if (hasEvents) {\n      if (!scrollToSet && LuxonHelper.isTodayOrInFuture(calendarDay)) {\n        scrollToSet = true;\n        scrollToThis = true;\n      }\n      return (\n        <AgendaDayRow\n          key={calendarDay.toString()}\n          scrollToThis={scrollToThis}\n          day={calendarDay}\n          events={events[calendarDay.toFormat(EVENTS_DAY_FORMAT)]}\n        />\n      );\n    }\n  });\n};\n\nconst AgendaView = (props: AgendaViewProps) => {\n  const { events, eventLayouts } = props;\n  const [wasInit, setWasInit] = useState(false);\n  const [calendarContent, setCalendarContent] = useState(null);\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { calendarDays, width, height } = store;\n\n  const hasExternalLayout = eventLayouts !== undefined;\n\n  useEffect(() => {\n    if (!hasExternalLayout) {\n      KalendLayout({\n        events,\n        selectedView: CALENDAR_VIEW.AGENDA,\n        height,\n        width,\n        calendarDays: [],\n        config: store.config,\n      }).then((res: any) => {\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n        const content: any = renderAgendaEvents(res.events, calendarDays);\n        setCalendarContent(content);\n      });\n      setWasInit(true);\n    }\n  }, [calendarDays[0]]);\n\n  useEffect(() => {\n    // don't need to call this immediately\n    if (wasInit) {\n      if (!hasExternalLayout) {\n        KalendLayout({\n          events,\n          selectedView: CALENDAR_VIEW.AGENDA,\n          height,\n          width,\n          calendarDays: [],\n          config: store.config,\n        }).then((res: any) => {\n          setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n          const content: any = renderAgendaEvents(res.events, calendarDays);\n          setCalendarContent(content);\n        });\n      }\n    }\n  }, [JSON.stringify(events)]);\n\n  useEffect(() => {\n    if (\n      hasExternalLayout &&\n      getSelectedViewType(props.eventLayouts.selectedView) ===\n        CALENDAR_VIEW.AGENDA\n    ) {\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n      const content: any = renderAgendaEvents(\n        props.eventLayouts?.events,\n        calendarDays\n      );\n      setCalendarContent(content);\n    }\n  }, [JSON.stringify(props.eventLayouts)]);\n\n  return (\n    <div className={'Kalend__Agenda__container'} style={{ height: '100%' }}>\n      {calendarContent}\n    </div>\n  );\n};\n\nexport default AgendaView;\n","const CalendarIcon = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n    fill={props.fill}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"calendar\">\n        <rect width=\"24\" height=\"24\" opacity=\"0\" />\n        <path d=\"M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z\" />\n        <circle cx=\"8\" cy=\"16\" r=\"1\" />\n        <path d=\"M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default CalendarIcon;\n","const ChevronDown = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"chevron-down\">\n        <rect width=\"24\" height=\"24\" opacity=\"0\" />\n        <path d=\"M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default ChevronDown;\n","const ChevronLeft = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"chevron-left\">\n        <rect width=\"24\" height=\"24\" transform=\"rotate(90 12 12)\" opacity=\"0\" />\n        <path d=\"M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default ChevronLeft;\n","const ChevronRight = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"chevron-right\">\n        <rect\n          width=\"24\"\n          height=\"24\"\n          transform=\"rotate(-90 12 12)\"\n          opacity=\"0\"\n        />\n        <path d=\"M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default ChevronRight;\n","const MenuIcon = (props: any) => (\n  <svg\n    className={props.className}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"more-vertical\">\n        <rect\n          width=\"24\"\n          height=\"24\"\n          transform=\"rotate(-90 12 12)\"\n          opacity=\"0\"\n        />\n        <circle cx=\"12\" cy=\"12\" r=\"2\" />\n        <circle cx=\"12\" cy=\"5\" r=\"2\" />\n        <circle cx=\"12\" cy=\"19\" r=\"2\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default MenuIcon;\n","// The MIT License (MIT)\n//\n// Copyright (c) 2018 Akveo.\n//\n//     Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n//     The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n//     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport Calendar from './CalendarIcon';\nimport ChevronDown from './ChevronDown';\nimport ChevronLeft from './ChevronLeft';\nimport ChevronRight from './ChevronRight';\nimport More from './more';\n\nexport const EvaIcons = {\n  ChevronDown,\n  ChevronLeft,\n  ChevronRight,\n  Calendar,\n  More,\n};\n","import {\n  CALENDAR_NAVIGATION_DIRECTION,\n  CALENDAR_VIEW,\n  WEEKDAY_START,\n} from '../common/enums';\nimport { DateTime } from 'luxon';\nimport { calculateCalendarDays } from './calendarDays';\n\n/**\n * Calculate new calendar days\n * @param calendarDays\n * @param calendarView\n * @param direction\n * @param weekDayStart\n * @param dispatchContext\n */\nexport const getNewCalendarDays = (\n  calendarDays: DateTime[],\n  calendarView: CALENDAR_VIEW,\n  direction: CALENDAR_NAVIGATION_DIRECTION,\n  weekDayStart: WEEKDAY_START,\n  dispatchContext?: any\n): DateTime[] => {\n  const setSelectedDate = (date: DateTime) => {\n    if (dispatchContext) {\n      dispatchContext('selectedDate', date);\n    }\n  };\n\n  const newCalendarDays: DateTime[] = calculateCalendarDays(\n    direction,\n    calendarDays,\n    calendarView,\n    setSelectedDate,\n    weekDayStart\n  );\n\n  if (dispatchContext) {\n    dispatchContext('calendarDays', newCalendarDays);\n  }\n\n  return newCalendarDays;\n  // dispatchContext(\n  //   'selectedDate',\n  //   newCalendarDays[chooseSelectedDateIndex(calendarView)]\n  // );\n};\n\nexport const navigateToToday = async (\n  selectedView: CALENDAR_VIEW,\n  setContext: any,\n  weekDayStart: WEEKDAY_START,\n  dateNow: DateTime = DateTime.now()\n): Promise<void> => {\n  getNewCalendarDays(\n    [dateNow],\n    selectedView,\n    CALENDAR_NAVIGATION_DIRECTION.TODAY,\n    weekDayStart,\n    setContext\n  );\n};\n","// eslint-disable-next-line @typescript-eslint/no-use-before-define\nimport React, { useState } from 'react';\n\nimport { ButtonIconProps } from './ButtonIcon.props';\nimport { parseCssDark } from '../../utils/common';\n\nconst ButtonIcon = (props: ButtonIconProps) => {\n  const [isPressed, setIsPressed] = useState(false);\n\n  const {\n    children,\n    onClick,\n    size,\n    disabled,\n    isDark,\n    iconSize,\n    noActive,\n    backdropClassName,\n    style,\n  } = props;\n\n  const handleTouchStart = (): void => setIsPressed(true);\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const handleTouchOff = (e: any): void => setIsPressed(false);\n\n  const containerClassName: string = !size\n    ? 'Kalend__ButtonIcon__container'\n    : `Kalend__ButtonIcon__container-${size}`;\n\n  const backdropClassNameString: string = backdropClassName\n    ? backdropClassName\n    : 'Kalend__ButtonIcon__backdrop';\n\n  const buttonClassName: string = noActive\n    ? `${\n        disabled ? 'Kalend__ButtonIcon__disabled ' : ''\n      }Kalend__ButtonIcon-inactive`\n    : `${disabled ? 'Kalend__ButtonIcon__disabled ' : ''}Kalend__ButtonIcon`;\n\n  const IconElement: any = React.cloneElement(children, {\n    className: parseCssDark(\n      `Kalend__ButtonIcon__svg${iconSize ? `-${iconSize}` : '-normal'}`,\n      isDark\n    ),\n  });\n\n  return (\n    <div className={containerClassName} style={style}>\n      <button\n        className={parseCssDark(buttonClassName, isDark)}\n        onClick={onClick}\n        disabled={disabled}\n        onTouchStart={handleTouchStart}\n        onTouchEnd={handleTouchOff}\n      >\n        {IconElement}\n        {isPressed ? <div className={backdropClassNameString} /> : null}\n      </button>\n    </div>\n  );\n};\n\nexport default ButtonIcon;\n","import { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { HeaderCalendarButtonProps } from './HeaderCalendarButtons.props';\nimport { parseClassName } from '../../utils/common';\nimport { useContext } from 'react';\nimport ButtonBase from '../buttonBase/ButtonBase';\n\nconst HeaderCalendarButton = (props: HeaderCalendarButtonProps) => {\n  const { buttonData, setViewChanged, handleClose, isForcedMobile } = props;\n\n  const [store] = useContext(Context);\n  const { isDark, selectedView, isMobile } = store;\n\n  const isSelected: boolean = buttonData.value === selectedView;\n  const buttonClassName = `Kalend__header_calendar_button${\n    isSelected ? '-selected' : ''\n  }`;\n  const textClassName = `Kalend__text Kalend__header_calendar_button-text${\n    isSelected ? '-selected' : ''\n  }`;\n\n  const navigateFunction = (): void => {\n    if (handleClose) {\n      handleClose();\n    }\n    setViewChanged(buttonData.value);\n  };\n\n  return (\n    <ButtonBase\n      className={parseClassName(\n        buttonClassName,\n        isMobile || isForcedMobile,\n        isDark\n      )}\n      isDark={isDark}\n      onClick={navigateFunction}\n    >\n      <p className={parseClassName(textClassName, isMobile, isDark)}>\n        {buttonData.label}\n      </p>\n    </ButtonBase>\n  );\n};\n\nexport const isSingleView = (disabledViews?: CALENDAR_VIEW[]): boolean => {\n  if (\n    !disabledViews ||\n    (disabledViews &&\n      disabledViews?.length + 1 !== Object.values(CALENDAR_VIEW).length)\n  ) {\n    return false;\n  }\n\n  return true;\n};\n\ninterface HeaderCalendarButtonsProps {\n  disabledViews?: CALENDAR_VIEW[];\n  setViewChanged: any;\n  handleClose?: any;\n  isForcedMobile?: boolean; // force mobile layout for dropdown\n}\n/**\n * Buttons for switching calendar view in desktop layout\n * @constructor\n */\nconst HeaderCalendarButtons = (props: HeaderCalendarButtonsProps) => {\n  const { setViewChanged, handleClose, isForcedMobile } = props;\n  const [store] = useContext(Context);\n\n  const { isDark, isMobile, translations, config } = store;\n  const { disabledViews } = config;\n\n  return isSingleView(disabledViews) ? null : (\n    <div\n      className={parseClassName(\n        'Kalend__header_calendar_buttons__container',\n        !!(isMobile || isForcedMobile),\n        isDark\n      )}\n    >\n      {!disabledViews?.includes(CALENDAR_VIEW.AGENDA) ? (\n        <HeaderCalendarButton\n          buttonData={{\n            label: translations['buttons']['agenda'],\n            value: CALENDAR_VIEW.AGENDA,\n          }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.DAY) ? (\n        <HeaderCalendarButton\n          buttonData={{\n            label: translations['buttons']['day'],\n            value: CALENDAR_VIEW.DAY,\n          }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.THREE_DAYS) ? (\n        <HeaderCalendarButton\n          buttonData={{\n            label: translations['buttons']['threeDays'],\n            value: CALENDAR_VIEW.THREE_DAYS,\n          }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.WEEK) ? (\n        <HeaderCalendarButton\n          buttonData={{\n            label: translations['buttons']['week'],\n            value: CALENDAR_VIEW.WEEK,\n          }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.MONTH) ? (\n        <HeaderCalendarButton\n          buttonData={{\n            label: translations['buttons']['month'],\n            value: CALENDAR_VIEW.MONTH,\n          }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default HeaderCalendarButtons;\n","import { CalendarViewDropdownProps } from './CalendarViewDropdown.props';\nimport { Config } from '../../common/interface';\nimport { Context } from '../../context/store';\nimport { EvaIcons } from '../eva-icons';\nimport { parseCalendarViewToText, parseCssDark } from '../../utils/common';\nimport { useContext, useState } from 'react';\nimport ButtonBase from '../buttonBase/ButtonBase';\nimport ButtonIcon from '../buttonIcon/ButtonIcon';\nimport HeaderCalendarButtons, {\n  isSingleView,\n} from '../headerCalendarButtons/HeaderCalendarButtons';\n\nconst CalendarViewDropdown = (props: CalendarViewDropdownProps) => {\n  const { setViewChanged } = props;\n\n  const [isOpen, setOpen] = useState(false);\n\n  const [store] = useContext(Context);\n  const { config, isMobile, selectedView, translations } = store;\n  const { isDark, disabledViews, disableMobileDropdown } = config as Config;\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const preventDefault = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  return (isMobile && (disableMobileDropdown || isSingleView(disabledViews))) ||\n    isSingleView(disabledViews) ? null : (\n    <>\n      <div className={'Kalend__CalendarViewDropdown__wrapper'}>\n        {isMobile ? (\n          <ButtonIcon isDark={isDark} key={'calendar'} onClick={handleOpen}>\n            <EvaIcons.More className={parseCssDark('icon-svg', isDark)} />\n          </ButtonIcon>\n        ) : (\n          <ButtonBase\n            isDark={isDark}\n            className={parseCssDark('Kalend__ButtonBase-border', isDark)}\n            onClick={handleOpen}\n            text={parseCalendarViewToText(selectedView, translations)}\n          />\n        )}\n        {isOpen ? (\n          <div\n            className={'Kalend__CalendarViewDropdown__backdrop'}\n            onClick={handleClose}\n          />\n        ) : null}\n        {isOpen ? (\n          <div\n            className={parseCssDark(\n              'Kalend__CalendarViewDropdown__container',\n              isDark\n            )}\n          >\n            <div\n              className={'Kalend__CalendarViewDropdown__container-content'}\n              onClick={preventDefault}\n            >\n              <HeaderCalendarButtons\n                disabledViews={disabledViews}\n                setViewChanged={setViewChanged}\n                handleClose={handleClose}\n                isForcedMobile={true}\n              />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default CalendarViewDropdown;\n","import { Context } from '../../context/store';\nimport { DesktopLayoutProps } from './DesktopLayout.props';\nimport { useContext } from 'react';\n\nconst DesktopLayout = (props: DesktopLayoutProps) => {\n  const { children } = props;\n  const [store] = useContext(Context);\n  const { isMobile } = store;\n\n  return !isMobile ? (\n    <div className={'Kalend__DesktopLayout'}>{children}</div>\n  ) : null;\n};\n\nexport default DesktopLayout;\n","import { Context } from '../../context/store';\nimport { HeaderCalendarTitleProps } from './HeaderCalendarTitle.props';\nimport { parseClassName } from '../../utils/common';\nimport { useContext } from 'react';\n\n/**\n * Calendar title in header in month date format\n * @param props\n * @constructor\n */\nconst HeaderCalendarTitle = (props: HeaderCalendarTitleProps) => {\n  const { title } = props;\n\n  const [store] = useContext(Context);\n  const { isDark, isMobile } = store;\n\n  return (\n    <div\n      className={parseClassName(\n        `Kalend__HeaderCalendarTitle__container`,\n        isMobile\n      )}\n    >\n      <p\n        className={parseClassName(\n          'Kalend__text Kalend__HeaderCalendarTitle',\n          isMobile,\n          isDark\n        )}\n      >\n        {title}\n      </p>\n    </div>\n  );\n};\n\nexport default HeaderCalendarTitle;\n","import { Context } from '../../context/store';\nimport { MobileLayoutProps } from './MobileLayout.props';\nimport { useContext } from 'react';\n\nconst MobileLayout = (props: MobileLayoutProps) => {\n  const { children, style } = props;\n  const [store] = useContext(Context);\n  const { isMobile } = store;\n\n  return isMobile ? (\n    <div className={'Kalend__MobileLayout'} style={style}>\n      {children}\n    </div>\n  ) : null;\n};\n\nexport default MobileLayout;\n","import { CALENDAR_NAVIGATION_DIRECTION } from '../../common/enums';\nimport { CalendarDesktopNavigationProps } from './CalendarDesktopNavigation.props';\nimport { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { EvaIcons } from '../eva-icons';\nimport {\n  getNewCalendarDays,\n  navigateToToday,\n} from '../../utils/getCalendarDays';\nimport { parseClassName, parseCssDark } from '../../utils/common';\nimport { useContext, useEffect, useState } from 'react';\nimport ButtonBase from '../buttonBase/ButtonBase';\nimport ButtonIcon from '../buttonIcon/ButtonIcon';\nimport CalendarViewDropdown from '../calendarViewDropdown/CalendarViewDropdown';\nimport DesktopLayout from '../desktopLayout/DesktopLayout';\nimport HeaderCalendarButtons from '../headerCalendarButtons/HeaderCalendarButtons';\nimport HeaderCalendarTitle from '../headerCalendarTitle/HeaderCalendarTitle';\nimport MobileLayout from '../mobileLayout/MobileLayout';\n\n/**\n * Title with calendar navigation buttons for desktop layout\n * @param props\n * @constructor\n */\nconst CalendarDesktopNavigation = (props: CalendarDesktopNavigationProps) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const {\n    config,\n    calendarDays,\n    selectedView,\n    selectedDate,\n    isMobile,\n    width,\n    translations,\n  } = store;\n  const { weekDayStart, isDark } = config;\n\n  const [isFullNavigationHidden, setIsFullNavigationHidden] = useState(true);\n\n  const titleDate = DateTime.fromISO(selectedDate);\n  const title = `${\n    translations['months'][`${titleDate.toFormat('MMMM').toLowerCase()}`]\n  } ${titleDate.toFormat('yyyy')}`;\n\n  const navigateBackwards = async () => {\n    setContext('calendarContent', null);\n\n    setContext('direction', CALENDAR_NAVIGATION_DIRECTION.BACKWARDS);\n\n    getNewCalendarDays(\n      calendarDays,\n      selectedView,\n      CALENDAR_NAVIGATION_DIRECTION.BACKWARDS,\n      weekDayStart,\n      setContext\n    );\n  };\n\n  const navigateForward = async () => {\n    setContext('calendarContent', null);\n\n    setContext('direction', CALENDAR_NAVIGATION_DIRECTION.FORWARD);\n\n    getNewCalendarDays(\n      calendarDays,\n      selectedView,\n      CALENDAR_NAVIGATION_DIRECTION.FORWARD,\n      weekDayStart,\n      setContext\n    );\n  };\n\n  const navigateToTodayDate = async (): Promise<void> => {\n    setContext('calendarContent', null);\n\n    setContext('direction', CALENDAR_NAVIGATION_DIRECTION.TODAY);\n\n    await navigateToToday(\n      selectedView,\n      setContext,\n      weekDayStart,\n      DateTime.now()\n    );\n  };\n\n  // handle showing  full desktop navigation panel or dropdown for\n  // different screen size\n  useEffect(() => {\n    const element: any = document.querySelector(\n      parseCssDark('.Kalend__CalendarDesktopNavigation__container', isDark)\n    );\n\n    if (element) {\n      if (element) {\n        if (element.getBoundingClientRect().width <= 950) {\n          setIsFullNavigationHidden(true);\n        } else {\n          setIsFullNavigationHidden(false);\n        }\n      }\n    }\n  }, [width]);\n\n  // add funcs to ref\n  useEffect(() => {\n    if (props.kalendRef) {\n      props.kalendRef.current = {\n        navigateToTodayDate,\n        navigateForward,\n        navigateBackwards,\n      };\n    }\n  }, []);\n  useEffect(() => {\n    if (props.kalendRef) {\n      props.kalendRef.current = {\n        navigateToTodayDate,\n        navigateForward,\n        navigateBackwards,\n      };\n    }\n  }, [selectedView, calendarDays[0].toString()]);\n\n  return props.kalendRef ? null : (\n    <div\n      className={parseClassName(\n        'Kalend__CalendarDesktopNavigation__container',\n        isMobile,\n        isDark\n      )}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          width: isMobile ? '100%' : 'auto',\n        }}\n      >\n        <DesktopLayout>\n          <div className={'Kalend__CalendarDesktopNavigation__buttons'}>\n            <>\n              <ButtonBase\n                className={parseCssDark('Kalend__ButtonBase-border', isDark)}\n                isDark={isDark}\n                onClick={navigateToTodayDate}\n              >\n                {translations['buttons']['today']}\n              </ButtonBase>\n              <ButtonIcon\n                isDark={isDark}\n                key={'left'}\n                onClick={navigateBackwards}\n              >\n                <EvaIcons.ChevronLeft\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <ButtonIcon\n                isDark={isDark}\n                key={'right'}\n                onClick={navigateForward}\n              >\n                <EvaIcons.ChevronRight\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n            </>\n          </div>\n        </DesktopLayout>\n        <HeaderCalendarTitle title={title} />\n        <MobileLayout style={{ width: '100%' }}>\n          <div className={'Kalend__CalendarDesktopNavigation__buttons'}>\n            <>\n              <ButtonIcon\n                isDark={isDark}\n                key={'left'}\n                onClick={navigateBackwards}\n              >\n                <EvaIcons.ChevronLeft\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <ButtonIcon\n                isDark={isDark}\n                key={'right'}\n                onClick={navigateForward}\n              >\n                <EvaIcons.ChevronRight\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <ButtonIcon\n                isDark={isDark}\n                key={'calendar'}\n                onClick={navigateToTodayDate}\n              >\n                <EvaIcons.Calendar\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <CalendarViewDropdown\n                disabledViews={props.disabledViews}\n                setViewChanged={props.setViewChanged}\n                disableMobileDropdown={props.disableMobileDropdown}\n              />\n            </>\n          </div>\n        </MobileLayout>\n      </div>\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          marginRight: 12,\n          justifyContent: 'flex-end',\n          flex: 'auto',\n        }}\n      >\n        <DesktopLayout>\n          {isFullNavigationHidden ? (\n            <CalendarViewDropdown\n              disabledViews={props.disabledViews}\n              setViewChanged={props.setViewChanged}\n              disableMobileDropdown={props.disableMobileDropdown}\n            />\n          ) : (\n            <HeaderCalendarButtons\n              disabledViews={props.disabledViews}\n              setViewChanged={props.setViewChanged}\n            />\n          )}\n        </DesktopLayout>\n      </div>\n    </div>\n  );\n};\n\nexport default CalendarDesktopNavigation;\n","import { CalendarHeaderColTextProps } from './CalendarHeaderColText.props';\n\nconst CalendarHeaderColText = (props: CalendarHeaderColTextProps) => {\n  const { children } = props;\n\n  return (\n    <div className={'Kalend__CalendarHeaderColText__container'}>{children}</div>\n  );\n};\n\nexport default CalendarHeaderColText;\n","import { CALENDAR_VIEW } from '../../../../common/enums';\nimport { CalendarHeaderColProps } from './CalendarHeaderCol.props';\nimport { Context } from '../../../../context/store';\nimport { parseCssDark } from '../../../../utils/common';\nimport { useContext } from 'react';\n\nconst CalendarHeaderCol = (props: CalendarHeaderColProps) => {\n  const { children } = props;\n\n  const [store] = useContext(Context);\n  const { isDark, selectedView } = store;\n\n  return (\n    <div\n      className={`${parseCssDark('Kalend__CalendarHeaderCol', isDark)}${\n        selectedView === CALENDAR_VIEW.MONTH ? '-month' : ''\n      }`}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default CalendarHeaderCol;\n","import { CalendarHeaderDatesProps } from './CalendarHeaderDates.props';\nimport { Context } from '../../../../context/store';\nimport { DateTime } from 'luxon';\nimport { getCorrectWidth } from '../../../../utils/common';\nimport { useContext } from 'react';\nimport CalendarHeaderCol from '../calendarHeaderCol/CalendarHeaderCol';\nimport CalendarHeaderColText from '../calendarHeaderColText/CalendarHeaderColText';\nimport DateWeekDay from '../../../dateWeekDay/DateWeekDay';\n\n/**\n * Get numeric representation of days\n *\n * @param props\n * @constructor\n */\nconst CalendarHeaderDates = (props: CalendarHeaderDatesProps) => {\n  const [store] = useContext(Context);\n  const { width, isMobile, selectedView } = store;\n\n  const { daysNum, calendarDays } = props;\n\n  const colWidth: number =\n    getCorrectWidth(width, isMobile, selectedView) / daysNum;\n\n  const renderNumericDays = () =>\n    calendarDays.map((calendarDay: DateTime) => {\n      return (\n        <DateWeekDay\n          key={calendarDay.toString()}\n          width={colWidth}\n          day={calendarDay}\n          setViewChanged={props.setViewChanged}\n        />\n      );\n    });\n\n  const numericDays: any = renderNumericDays();\n\n  return (\n    <CalendarHeaderCol>\n      <CalendarHeaderColText>{numericDays}</CalendarHeaderColText>\n    </CalendarHeaderCol>\n  );\n};\n\nexport default CalendarHeaderDates;\n","import { CALENDAR_VIEW, WEEKDAY_START } from '../../../../common/enums';\nimport { CalendarHeaderWeekDaysProps } from './CalendarHeaderWeekDays.props';\nimport { Context } from '../../../../context/store';\nimport { DateTime } from 'luxon';\nimport { daysText, daysTextSundayStart } from '../../../../utils/calendarDays';\nimport { getCorrectWidth, parseCssDark } from '../../../../utils/common';\nimport { useContext } from 'react';\nimport DayOfWeekText from '../../../dayOfWeekText/DayOfWeekText';\n\n/**\n * Render text representation of days\n *\n * @param props\n * @constructor\n */\nconst CalendarHeaderWeekDays = (props: CalendarHeaderWeekDaysProps) => {\n  const { daysNum, days } = props;\n\n  const [store] = useContext(Context);\n  const { width, selectedView, isMobile, config, translations } = store;\n  const { weekDayStart } = config;\n\n  const isMonthView: boolean = selectedView === CALENDAR_VIEW.MONTH;\n\n  const colWidth: number = isMonthView\n    ? width / daysNum\n    : getCorrectWidth(width, isMobile, selectedView) / daysNum;\n\n  const weekDays =\n    weekDayStart === WEEKDAY_START.SUNDAY ? daysTextSundayStart : daysText;\n\n  const renderDaysText = () => {\n    const dayTextColumnWidth: any = {\n      width: colWidth,\n    };\n\n    if (isMonthView) {\n      return weekDays.map((day: string) => (\n        <div\n          key={day}\n          className={'Kalend__CalendarHeaderWeekDays__col'}\n          style={dayTextColumnWidth}\n        >\n          <p\n            className={parseCssDark(\n              'Kalend__text Kalend__CalendarHeaderWeekDays__text',\n              store.isDark\n            )}\n          >\n            {translations['weekDays'][`${day}`]}\n          </p>\n        </div>\n      ));\n    }\n\n    return days.map((calendarDay: DateTime) => (\n      <DayOfWeekText\n        key={calendarDay.toString()}\n        day={calendarDay}\n        width={colWidth}\n      />\n    ));\n  };\n  const namesForDays: any = renderDaysText();\n\n  return (\n    <div className={'Kalend__CalendarHeaderWeekDays__wrapper'}>\n      <div className={'Kalend__CalendarHeaderWeekDays__container'}>\n        {namesForDays}\n      </div>\n    </div>\n  );\n};\n\nexport default CalendarHeaderWeekDays;\n","import { CALENDAR_OFFSET_LEFT } from '../../../../common/constants';\nimport { CalendarHeaderWrapperProps } from './CalendarHeaderWrapper.props';\nimport { Context } from '../../../../context/store';\nimport { parseCssDark } from '../../../../utils/common';\nimport { useContext } from 'react';\n\nconst CalendarHeaderWrapper = (props: CalendarHeaderWrapperProps) => {\n  const { children, isMonthView } = props;\n\n  const [store] = useContext(Context);\n  const { width, rawWidth, isDark, showWeekNumbers } = store;\n\n  const headerStyle = {\n    paddingLeft: isMonthView\n      ? showWeekNumbers\n        ? 30\n        : 0\n      : CALENDAR_OFFSET_LEFT,\n    width: isMonthView && !showWeekNumbers ? rawWidth : width,\n  };\n\n  return (\n    <div\n      className={parseCssDark('Kalend__CalendarHeaderCol', isDark)}\n      style={headerStyle}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default CalendarHeaderWrapper;\n","import { CALENDAR_VIEW } from '../../../common/enums';\nimport { CalendarHeaderDaysProps } from './CalendarHeaderDays.props';\nimport { Context } from '../../../context/store';\nimport { useContext } from 'react';\nimport CalendarHeaderColText from '../components/calendarHeaderColText/CalendarHeaderColText';\nimport CalendarHeaderDates from '../components/calendarHeaderDates/CalendarHeaderDates';\nimport CalendarHeaderWeekDays from '../components/calendarHeaderWeekDays/CalendarHeaderWeekDays';\nimport CalendarHeaderWrapper from '../components/calendarHeaderWrapper/CalendarHeaderWrapper';\n\nconst CalendarHeaderDays = (props: CalendarHeaderDaysProps) => {\n  const { isMonthView } = props;\n\n  const [store] = useContext(Context);\n  const {\n    calendarDays,\n    selectedDate,\n    selectedView,\n    showWeekNumbers,\n    translations,\n  } = store;\n\n  const daysNum: number = isMonthView ? 7 : calendarDays.length;\n\n  return (\n    <CalendarHeaderWrapper isMonthView={isMonthView}>\n      {!isMonthView &&\n      selectedView !== CALENDAR_VIEW.AGENDA &&\n      showWeekNumbers ? (\n        <div style={{ position: 'absolute', left: 8 }}>\n          <p className={'Kalend__WeekNumbersCol__text-weekdays'}>\n            {translations['weekShort']}\n            {selectedDate.weekNumber}\n          </p>\n        </div>\n      ) : null}\n      <CalendarHeaderColText>\n        <CalendarHeaderWeekDays daysNum={daysNum} days={calendarDays} />\n      </CalendarHeaderColText>\n      {!isMonthView ? (\n        <CalendarHeaderColText>\n          <CalendarHeaderDates\n            calendarDays={calendarDays}\n            daysNum={daysNum}\n            setViewChanged={props.setViewChanged}\n          />\n        </CalendarHeaderColText>\n      ) : null}\n    </CalendarHeaderWrapper>\n  );\n};\n\nexport default CalendarHeaderDays;\n","import { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { getDaysNum } from '../../../utils/calendarDays';\nimport { useContext, useEffect, useState } from 'react';\nimport EventButton from '../../eventButton/EventButton';\n\nconst CalendarHeaderEvents = () => {\n  const [store] = useContext(Context);\n  const { selectedView, width, calendarDays } = store;\n\n  const renderEvents = (data: any, sequence: number) => {\n    return data?.map((item: any) => {\n      // const item: any = keyValue[1];\n\n      return (\n        <EventButton\n          key={\n            `${item.event.id}${\n              item.event.internalID ? item.event.internalID : ''\n            }` + sequence\n          }\n          item={item}\n          type={EVENT_TYPE.HEADER}\n        />\n      );\n    });\n  };\n\n  const column = width / getDaysNum(selectedView);\n\n  const colWidthStyle: any = {\n    width: column,\n  };\n\n  const daysNumbers = calendarDays.map((calendarDay: DateTime) => {\n    return (\n      <div\n        key={calendarDay.toString()}\n        className={'Kalend__CalendarHeaderEvents__col-wrapper'}\n        style={colWidthStyle}\n      ></div>\n    );\n  });\n\n  const [headerEvents, setHeaderEvents] = useState<any>(null);\n\n  const headerStyle: any = {\n    // paddingLeft: CALENDAR_OFFSET_LEFT,\n    height: store.headerEventRowsCount + 20,\n    // transition: 'all 0.3s',\n  };\n\n  // useEffect(() => {\n  //   // setTimeout(() => {\n  //   setContext('height', getHeight());\n  //   // }, 600);\n  // }, [store.headerEventRowsCount]);\n\n  // useEffect(() => {\n  //   // set animation\n  //   setAnimation('Kalend__CalendarHeaderEvents_animationExpand');\n  //   // clean animation\n  //   setTimeout(() => {\n  //     setAnimation('');\n  //   }, 600);\n  // }, [store.headerEventRowsCount]);\n\n  useEffect(() => {\n    const headerEventsRaw = renderEvents(\n      store.headerLayout,\n      store.layoutUpdateSequence + 1\n    );\n    setHeaderEvents(headerEventsRaw);\n  }, [JSON.stringify(store.headerLayout)]);\n\n  return (\n    <div\n      className={`Kalend__CalendarHeaderEvents__container`}\n      style={headerStyle}\n    >\n      <div className={'Kalend__CalendarHeaderEvents__row'}>{daysNumbers}</div>\n      {headerEvents}\n    </div>\n  );\n};\n\nexport default CalendarHeaderEvents;\n","import { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { useContext } from 'react';\nimport CalendarHeaderDays from './calendarHeaderDays/CalendarHeaderDays';\nimport CalendarHeaderEvents from './calendarHeaderEvents/CalendarHeaderEvents';\n\nconst CalendarHeader = (props: any) => {\n  const [store] = useContext(Context);\n\n  const { isDark, width, selectedView } = store;\n\n  const isDayView: boolean = selectedView === CALENDAR_VIEW.DAY;\n  const isMonthView: boolean = selectedView === CALENDAR_VIEW.MONTH;\n\n  return (\n    <div\n      className={`Kalend__CalendarHeader${!isMonthView ? '-tall' : ''}${\n        isDayView ? '-day' : ''\n      }${isMonthView ? '-small' : ''}${isDark ? '-dark' : ''}`}\n    >\n      <CalendarHeaderDays\n        width={width}\n        isMonthView={isMonthView}\n        setViewChanged={props.setViewChanged}\n      />\n      {!isMonthView && store.headerLayout && store.headerLayout.length ? (\n        <CalendarHeaderEvents />\n      ) : null}\n    </div>\n  );\n};\n\nexport default CalendarHeader;\n","import { Context, Store } from '../context/store';\nimport { KalendState } from '../common/interface';\nimport { getRange } from '../utils/calendarDays';\nimport { useContext, useEffect, useLayoutEffect, useState } from 'react';\n\nconst CalendarTableLayoutLayer = (props: { children: any }) => {\n  const [store] = useContext(Context);\n\n  const { calendarDays, selectedView, callbacks, config, width, direction } =\n    store as Store;\n\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    const rootEl: any = document.querySelector('.Kalend__Calendar__table');\n\n    if (rootEl) {\n      setIsMounted(true);\n    }\n  }, [document.querySelector('.Kalend__Calendar__table')]);\n\n  // Expose basic state to outside\n  useLayoutEffect(() => {\n    if (callbacks.onStateChange && isMounted) {\n      const data: KalendState = {\n        selectedView,\n        calendarDays,\n        range: { ...getRange(calendarDays), direction },\n        width,\n        config,\n        isMobile: store.isMobile,\n        height: store.height,\n        selectedDate: store.selectedDate.toUTC().toString(),\n      };\n      callbacks.onStateChange(data);\n    }\n  }, [\n    selectedView,\n    JSON.stringify(calendarDays),\n    width,\n    JSON.stringify(config),\n    store.isMobile,\n    isMounted,\n    direction,\n  ]);\n\n  useEffect(() => {\n    if (callbacks.onStateChange && isMounted) {\n      const data: KalendState = {\n        selectedView,\n        calendarDays,\n        range: { ...getRange(calendarDays), direction },\n        width,\n        config,\n        isMobile: store.isMobile,\n        height: store.height,\n        selectedDate: store.selectedDate.toUTC().toString(),\n      };\n      callbacks.onStateChange(data);\n    }\n  }, []);\n\n  return isMounted ? props.children : null;\n};\n\nexport default CalendarTableLayoutLayer;\n","import { CALENDAR_OFFSET_LEFT } from '../../../../common/constants';\nimport { Context } from '../../../../context/store';\nimport { TIME_FORMAT } from '../../../../common/enums';\nimport { createVerticalHours, parseCssDark } from '../../../../utils/common';\nimport { useContext } from 'react';\n\nconst getOffsetTop = (\n  hour: string,\n  format: TIME_FORMAT,\n  hourHeight: number,\n  isAfter12: boolean\n) => {\n  if (format === TIME_FORMAT.H_24) {\n    return parseInt(hour) * hourHeight - 4;\n  }\n\n  if (format === TIME_FORMAT.H_12 && !isAfter12) {\n    return parseInt(hour) * hourHeight - 4;\n  } else {\n    return (parseInt(hour) + 12) * hourHeight - 4;\n  }\n};\n\nconst renderHours = (\n  width: number,\n  hourHeight: number,\n  isDark: boolean,\n  timeFormat: TIME_FORMAT\n) => {\n  let isAfter12 = false;\n  return createVerticalHours(timeFormat).map((hour: any) => {\n    if (hour === '1 PM') {\n      isAfter12 = true;\n    }\n\n    return hour === '00' ||\n      hour === '24' ||\n      hour === '0 AM' ||\n      hour === '24 PM' ? (\n      <div\n        key={hour}\n        className={'Kalend__CalendarBodyHours__container'}\n        style={{ minHeight: hourHeight }}\n      />\n    ) : (\n      <div\n        key={hour}\n        className={'Kalend__CalendarBodyHours__container'}\n        style={{ minHeight: hourHeight }}\n      >\n        <p\n          className={parseCssDark(\n            'Kalend__text Kalend__CalendarBodyHours__text',\n            isDark\n          )}\n          style={{\n            top: getOffsetTop(hour, timeFormat, hourHeight, isAfter12),\n            left: 10,\n          }}\n        >\n          {hour}\n        </p>\n        <div\n          className={parseCssDark(\n            'Kalend__text Kalend__CalendarBodyHours__line',\n            isDark\n          )}\n          style={{ width: width - CALENDAR_OFFSET_LEFT }}\n        />\n      </div>\n    );\n  });\n};\n\nconst CalendarBodyHours = () => {\n  const [store] = useContext(Context);\n  const { width, config, isDark, height } = store;\n  const { hourHeight, timeFormat } = config;\n\n  const hours: any = renderHours(width, hourHeight, isDark, timeFormat);\n\n  return (\n    <div className={'Kalend__CalendarBodyHours__wrapper'} style={{ height }}>\n      {hours}\n    </div>\n  );\n};\n\nexport default CalendarBodyHours;\n","import { CALENDAR_OFFSET_LEFT } from '../../../common/constants';\nimport { CALENDAR_VIEW } from '../../../common/enums';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { getCorrectWidth, parseCssDark } from '../../../utils/common';\nimport { useContext } from 'react';\n\nconst renderVerticalLines = (\n  calendarDays: DateTime[],\n  width: number,\n  height: number,\n  hourHeight: number,\n  isDark: boolean,\n  isMobile: boolean,\n  selectedView: CALENDAR_VIEW\n) => {\n  const columnWidth: number =\n    getCorrectWidth(width, isMobile, selectedView) / calendarDays.length;\n\n  return calendarDays.map((calendarDay, index: number) => {\n    const style: { left: number; height: number } = {\n      left:\n        columnWidth * index +\n        (selectedView === CALENDAR_VIEW.MONTH ? 0 : CALENDAR_OFFSET_LEFT),\n      height: hourHeight * 24,\n    };\n\n    if (index > 0) {\n      return (\n        <div\n          key={index}\n          style={style}\n          className={parseCssDark('Kalend__DaysViewVerticalLine__line', isDark)}\n        />\n      );\n    }\n  });\n};\n\nconst DaysViewVerticalLines = () => {\n  const [store] = useContext(Context);\n  const {\n    calendarDays,\n    width,\n    isDark,\n    height,\n    config,\n    isMobile,\n    selectedView,\n  } = store;\n\n  const verticalLines: any = renderVerticalLines(\n    selectedView === CALENDAR_VIEW.MONTH\n      ? calendarDays.slice(0, 7)\n      : calendarDays,\n    width,\n    height,\n    config.hourHeight,\n    isDark,\n    isMobile,\n    selectedView\n  );\n\n  return (\n    <>\n      {/*// <div className={'Kalend__DaysViewVerticalLine__container'}>*/}\n      {verticalLines}\n      {/*// </div>*/}\n    </>\n  );\n};\n\nexport default DaysViewVerticalLines;\n","import { CALENDAR_OFFSET_LEFT } from '../../common/constants';\nimport { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { DaysViewTableProps } from './DaysViewTable.props';\nimport {\n  formatDateTimeToString,\n  getSelectedViewType,\n} from '../../utils/common';\nimport { useContext, useEffect, useLayoutEffect, useState } from 'react';\nimport CalendarBodyHours from './daysViewOneDay/calendarBodyHours/CalendarBodyHours';\nimport DaysViewOneDay from './daysViewOneDay/DaysViewOneDay';\nimport DaysViewVerticalLines from './daysViewVerticalLines/DaysViewVerticalLines';\nimport KalendLayout from 'kalend-layout';\n\nconst renderOneDay = (\n  calendarDays: DateTime[],\n  events: any,\n  sequence?: number\n) => {\n  return calendarDays.map((calendarDay: DateTime, index: number) => {\n    const formattedDayString: string = formatDateTimeToString(calendarDay);\n\n    return (\n      <DaysViewOneDay\n        key={formattedDayString + sequence}\n        day={calendarDay}\n        index={index}\n        data={events ? events[formattedDayString] : []}\n      />\n    );\n  });\n};\n\nconst DaysViewTable = (props: DaysViewTableProps) => {\n  const { events } = props;\n\n  const [wasInit, setWasInit] = useState(false);\n  const [calendarContent, setCalendarContent] = useState(null);\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { isMobile, calendarDays, width, selectedView, height, config } = store;\n\n  const style: any = {\n    paddingLeft: CALENDAR_OFFSET_LEFT,\n    // width: '100%',\n    height: '100%',\n  };\n\n  const adjustScrollPosition = () => {\n    const currentElement: any = document.getElementById(`Kalend__timetable`);\n\n    const shift = config.focusHour ? config.focusHour : DateTime.now().hour;\n\n    currentElement.scrollTop = shift * config.hourHeight - config.hourHeight;\n  };\n\n  useEffect(() => {\n    if (!store.config.autoScroll) {\n      return;\n    }\n\n    adjustScrollPosition();\n  }, []);\n\n  const hasExternalLayout = props.eventLayouts !== undefined;\n\n  // recalculate event positions on calendarDays change\n  useLayoutEffect(() => {\n    if (wasInit) {\n      if (!hasExternalLayout) {\n        KalendLayout({\n          events,\n          width,\n          height,\n          calendarDays,\n          config: store.config,\n          isMobile,\n          selectedView,\n        }).then((res: any) => {\n          setContext('headerLayout', res.headerPositions);\n          setContext('headerEventRowsCount', res.headerOffsetTop);\n          setContext('daysViewLayout', res.normalPositions);\n          setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n          const days: any = renderOneDay(\n            store.calendarDays,\n            res.normalPositions,\n            store.layoutUpdateSequence + 1\n          );\n          setCalendarContent(days);\n        });\n      }\n    }\n  }, [calendarDays[0], selectedView]);\n\n  useLayoutEffect(() => {\n    if (wasInit) {\n      if (!hasExternalLayout) {\n        KalendLayout({\n          events,\n          width,\n          height,\n          calendarDays,\n          config: store.config,\n          isMobile,\n          selectedView,\n        }).then((res: any) => {\n          setContext('headerLayout', res.headerPositions);\n          setContext('headerEventRowsCount', res.headerOffsetTop);\n          setContext('daysViewLayout', res.normalPositions);\n          setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n          const days: any = renderOneDay(\n            store.calendarDays,\n            res.normalPositions,\n            store.layoutUpdateSequence + 1\n          );\n          setCalendarContent(days);\n        });\n      }\n    }\n  }, [width]);\n\n  useLayoutEffect(() => {\n    if (!hasExternalLayout) {\n      KalendLayout({\n        events,\n        width,\n        height,\n        calendarDays,\n        config: store.config,\n        isMobile,\n        selectedView,\n      }).then((res: any) => {\n        setContext('headerLayout', res.headerPositions);\n        setContext('headerEventRowsCount', res.headerOffsetTop);\n        setContext('daysViewLayout', res.normalPositions);\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n        const days: any = renderOneDay(\n          store.calendarDays,\n          res.normalPositions,\n          store.layoutUpdateSequence + 1\n        );\n\n        setCalendarContent(days);\n      });\n    }\n  }, [JSON.stringify(events)]);\n\n  useLayoutEffect(() => {\n    if (!hasExternalLayout) {\n      KalendLayout({\n        events,\n        width,\n        height,\n        calendarDays,\n        config: store.config,\n        isMobile,\n        selectedView,\n      }).then((res: any) => {\n        setContext('headerLayout', res.headerPositions);\n        setContext('headerEventRowsCount', res.headerOffsetTop);\n        setContext('daysViewLayout', res.normalPositions);\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n        const days: any = renderOneDay(\n          store.calendarDays,\n          res.normalPositions,\n          store.layoutUpdateSequence + 1\n        );\n\n        setCalendarContent(days);\n      });\n    }\n  }, [config.hourHeight]);\n\n  useLayoutEffect(() => {\n    if (!hasExternalLayout) {\n      KalendLayout({\n        events,\n        width,\n        height,\n        calendarDays,\n        config: store.config,\n        isMobile,\n        selectedView,\n      }).then((res: any) => {\n        setContext('headerLayout', res.headerPositions);\n        setContext('headerEventRowsCount', res.headerOffsetTop);\n        setContext('daysViewLayout', res.normalPositions);\n        setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n        const days: any = renderOneDay(\n          store.calendarDays,\n          res.normalPositions,\n          store.layoutUpdateSequence + 1\n        );\n        setCalendarContent(days);\n      });\n    }\n    setWasInit(true);\n  }, []);\n\n  useLayoutEffect(() => {\n    if (\n      hasExternalLayout &&\n      getSelectedViewType(props.eventLayouts.selectedView) ===\n        CALENDAR_VIEW.WEEK\n    ) {\n      setContext('headerLayout', props.eventLayouts.headerPositions);\n      setContext('headerEventRowsCount', props.eventLayouts.headerOffsetTop);\n      setContext('daysViewLayout', props.eventLayouts.normalPositions);\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n      const days: any = renderOneDay(\n        store.calendarDays,\n        props.eventLayouts.normalPositions,\n        store.layoutUpdateSequence + 1\n      );\n      setCalendarContent(days);\n    }\n  }, [props.eventLayouts, JSON.stringify(props.eventLayouts)]);\n\n  return (\n    <div\n      style={style}\n      className={'Kalend__CalendarBody'}\n      id={`Kalend__timetable`}\n      // onScroll={handleScroll}\n    >\n      <CalendarBodyHours />\n      <DaysViewVerticalLines />\n      {calendarContent}\n    </div>\n  );\n};\n\nexport default DaysViewTable;\n","import {\n  CALENDAR_OFFSET_LEFT,\n  EVENT_TABLE_DELIMITER_SPACE,\n} from '../../../common/constants';\nimport { CalendarEvent, NormalEventPosition } from '../../../common/interface';\nimport { DateTime } from 'luxon';\nimport {\n  checkOverlappingDatesForHeaderEvents,\n  checkOverlappingEvents,\n  isEventInRange,\n} from '../../../utils/eventLayout';\nimport { isAllDayEvent } from '../../../utils/common';\nimport { parseToDateTime } from '../../../utils/dateTimeParser';\n\n// adjust start and end date for header event to full day for correct layout\n// calculations\nexport const stretchHeaderEventTimes = (\n  event: CalendarEvent,\n  timezone: string\n): CalendarEvent => {\n  return {\n    ...event,\n    startAt: parseToDateTime(event.startAt, event.timezoneStartAt || timezone)\n      .set({ hour: 0, minute: 0, second: 1 })\n      .toString(),\n    endAt: parseToDateTime(event.endAt, event.timezoneStartAt || timezone)\n      .set({ hour: 23, minute: 59, second: 59 })\n      .toString(),\n  };\n};\n\n// TODO remove if working without correction\n// /**\n//  * Find first matching calendarDay for allDay event\n//  * Solves problem when layout is wrongly calculated from start and end dates\n//  * which are outside of calendarDays range\n//  * @param event\n//  * @param calendarDays\n//  * @param timezone\n//  */\n// const parseToFirstMatchingCalendarDay = (\n//   event: CalendarEvent,\n//   calendarDays: DateTime[],\n//   timezone: string\n// ): CalendarEvent => {\n//   const eventClone: CalendarEvent = { ...event };\n//   const eventStartDateTime: DateTime = parseToDateTime(\n//     event.startAt,\n//     event.timezoneStartAt || timezone\n//   );\n//   let matchingStartDate: DateTime | undefined;\n//\n//   // find matching date\n//   calendarDays.forEach((calendarDay) => {\n//     if (!matchingStartDate) {\n//       if (LuxonHelper.isSameDay(calendarDay, eventStartDateTime)) {\n//         matchingStartDate = calendarDay;\n//       }\n//     }\n//   });\n//\n//   if (matchingStartDate) {\n//     // adjust date for calculations only\n//     eventClone.startAt = matchingStartDate\n//       .set({\n//         hour: eventStartDateTime.hour,\n//         minute: eventStartDateTime.minute,\n//       })\n//       .toUTC()\n//       .toString();\n//   }\n//\n//   return eventClone;\n// };\n\nexport const calculatePositionForHeaderEvents = (\n  events: any,\n  width: number,\n  calendarDays: DateTime[],\n  timezone: string,\n  setContext?: any\n): any => {\n  // TODO prefilter only relevant events\n  // TODO remove used events from main array\n  // const formattedDayString: string = formatTimestampToDate(day);\n  //\n  // const dataForDay: any = events ? events[formattedDayString] : [];\n  //\n  // const headerEvents: any = renderEvents(calendarBodyWidth, dataForDay);\n  //\n  // compare each event and find those which can be placed next to each\n  // other and are not overlapping\n  // form them to row\n\n  const tableSpace: number =\n    ((width + CALENDAR_OFFSET_LEFT) / 100) * EVENT_TABLE_DELIMITER_SPACE;\n  const result: any = [];\n  const usedEvents: string[] = [];\n\n  // filter only header events\n  const headerEventsFiltered: CalendarEvent[] = [];\n\n  if (!events) {\n    return [[]];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Object.entries(events)?.map(([key, items]) => {\n    // @ts-ignore\n    items.forEach((item: CalendarEvent) => {\n      // filter only relevant events\n      if (item.allDay || isAllDayEvent(item)) {\n        const isInRange: boolean = isEventInRange(item, calendarDays, timezone);\n        if (isInRange) {\n          // correct position when external event ends in next day\n          headerEventsFiltered.push(item);\n        }\n      }\n    });\n  });\n\n  // find all matching events to fit in one row\n  headerEventsFiltered?.forEach((event) => {\n    const eventPositionResult: NormalEventPosition[] = [];\n    // check if event was used already\n    // skip iteration if event was already resolved\n    if (usedEvents.includes(event.id)) {\n      return true;\n    }\n\n    // set event to row\n    const rowWithNotOverlappingEvents: CalendarEvent[] = [event];\n    usedEvents.push(event.id);\n\n    // compare to rest of the events\n    headerEventsFiltered.forEach((eventToCompare) => {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) {\n        return true;\n      }\n\n      // don't compare to self // maybe remove?\n      if (event.id === eventToCompare.id) {\n        return true;\n      }\n\n      // check if events are not overlapping\n      const isOverlapping: boolean = checkOverlappingEvents(\n        stretchHeaderEventTimes(event, timezone),\n        stretchHeaderEventTimes(eventToCompare, timezone),\n        timezone\n      );\n\n      // found not overlapping matching event\n      if (!isOverlapping) {\n        let isMatchingAll = true;\n        // compare match with other stored events for same row\n        rowWithNotOverlappingEvents.forEach((itemFromRow) => {\n          const isOverlappingAll: boolean = checkOverlappingEvents(\n            stretchHeaderEventTimes(itemFromRow, timezone),\n            stretchHeaderEventTimes(eventToCompare, timezone),\n            timezone\n          );\n\n          // prevent merging if only one conflict exists\n          if (isOverlappingAll) {\n            isMatchingAll = false;\n          }\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    });\n\n    // now we have row with only not overlapping events\n    // sort events in row by start date\n    const sortedResult: CalendarEvent[] = rowWithNotOverlappingEvents.sort(\n      (a, b) =>\n        DateTime.fromISO(a.startAt).toMillis() -\n        DateTime.fromISO(b.startAt).toMillis()\n    );\n\n    // place events accordingly in row next to each other\n    sortedResult.forEach((item) => {\n      let offset = 0;\n      let eventWidth = 0;\n      let hasMatchingDay = false;\n\n      calendarDays.forEach((day) => {\n        if (checkOverlappingDatesForHeaderEvents(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        }\n\n        // increment offset only till we have matching day\n        if (!hasMatchingDay) {\n          offset += width;\n        }\n      });\n\n      // create event position data\n      const eventPositionData: NormalEventPosition = {\n        event: item,\n        width: Math.round(eventWidth - tableSpace),\n        offsetLeft: offset + CALENDAR_OFFSET_LEFT,\n        offsetTop: 0,\n        height: 20,\n        zIndex: 2,\n      };\n\n      eventPositionResult.push(eventPositionData);\n    });\n\n    // save row to result\n    result.push(eventPositionResult);\n  });\n\n  const formattedResult: any = {};\n\n  result.forEach((events: any, index: number) => {\n    events.forEach((item: any) => {\n      formattedResult[item.event.id] = { ...item, offsetTop: index * 26 };\n    });\n  });\n\n  if (setContext) {\n    setContext('headerEventRowsCount', result.length);\n  }\n\n  return formattedResult;\n};\n","import {\n  CalendarEvent,\n  Config,\n  EventLayout,\n  NormalEventPosition,\n} from '../../../common/interface';\nimport { DateTime } from 'luxon';\nimport { EVENT_TABLE_DELIMITER_SPACE } from '../../../common/constants';\nimport {\n  checkOverlappingDatesForHeaderEvents,\n  checkOverlappingEvents,\n  isEventInRange,\n} from '../../../utils/eventLayout';\nimport { formatDateTimeToString } from '../../../utils/common';\nimport { parseToDateTime } from '../../../utils/dateTimeParser';\nimport { stretchHeaderEventTimes } from '../../calendarHeader/calendarHeaderEvents/CalendarHeaderEvents.utils';\n\nconst formatOverflowingEvents = (events: CalendarEvent[], timezone: string) => {\n  const result: any = {};\n\n  if (!events || events.length === 0) {\n    return null;\n  }\n\n  events.forEach((event) => {\n    const dateTimeStartAt = parseToDateTime(\n      event.startAt,\n      event.timezoneStartAt || timezone\n    );\n    const dateTimeEndAt = parseToDateTime(\n      event.endAt,\n      event.timezoneStartAt || timezone\n    );\n\n    // get each day for multi day events\n    // @ts-ignore\n    const differenceInDays: number = dateTimeEndAt.diff(dateTimeStartAt).days;\n\n    for (let i = 0; i <= differenceInDays; i++) {\n      const dateKey = formatDateTimeToString(dateTimeStartAt.plus({ days: i }));\n\n      if (!result[dateKey]) {\n        result[dateKey] = [event];\n      } else {\n        result[dateKey] = [...result[dateKey], ...[event]];\n      }\n    }\n  });\n\n  return result;\n};\n\nexport const getMonthRows = (calendarDays: DateTime[]): DateTime[][] => {\n  const calendarDaysRows: DateTime[][] = [];\n\n  let tempArray: DateTime[] = [];\n\n  calendarDays.forEach((item, i) => {\n    const index = i + 1;\n    if (index % 7 === 0) {\n      tempArray.push(item);\n      calendarDaysRows.push(tempArray);\n      tempArray = [];\n    } else {\n      tempArray.push(item);\n    }\n  });\n\n  return calendarDaysRows;\n};\n\nexport const sortByLength = (events: CalendarEvent[]) => {\n  return events.sort((a, b) => {\n    const diffA: number =\n      DateTime.fromISO(a.endAt).toMillis() -\n      DateTime.fromISO(a.startAt).toMillis();\n    const diffB: number =\n      DateTime.fromISO(b.endAt).toMillis() -\n      DateTime.fromISO(b.startAt).toMillis();\n\n    if (diffB > diffA) {\n      return 1;\n    } else if (diffB < diffA) {\n      return -1;\n    }\n\n    return 0;\n  });\n};\n\ninterface MonthRowResult {\n  positions: any;\n  overflowingEvents: CalendarEvent[];\n}\n\nconst getMonthRowPosition = (\n  events: any,\n  width: number,\n  calendarDays: DateTime[],\n  timezone: string,\n  maxEventsVisible: number\n): MonthRowResult => {\n  const overflowEvents: CalendarEvent[] = [];\n  const tableSpace: number = (width / 100) * EVENT_TABLE_DELIMITER_SPACE;\n  const result: any = [];\n  const usedEvents: string[] = [];\n\n  // filter only header events\n  const eventsFiltered: CalendarEvent[] = [];\n\n  if (!events) {\n    return { positions: [], overflowingEvents: [] };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Object.entries(events)?.map(([key, items]) => {\n    // @ts-ignore\n    items.forEach((item: CalendarEvent) => {\n      // filter only relevant events\n      const isInRange: boolean = isEventInRange(item, calendarDays, timezone);\n      if (isInRange) {\n        // correct position when external event ends in next day\n        eventsFiltered.push(item);\n      }\n    });\n  });\n\n  // sort by length to fit more items in limited space\n  const sortedByLength = sortByLength(eventsFiltered);\n\n  // find all matching events to fit in one row\n  sortedByLength?.forEach((event) => {\n    const eventPositionResult: NormalEventPosition[] = [];\n    // check if event was used already\n    // skip iteration if event was already resolved\n    if (usedEvents.includes(event.id)) {\n      return true;\n    }\n\n    // set event to row\n    const rowWithNotOverlappingEvents: CalendarEvent[] = [event];\n    usedEvents.push(event.id);\n\n    // compare to rest of the events\n    sortedByLength.forEach((eventToCompare) => {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) {\n        return true;\n      }\n\n      // don't compare to self // maybe remove?\n      if (event.id === eventToCompare.id) {\n        return true;\n      }\n\n      // check if events are not overlapping\n      const isOverlapping: boolean = checkOverlappingEvents(\n        stretchHeaderEventTimes(event, timezone),\n        stretchHeaderEventTimes(eventToCompare, timezone),\n        timezone\n      );\n\n      // found not overlapping matching event\n      if (!isOverlapping) {\n        let isMatchingAll = true;\n        // compare match with other stored events for same row\n        rowWithNotOverlappingEvents.forEach((itemFromRow) => {\n          const isOverlappingAll: boolean = checkOverlappingEvents(\n            stretchHeaderEventTimes(itemFromRow, timezone),\n            stretchHeaderEventTimes(eventToCompare, timezone),\n            timezone\n          );\n\n          // prevent merging if only one conflict exists\n          if (isOverlappingAll) {\n            isMatchingAll = false;\n          }\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    });\n\n    // now we have row with only not overlapping events\n    // sort events in row by duration to fit more events in row\n    // const sortedResult: CalendarEvent[] = rowWithNotOverlappingEvents.sort(\n    //   (a, b) =>\n    //     DateTime.fromISO(a.endAt).toMillis() -\n    //     DateTime.fromISO(a.startAt).toMillis() -\n    //     (DateTime.fromISO(b.endAt).toMillis() -\n    //       DateTime.fromISO(b.startAt).toMillis())\n    // );\n\n    // const sortedResult = sortByLength(rowWithNotOverlappingEvents);\n\n    // place events accordingly in row next to each other\n    rowWithNotOverlappingEvents.forEach((item) => {\n      let offset = 0;\n      let eventWidth = 0;\n      let hasMatchingDay = false;\n\n      calendarDays.forEach((day) => {\n        if (checkOverlappingDatesForHeaderEvents(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        }\n\n        // increment offset only till we have matching day\n        if (!hasMatchingDay) {\n          offset += width;\n        }\n      });\n\n      const isOverflowing: boolean = result.length > maxEventsVisible;\n      if (!isOverflowing) {\n        // create event position data\n        const eventPositionData: NormalEventPosition = {\n          event: item,\n          width: Math.round(eventWidth - tableSpace),\n          offsetLeft: offset,\n          offsetTop: 0,\n          height: 20,\n          zIndex: 2,\n        };\n\n        eventPositionResult.push(eventPositionData);\n      } else {\n        overflowEvents.push(item);\n      }\n    });\n\n    // save row to result\n    result.push(eventPositionResult);\n  });\n\n  const formattedResult: any = {};\n\n  result.forEach((events: any, index: number) => {\n    events.forEach((item: any) => {\n      formattedResult[item.event.id] = { ...item, offsetTop: index * 25 };\n    });\n  });\n\n  return { positions: formattedResult, overflowingEvents: overflowEvents };\n};\n\nexport const calculateMonthPositions = (\n  events: any,\n  width: number,\n  calendarDays: DateTime[],\n  config: Config,\n  maxEventsVisible: number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setContext?: any\n): any => {\n  const result: EventLayout[] = [];\n  let overflowingEvents: any = [];\n\n  // TODO prefilter events for each row\n\n  // split calendar days to rows\n  const calendarDaysRows: DateTime[][] = getMonthRows(calendarDays);\n\n  // get layout for each row\n  calendarDaysRows.forEach((row) => {\n    const rowResult: MonthRowResult = getMonthRowPosition(\n      events,\n      width / 7,\n      row,\n      config.timezone,\n      maxEventsVisible\n    );\n\n    result.push(rowResult.positions);\n    overflowingEvents = [...overflowingEvents, ...rowResult.overflowingEvents];\n  });\n  //\n  // setContext(\n  //   'monthOverflowEvents',\n  //   formatOverflowingEvents(overflowingEvents, config.timezone)\n  // );\n\n  return {\n    result,\n    overflowingEvents: formatOverflowingEvents(\n      overflowingEvents,\n      config.timezone\n    ),\n  };\n};\n","import { Context } from '../../context/store';\nimport { parseCssDark } from '../../utils/common';\nimport { useContext, useLayoutEffect, useState } from 'react';\nimport ButtonBase from '../buttonBase/ButtonBase';\n\nconst Dropdown = (props: any) => {\n  const [store] = useContext(Context);\n\n  const { translations, height } = store;\n\n  const [isVisible, setVisible] = useState(false);\n  const [layout, setLayout] = useState<any>({ x: null, y: null });\n\n  const handleClick = (e: any) => {\n    const { x, y } = e.nativeEvent;\n\n    setLayout({ x, y });\n    setVisible(true);\n  };\n\n  const getStyle = () => {\n    if (layout.x) {\n      return {\n        left: layout.x,\n        top: layout.y,\n        maxWidth: 300,\n        maxHeight: height - 24,\n        minWidth: 120,\n        height: 'auto',\n        overflowX: 'hidden',\n        overflowY: 'auto',\n      };\n    }\n  };\n\n  // Correct layout\n  useLayoutEffect(() => {\n    if (isVisible) {\n      const element: any = document.getElementById(\n        'Kalend__Dropdown__container'\n      );\n      if (element) {\n        let newX = layout.x;\n        let newY = layout.y;\n\n        if (element.offsetHeight + layout.y > window.innerHeight) {\n          newY = layout.y - element.offsetHeight;\n        }\n        if (element.offsetWidth + layout.x > window.innerWidth) {\n          newX = layout.x - element.offsetWidth;\n        }\n\n        setLayout({\n          x: newX,\n          y: newY,\n        });\n      }\n    }\n  }, [\n    isVisible,\n    document.getElementsByClassName('Kalend__Dropdown__container'),\n  ]);\n\n  const style: any = getStyle();\n\n  return (\n    <>\n      <ButtonBase\n        className={parseCssDark('Kalend__Monthview_Event', store.isDark)}\n        style={{\n          width: props.width,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: 20,\n        }}\n        onClick={handleClick}\n        isDark={store.isDark}\n      >\n        <p\n          className={parseCssDark('Kalend__text', !store.isDark)}\n          style={{ fontSize: 11 }}\n        >\n          {translations['buttons']['showMore']}\n        </p>\n      </ButtonBase>\n      {isVisible ? (\n        <div\n          className={'Kalend__Dropdown__backdrop'}\n          onClick={() => setVisible(false)}\n        >\n          <div\n            className={parseCssDark(\n              'Kalend__Dropdown__container',\n              store.isDark\n            )}\n            id=\"Kalend__Dropdown__container\"\n            style={style}\n          >\n            {props.children}\n          </div>\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nexport default Dropdown;\n","import { CalendarEvent } from '../../../common/interface';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { MonthViewButtonMoreProps } from './MonthViewButtonMore.props';\nimport { formatDateTimeToString, parseCssDark } from '../../../utils/common';\nimport { useContext } from 'react';\nimport Dropdown from '../../dropdown/Dropdown';\nimport EventButton from '../../eventButton/EventButton';\n\nconst MonthViewButtonMore = (props: MonthViewButtonMoreProps) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { width, monthOverflowEvents } = store;\n\n  const { calendarDays } = props;\n\n  const colWidth: number = width / 7;\n\n  const handleClick = (day: DateTime, events: CalendarEvent[]) => {\n    setContext('showMoreEvents', { day, events });\n  };\n\n  const renderShowMoreButtons = () => {\n    if (!monthOverflowEvents || !calendarDays || calendarDays.length === 0) {\n      return [];\n    }\n\n    return calendarDays.map((calendarDay: DateTime) => {\n      const dateKey: string = formatDateTimeToString(calendarDay);\n      const events: CalendarEvent[] | undefined = monthOverflowEvents[dateKey];\n\n      if (events) {\n        return (\n          <Dropdown\n            onClick={() => handleClick(calendarDay, events)}\n            width={colWidth}\n            key={calendarDay.toString()}\n            day={calendarDay}\n          >\n            <>\n              <h6\n                className={parseCssDark(\n                  'Kalend__MonthView_more_title',\n                  store.isDark\n                )}\n              >\n                {calendarDay.toFormat('dd. MMM')}\n              </h6>\n              {/*// @ts-ignore*/}\n              {events?.map((event: any) => {\n                return (\n                  <EventButton\n                    key={`${event.id}${\n                      event.internalID ? event.internalID : ''\n                    }`}\n                    item={{ event }}\n                    type={EVENT_TYPE.SHOW_MORE_MONTH}\n                  />\n                );\n              })}\n            </>\n          </Dropdown>\n        );\n      } else {\n        return (\n          <div\n            key={calendarDay.toString()}\n            style={{ width: colWidth, visibility: 'hidden' }}\n          />\n        );\n      }\n    });\n  };\n\n  const showMoreButtons: any = renderShowMoreButtons();\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        position: 'absolute',\n        bottom: 1,\n        left: 0,\n      }}\n    >\n      {showMoreButtons}\n      {/*{showMoreEvents ? <ShowMoreModal /> : null}*/}\n    </div>\n  );\n};\n\nexport default MonthViewButtonMore;\n","import { Context } from '../../../context/store';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { MonthWeekRowProps } from './MonthWeekRow.props';\nimport { parseCssDark } from '../../../utils/common';\nimport { useContext } from 'react';\nimport CalendarHeaderDates from '../../calendarHeader/components/calendarHeaderDates/CalendarHeaderDates';\nimport EventButton from '../../eventButton/EventButton';\nimport MonthViewButtonMore from '../monthViewButtonMore/MonthViewButtonMore';\n\nconst MonthWeekRow = (props: MonthWeekRowProps) => {\n  const { days, index, itemRows } = props;\n\n  const [store] = useContext(Context);\n  const { monthLayout } = store;\n\n  const renderEvents = (data: any, i: number) => {\n    if (!data || !data?.[i]) {\n      return [];\n    }\n    return itemRows.map((item: any) => {\n      return (\n        <EventButton\n          key={`${item.event.id}${\n            item.event.internalID ? item.event.internalID : ''\n          }`}\n          item={{ ...item }}\n          meta={item.meta}\n          type={EVENT_TYPE.MONTH}\n          index={i}\n        />\n      );\n    });\n  };\n\n  const events: any = renderEvents(monthLayout, index);\n\n  // const style: { maxHeight: number } = { maxHeight: height / 6 - 30 };\n\n  return (\n    <div\n      className={`${parseCssDark(\n        'Kalend__MonthWeekRow__container',\n        store.isDark\n      )} ${index > 4 ? '--no-border' : ''}`}\n    >\n      <div className={'Kalend__MonthWeekRow__day'}>\n        <CalendarHeaderDates\n          calendarDays={days}\n          daysNum={7}\n          setViewChanged={props.setViewChanged}\n        />\n      </div>\n      <div className={'Kalend__MonthWeekRow__container-events'}>{events}</div>\n      <MonthViewButtonMore calendarDays={days} />\n    </div>\n  );\n};\n\nexport default MonthWeekRow;\n","import { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\n\nimport { CALENDAR_VIEW } from '../../common/enums';\nimport { MonthViewProps } from './MonthView.props';\nimport { getMonthRows } from './monthWeekRow/MonthWeekRow.utils';\nimport { getSelectedViewType } from '../../utils/common';\nimport { useContext, useEffect, useState } from 'react';\nimport DaysViewVerticalLines from '../daysViewTable/daysViewVerticalLines/DaysViewVerticalLines';\nimport KalendLayout from 'kalend-layout';\nimport MonthWeekRow from './monthWeekRow/MonthWeekRow';\n\nconst renderOneRow = (\n  days: DateTime[],\n  eventRows: any,\n  sequence: number,\n  setViewChanged: any\n) => {\n  const rows: DateTime[][] = getMonthRows(days);\n\n  return rows.map((row: DateTime[], index: number) => {\n    return (\n      <MonthWeekRow\n        key={row[0].toString() + sequence}\n        days={row}\n        index={index}\n        itemRows={eventRows ? eventRows[index] : []}\n        sequence={sequence}\n        setViewChanged={setViewChanged}\n      />\n    );\n  });\n};\n\nconst MonthView = (props: MonthViewProps) => {\n  const [wasInit, setWasInit] = useState(false);\n  const [calendarContent, setCalendarContent] = useState(null);\n\n  const { events } = props;\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { rawWidth, width, calendarDays, height, showWeekNumbers } = store;\n\n  const style: any = {\n    width: showWeekNumbers ? width : rawWidth,\n    height: '100%',\n  };\n\n  const hasExternalLayout = props.eventLayouts !== undefined;\n\n  useEffect(() => {\n    if (height !== 0) {\n      if (!hasExternalLayout) {\n        KalendLayout({\n          events,\n          width: showWeekNumbers ? width : rawWidth,\n          height,\n          calendarDays,\n          config: store.config,\n          selectedView: CALENDAR_VIEW.MONTH,\n        }).then((res: any) => {\n          setWasInit(true);\n          setContext('monthLayout', res.positions);\n          setContext('monthOverflowEvents', res.overflowingEvents);\n          setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n          const content: any = renderOneRow(\n            calendarDays,\n            res.positions,\n            store.layoutUpdateSequence,\n            props.setViewChanged\n          );\n          setCalendarContent(content);\n        });\n      }\n    }\n  }, [height, rawWidth]);\n\n  useEffect(() => {\n    if (wasInit && height !== 0) {\n      if (!hasExternalLayout) {\n        KalendLayout({\n          events,\n          width: showWeekNumbers ? width : rawWidth,\n          height,\n          calendarDays,\n          config: store.config,\n          selectedView: CALENDAR_VIEW.MONTH,\n        }).then((res: any) => {\n          setContext('monthLayout', res.positions);\n          setContext('monthOverflowEvents', res.overflowingEvents);\n          setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n          const content: any = renderOneRow(\n            calendarDays,\n            res.positions,\n            store.layoutUpdateSequence,\n            props.setViewChanged\n          );\n          setCalendarContent(content);\n        });\n      }\n    }\n  }, [calendarDays[0], JSON.stringify(events)]);\n\n  useEffect(() => {\n    if (\n      hasExternalLayout &&\n      getSelectedViewType(props.eventLayouts.selectedView) ===\n        CALENDAR_VIEW.MONTH\n    ) {\n      setContext('monthLayout', props.eventLayouts.positions);\n      setContext('monthOverflowEvents', props.eventLayouts.overflowingEvents);\n      setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n      const content: any = renderOneRow(\n        calendarDays,\n        props.eventLayouts.positions,\n        store.layoutUpdateSequence,\n        props.setViewChanged\n      );\n      setCalendarContent(content);\n    }\n  }, [JSON.stringify(props.eventLayouts)]);\n\n  return (\n    <div className={'Kalend__MonthView__container'} style={style}>\n      <DaysViewVerticalLines />\n      {/*{rows}*/}\n      {calendarContent}\n    </div>\n  );\n};\n\nexport default MonthView;\n","import { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { useContext } from 'react';\n\nconst renderCols = (calendarDays: DateTime[], translations: any) => {\n  return calendarDays.map((item, index) => {\n    if (index % 7 === 0 && index < 7 * 5) {\n      const weekNum = item.weekNumber;\n      return (\n        <div className={'Kalend__WeekNumbersCol__container'}>\n          <p className={'Kalend__WeekNumbersCol__text'}>\n            {translations['weekShort']}\n            {weekNum}\n          </p>\n        </div>\n      );\n    } else if (index % 7 === 0 && index >= 7 * 5) {\n      const weekNum = item.weekNumber;\n      return (\n        <div className={'Kalend__WeekNumbersCol__container--no-border'}>\n          <p className={'Kalend__WeekNumbersCol__text'}>\n            {translations['weekShort']}\n            {weekNum}\n          </p>\n        </div>\n      );\n    }\n  });\n};\n\nconst WeekNumbersCol = () => {\n  const [store] = useContext(Context);\n\n  const cols = renderCols(store.calendarDays, store.translations);\n  return <div className={'Kalend__WeekNumbersCol__wrapper'}>{cols}</div>;\n};\n\nexport default WeekNumbersCol;\n","import { CALENDAR_VIEW } from './common/enums';\nimport { CalendarProps } from './Calendar.props';\nimport { Context, Store } from './context/store';\nimport { DateTime } from 'luxon';\nimport { getCalendarDays, getRange } from './utils/calendarDays';\nimport { parseCssDark } from './utils/common';\nimport { useContext, useEffect, useLayoutEffect, useState } from 'react';\nimport AgendaView from './components/agendaView/AgendaView';\nimport CalendarDesktopNavigation from './components/CalendarDesktopNavigation/CalendarDesktopNavigation';\nimport CalendarHeader from './components/calendarHeader/CalendarHeader';\nimport CalendarTableLayoutLayer from './layers/CalendarTableLayoutLayer';\nimport DaysViewTable from './components/daysViewTable/DaysViewTable';\nimport MonthView from './components/monthView/MonthView';\nimport WeekNumbersCol from './components/weekNumbersCol/WeekNumbersCol';\n\nconst Calendar = (props: CalendarProps) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { selectedDate, calendarDays, selectedView, callbacks, config, width } =\n    store as Store;\n\n  const [prevView, setPrevView] = useState('');\n  const [viewChanged, setViewChanged] = useState<any>(null);\n\n  useEffect(() => {\n    const initialDate = props.initialDate\n      ? DateTime.fromISO(props.initialDate)\n      : DateTime.now();\n\n    setContext('selectedDate', initialDate);\n\n    if (selectedView) {\n      const calendarDaysInitial: DateTime[] = getCalendarDays(\n        selectedView,\n        initialDate,\n        config.weekDayStart\n      );\n\n      setContext('calendarDays', calendarDaysInitial);\n    }\n  }, []);\n\n  useEffect(() => {\n    const viewChangedValue = props.selectedView || viewChanged;\n    // if (props.selectedView && props.selectedView === selectedView) {\n    //   return;\n    // }\n    if (prevView === viewChangedValue) {\n      return;\n    }\n    // prevent infinit loop\n    if (!selectedView && callbacks.onSelectView) {\n      callbacks.onSelectView(viewChangedValue);\n      return;\n    }\n    if (!viewChangedValue) {\n      return;\n    }\n\n    setContext('calendarDays', calendarDays[0]);\n    setContext('selectedView', viewChangedValue);\n\n    // use either passed value or internal state\n    const setSelectedDate = (date: DateTime) => {\n      setContext('selectedDate', date);\n    };\n\n    const calendarDaysNew: DateTime[] = getCalendarDays(\n      viewChangedValue,\n      selectedDate || props.initialDate || DateTime.now(),\n      config.weekDayStart,\n      setSelectedDate\n    );\n\n    setContext('calendarDays', calendarDaysNew);\n\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n    setPrevView(viewChangedValue);\n    setViewChanged(null);\n  }, [viewChanged, props.selectedView]);\n\n  useEffect(() => {\n    const selectedViewValue = props.selectedView || selectedView;\n\n    if (prevView === selectedViewValue) {\n      return;\n    }\n    if (selectedViewValue && selectedViewValue !== prevView) {\n      setContext('calendarDays', calendarDays[0]);\n      setContext('selectedView', selectedViewValue);\n      setPrevView(selectedViewValue);\n\n      const setSelectedDate = (date: DateTime) =>\n        setContext('selectedDate', date);\n\n      const calendarDaysNew: DateTime[] = getCalendarDays(\n        selectedViewValue,\n        selectedDate || props.initialDate || DateTime.now(),\n        config.weekDayStart,\n        setSelectedDate\n      );\n\n      setContext('calendarDays', calendarDaysNew);\n    }\n  }, [selectedView]);\n\n  useLayoutEffect(() => {\n    setContext('events', props.events);\n  }, [JSON.stringify(props.events)]);\n\n  useLayoutEffect(() => {\n    if (\n      callbacks.onPageChange &&\n      calendarDays &&\n      calendarDays[0] &&\n      calendarDays.length > 0\n    ) {\n      callbacks.onPageChange({\n        ...getRange(calendarDays),\n        direction: store.direction,\n      });\n    }\n  }, [\n    selectedView,\n    calendarDays?.[0],\n    calendarDays?.[calendarDays?.length - 1],\n  ]);\n\n  return selectedView && calendarDays?.length > 0 && selectedDate && width ? (\n    <>\n      <CalendarDesktopNavigation\n        setViewChanged={setViewChanged}\n        kalendRef={props.kalendRef}\n      />\n      {selectedView !== CALENDAR_VIEW.AGENDA &&\n      selectedView !== CALENDAR_VIEW.MONTH ? (\n        <CalendarHeader setViewChanged={setViewChanged} />\n      ) : null}\n      {selectedView === CALENDAR_VIEW.MONTH ? (\n        <>\n          <CalendarHeader />\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              width: '100%',\n              height: '100%',\n            }}\n          >\n            {store.showWeekNumbers ? <WeekNumbersCol /> : null}\n            <div className={'Kalend__Calendar__table'}>\n              <div\n                className={parseCssDark(\n                  'Kalend__Calendar__table-surface',\n                  store.isDark\n                )}\n              >\n                <CalendarTableLayoutLayer>\n                  <MonthView\n                    events={props.events ? props.events : []}\n                    eventLayouts={props.eventLayouts}\n                    setViewChanged={setViewChanged}\n                  />\n                </CalendarTableLayoutLayer>\n              </div>\n            </div>\n          </div>\n        </>\n      ) : (\n        <div className={'Kalend__Calendar__table'}>\n          <div\n            className={parseCssDark(\n              'Kalend__Calendar__table-surface',\n              store.isDark\n            )}\n          >\n            <CalendarTableLayoutLayer>\n              {selectedView === CALENDAR_VIEW.DAY ||\n              selectedView === CALENDAR_VIEW.THREE_DAYS ||\n              selectedView === CALENDAR_VIEW.WEEK ? (\n                <DaysViewTable\n                  events={props.events ? props.events : []}\n                  eventLayouts={props.eventLayouts}\n                />\n              ) : null}\n\n              {selectedView === CALENDAR_VIEW.AGENDA ? (\n                <AgendaView\n                  events={props.events ? props.events : []}\n                  eventLayouts={props.eventLayouts}\n                />\n              ) : null}\n            </CalendarTableLayoutLayer>\n          </div>\n        </div>\n      )}\n    </>\n  ) : null;\n};\n\nexport default Calendar;\n","import { Context } from '../context/store';\nimport { getTableOffset } from '../utils/common';\nimport { useContext, useEffect } from 'react';\n\nconst DimensionsLayoutLayer = (props: { children: any }) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n  const { selectedView, headerEventRowsCount, showWeekNumbers } = store;\n\n  useEffect(() => {\n    const el = document?.querySelector('.Kalend__Calendar__root');\n\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entryRect = entries[0].contentRect;\n\n      const width = entryRect.width;\n\n      if (width < 750) {\n        setContext('isMobile', true);\n      } else {\n        setContext('isMobile', false);\n      }\n\n      setContext('rawWidth', entryRect.width);\n      setContext(\n        'width',\n        entryRect.width - getTableOffset(selectedView, showWeekNumbers)\n      );\n    });\n\n    resizeObserver.observe(el);\n  }, [document?.querySelector('.Kalend__Calendar__root'), selectedView]);\n\n  useEffect(() => {\n    const el = document?.querySelector('.Kalend__Calendar__root');\n\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entryRect = entries[0].contentRect;\n\n      const width = entryRect.width;\n\n      if (width < 750) {\n        setContext('isMobile', true);\n      } else {\n        setContext('isMobile', false);\n      }\n\n      setContext('rawWidth', entryRect.width);\n      setContext(\n        'width',\n        entryRect.width - getTableOffset(selectedView, showWeekNumbers)\n      );\n    });\n\n    resizeObserver.observe(el);\n  }, []);\n\n  useEffect(() => {\n    const el = document?.querySelector('.Kalend__Calendar__table');\n\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entryRect = entries[0].contentRect;\n\n      setContext('height', entryRect.height);\n    });\n\n    resizeObserver.observe(el);\n  }, [\n    document?.querySelector('.Kalend__Calendar__table'),\n    selectedView,\n    headerEventRowsCount,\n  ]);\n\n  useEffect(() => {\n    const el = document?.querySelector('.Kalend__Calendar__table');\n\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entryRect = entries[0].contentRect;\n\n      setContext('height', entryRect.height);\n    });\n\n    resizeObserver.observe(el);\n  }, []);\n\n  return props.children;\n};\n\nexport default DimensionsLayoutLayer;\n","{\n  \"buttons\": {\n    \"today\": \"Heute\",\n    \"agenda\": \"Agenda\",\n    \"day\": \"Tag\",\n    \"threeDays\": \"3 Tage\",\n    \"week\": \"Woche\",\n    \"month\": \"Monat\",\n    \"showMore\": \"Mehr\"\n  },\n  \"months\": {\n    \"january\": \"Januar\",\n    \"february\": \"Februar\",\n    \"march\": \"Mrz\",\n    \"april\": \"April\",\n    \"may\": \"Mai\",\n    \"june\": \"Juni\",\n    \"july\": \"Juli\",\n    \"august\": \"August\",\n    \"september\": \"September\",\n    \"october\": \"Oktober\",\n    \"november\": \"November\",\n    \"december\": \"Dezember\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Mo\",\n    \"Tue\": \"Di\",\n    \"Wed\": \"Mi\",\n    \"Thu\": \"Do\",\n    \"Fri\": \"Fr\",\n    \"Sat\": \"Sa\",\n    \"Sun\": \"So\"\n  },\n  \"weekShort\": \"W\"\n}\n","{\n  \"buttons\": {\n    \"today\": \"Hoy\",\n    \"agenda\": \"Diario\",\n    \"day\": \"Da\",\n    \"threeDays\": \"3 Das\",\n    \"week\": \"Semana\",\n    \"month\": \"Mes\",\n    \"showMore\": \"Ms\"\n  },\n  \"months\": {\n    \"january\": \"Enero\",\n    \"february\": \"Febrero\",\n    \"march\": \"Marzo\",\n    \"april\": \"Abril\",\n    \"may\": \"Mayo\",\n    \"june\": \"Junio\",\n    \"july\": \"Julio\",\n    \"august\": \"Agosto\",\n    \"september\": \"Septiembre\",\n    \"october\": \"Octubre\",\n    \"november\": \"Noviembre\",\n    \"december\": \"Diciembre\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Lun\",\n    \"Tue\": \"Mar\",\n    \"Wed\": \"Mi\",\n    \"Thu\": \"Jue\",\n    \"Fri\": \"Vie\",\n    \"Sat\": \"Sb\",\n    \"Sun\": \"Dom\"\n  },\n  \"weekShort\": \"S\"\n}\n","{\n  \"buttons\": {\n    \"today\": \"Aujourd\",\n    \"agenda\": \"Jour\",\n    \"day\": \"Journe\",\n    \"threeDays\": \"3 Jours\",\n    \"week\": \"Semaine\",\n    \"month\": \"Mois\",\n    \"showMore\": \"Plus\"\n  },\n  \"months\": {\n    \"january\": \"Janvier\",\n    \"february\": \"Fvrier\",\n    \"march\": \"Mars\",\n    \"april\": \"Avril\",\n    \"may\": \"Mai\",\n    \"june\": \"Juin\",\n    \"july\": \"Juillet\",\n    \"august\": \"Aot\",\n    \"september\": \"Septembre\",\n    \"october\": \"Octobre\",\n    \"november\": \"Novembre\",\n    \"december\": \"Dcembre\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Lun\",\n    \"Tue\": \"Mar\",\n    \"Wed\": \"Mer\",\n    \"Thu\": \"Jeu\",\n    \"Fri\": \"Ven\",\n    \"Sat\": \"Sam\",\n    \"Sun\": \"Dim\"\n  },\n  \"weekShort\": \"S\"\n}\n","{\n  \"buttons\": {\n    \"today\": \"Hoje\",\n    \"agenda\": \"Agenda\",\n    \"day\": \"Dia\",\n    \"threeDays\": \"3 Dias\",\n    \"week\": \"Semana\",\n    \"month\": \"Ms\",\n    \"showMore\": \"Mais\"\n  },\n  \"months\": {\n    \"january\": \"Janeiro\",\n    \"february\": \"Fevereiro\",\n    \"march\": \"Maro\",\n    \"april\": \"Abril\",\n    \"may\": \"Maio\",\n    \"june\": \"Junho\",\n    \"july\": \"Julho\",\n    \"august\": \"Agosto\",\n    \"september\": \"Setembro\",\n    \"october\": \"Outubro\",\n    \"november\": \"Novembro\",\n    \"december\": \"Dezembro\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Seg\",\n    \"Tue\": \"Ter\",\n    \"Wed\": \"Quar\",\n    \"Thu\": \"Qui\",\n    \"Fri\": \"Sex\",\n    \"Sat\": \"Sab\",\n    \"Sun\": \"Dom\"\n  },\n  \"weekShort\": \"S\"\n}\n","{\n    \"buttons\": {\n      \"today\": \"\",\n      \"agenda\": \"\",\n      \"day\": \"\",\n      \"threeDays\": \"3 \",\n      \"week\": \"\",\n      \"month\": \"\",\n      \"showMore\": \"...\"\n    },\n    \"months\": {\n      \"january\": \"\",\n      \"february\": \"\",\n      \"march\": \"\",\n      \"april\": \"\",\n      \"may\": \"\",\n      \"june\": \"\",\n      \"july\": \"\",\n      \"august\": \"\",\n      \"september\": \"\",\n      \"october\": \"\",\n      \"november\": \"\",\n      \"december\": \"\"\n    },\n    \"weekDays\": {\n      \"Mon\": \"\",\n      \"Tue\": \"\",\n      \"Wed\": \"\",\n      \"Thu\": \"\",\n      \"Fri\": \"\",\n      \"Sat\": \"\",\n      \"Sun\": \"\"\n    },\n  \"weekShort\": \"\"\n}\n","{\n  \"buttons\": {\n    \"today\": \"\",\n    \"agenda\": \"\",\n    \"day\": \"\",\n    \"threeDays\": \"3\",\n    \"week\": \"\",\n    \"month\": \"\",\n    \"showMore\": \"\"\n  },\n  \"months\": {\n    \"january\": \"\",\n    \"february\": \"\",\n    \"march\": \"\",\n    \"april\": \"\",\n    \"may\": \"\",\n    \"june\": \"\",\n    \"july\": \"\",\n    \"august\": \"\",\n    \"september\": \"\",\n    \"october\": \"\",\n    \"november\": \"\",\n    \"december\": \"\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"\",\n    \"Tue\": \"\",\n    \"Wed\": \"\",\n    \"Thu\": \"\",\n    \"Fri\": \"\",\n    \"Sat\": \"\",\n    \"Sun\": \"\"\n  },\n  \"weekShort\": \"\"\n}\n","import { Context } from '../context/store';\nimport { useContext, useEffect } from 'react';\nimport de from '../locales/de.json';\nimport en from '../locales/en.json';\nimport es from '../locales/es.json';\nimport fr from '../locales/fr.json';\nimport ptBR from '../locales/ptBR.json';\nimport ru from '../locales/ru.json';\nimport zh from '../locales/zh.json';\n\nconst getKnownLanguage = (language: string) => {\n  switch (language) {\n    case 'en':\n      return en;\n    case 'de':\n      return de;\n    case 'es':\n      return es;\n    case 'fr':\n      return fr;\n    case 'ptBR':\n      return ptBR;\n    case 'ru':\n      return ru;\n    case 'zh':\n      return zh;\n    default:\n      return 'en';\n  }\n};\n\nconst LanguageLayer = (props: {\n  children: any;\n  language?: string;\n  customLanguage?: any;\n}) => {\n  const { language, customLanguage } = props;\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { translations } = store;\n\n  useEffect(() => {\n    if (customLanguage) {\n      setContext('translations', customLanguage);\n    } else if (language) {\n      setContext('translations', getKnownLanguage(language));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (customLanguage) {\n      setContext('translations', customLanguage);\n    } else if (language) {\n      setContext('translations', getKnownLanguage(language));\n    }\n  }, [customLanguage, language]);\n\n  return translations ? props.children : null;\n};\n\nexport default LanguageLayer;\n","import { useEffect, useState } from 'react';\n\nconst RootLayoutLayer = (props: { children: any }) => {\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    const rootEl: any = document.querySelector('.Kalend__Calendar__root');\n\n    if (rootEl) {\n      setIsMounted(true);\n    }\n  }, [document.querySelector('.Kalend__Calendar__root')]);\n\n  return isMounted ? props.children : null;\n};\n\nexport default RootLayoutLayer;\n","import { CALENDAR_VIEW } from './common/enums';\nimport {\n  CalendarEvent,\n  Colors,\n  NewEventClickData,\n  OnEventClickFunc,\n  OnEventDragFinishFunc,\n  OnNewEventClickFunc,\n  OnPageChangeFunc,\n  OnSelectViewFunc,\n  PageChangeData,\n  ShowMoreMonthFunc,\n  Style,\n} from './common/interface';\nimport { useEffect } from 'react';\nimport { validateProps, validateStyle } from './utils/validator';\nimport Calendar from './Calendar';\nimport ConfigLayer from './layers/ConfigLayer';\nimport DimensionsLayoutLayer from './layers/DimensionsLayoutLayer';\nimport LanguageLayer from './layers/LanguageLayer';\nimport RootLayoutLayer from './layers/RootLayoutLayer';\nimport StoreProvider from './context/store';\n\nexport type { CALENDAR_VIEW };\nexport const CalendarView = CALENDAR_VIEW;\nexport type { CalendarEvent };\nexport type OnEventClickData = CalendarEvent;\nexport type OnNewEventClickData = NewEventClickData;\nexport type OnPageChangeData = PageChangeData;\nexport type OnSelectViewData = CALENDAR_VIEW;\nexport type ShowMoreMonthData = CalendarEvent[];\nexport type OnEventDragFinish = OnEventDragFinishFunc;\n\nexport interface KalendProps {\n  initialDate?: string;\n  initialView?: CALENDAR_VIEW;\n  selectedView?: CALENDAR_VIEW;\n  disabledViews?: CALENDAR_VIEW[];\n  events?: any;\n  isDark?: boolean;\n  hourHeight?: number;\n  onNewEventClick?: OnNewEventClickFunc;\n  onEventClick?: OnEventClickFunc;\n  onSelectView?: OnSelectViewFunc;\n  showMoreMonth?: ShowMoreMonthFunc;\n  onPageChange?: OnPageChangeFunc;\n  onEventDragFinish?: OnEventDragFinishFunc;\n  draggingDisabledConditions?: { [key: string]: boolean | string | number };\n  isNewEventOpen?: boolean;\n  onStateChange?: any;\n  disableMobileDropdown?: boolean;\n  timezone?: string;\n  weekDayStart?: string;\n  timeFormat?: string;\n  calendarIDsHidden?: string[];\n  children?: any;\n  language?: string;\n  customLanguage?: any;\n  eventLayouts?: any;\n  kalendRef?: any;\n  style?: Style;\n  focusHour?: number;\n  showTimeLine?: boolean;\n  showWeekNumbers?: boolean;\n  colors?: Colors;\n  autoScroll?: boolean;\n}\n\n// use any as JSX was causing errors for some cases\nconst Kalend = (props: KalendProps): any => {\n  // basic validation\n  useEffect(() => {\n    validateProps(props);\n    validateStyle();\n  }, []);\n\n  return (\n    <div className={'Kalend__Calendar__root Kalend__main'}>\n      <StoreProvider {...props}>\n        <LanguageLayer\n          language={props.language || 'en'}\n          customLanguage={props.customLanguage}\n        >\n          <RootLayoutLayer>\n            <ConfigLayer {...props}>\n              <DimensionsLayoutLayer>\n                <Calendar\n                  kalendRef={props.kalendRef}\n                  events={props.events}\n                  eventLayouts={props.eventLayouts}\n                  selectedView={props.selectedView}\n                  initialDate={props.initialDate}\n                />\n              </DimensionsLayoutLayer>\n            </ConfigLayer>\n          </RootLayoutLayer>\n        </LanguageLayer>\n      </StoreProvider>\n    </div>\n  );\n};\n\nexport default Kalend;\n"]},"metadata":{},"sourceType":"script"}