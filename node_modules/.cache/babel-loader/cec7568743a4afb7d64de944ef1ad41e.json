{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deval\\\\Desktop\\\\JSX\\\\calendar2.0\\\\src\\\\components\\\\calendar\\\\Testa.jsx\";\n\n/* Based on https://www.codementor.io/chrisharrington/building-a-calendar-using-react-js--less-css-and-font-awesome-du107z6nt */\n\n/* similar solution https://codepen.io/nickjvm/pen/bERraX */\n\n/* https://dribbble.com/shots/2335073-Calendar-App-Animation */\n\n/* https://stackoverflow.com/questions/16469548/overflowhidden-not-working-with-translation-in-positive-direction */\nimport React, { useContext, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\n\nclass Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedMonth: moment(),\n      selectedDay: moment().startOf(\"day\"),\n      selectedMonthEvents: [],\n      showEvents: false\n    };\n    this.previous = this.previous.bind(this);\n    this.next = this.next.bind(this);\n    this.addEvent = this.addEvent.bind(this);\n    this.showCalendar = this.showCalendar.bind(this);\n    this.goToCurrentMonthView = this.goToCurrentMonthView.bind(this);\n    this.initialiseEvents();\n  }\n\n  previous() {\n    const currentMonthView = this.state.selectedMonth;\n    this.setState({\n      selectedMonth: currentMonthView.subtract(1, \"month\")\n    });\n  }\n\n  next() {\n    const currentMonthView = this.state.selectedMonth;\n    this.setState({\n      selectedMonth: currentMonthView.add(1, \"month\")\n    });\n  }\n\n  select(day) {\n    this.setState({\n      selectedMonth: day.date,\n      selectedDay: day.date.clone(),\n      showEvents: true\n    });\n  }\n\n  goToCurrentMonthView() {\n    const currentMonthView = this.state.selectedMonth;\n    this.setState({\n      selectedMonth: moment()\n    });\n  }\n\n  showCalendar() {\n    this.setState({\n      selectedMonth: this.state.selectedMonth,\n      selectedDay: this.state.selectedDay,\n      showEvents: false\n    });\n  }\n\n  renderMonthLabel() {\n    const currentMonthView = this.state.selectedMonth;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"box month-label\",\n      children: currentMonthView.format(\"MMMM YYYY\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n\n  renderDayLabel() {\n    const currentSelectedDay = this.state.selectedDay;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"box month-label\",\n      children: currentSelectedDay.format(\"DD MMMM YYYY\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n  renderTodayLabel() {\n    const currentSelectedDay = this.state.selectedDay;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"box today-label\",\n      onClick: this.goToCurrentMonthView,\n      children: \"Today\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n\n  renderWeeks() {\n    const currentMonthView = this.state.selectedMonth;\n    const currentSelectedDay = this.state.selectedDay;\n    const monthEvents = this.state.selectedMonthEvents;\n    let weeks = [];\n    let done = false;\n    let previousCurrentNextView = currentMonthView.clone().startOf(\"month\").subtract(1, \"d\").day(\"Monday\");\n    let count = 0;\n    let monthIndex = previousCurrentNextView.month();\n\n    while (!done) {\n      weeks.push( /*#__PURE__*/_jsxDEV(Week, {\n        previousCurrentNextView: previousCurrentNextView.clone(),\n        currentMonthView: currentMonthView,\n        monthEvents: monthEvents,\n        selected: currentSelectedDay,\n        select: day => this.select(day)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this));\n      previousCurrentNextView.add(1, \"w\");\n      done = count++ > 2 && monthIndex !== previousCurrentNextView.month();\n      monthIndex = previousCurrentNextView.month();\n    }\n\n    return weeks;\n  }\n\n  handleAdd() {\n    const monthEvents = this.state.selectedMonthEvents;\n    const currentSelectedDate = this.state.selectedDay;\n    let newEvents = [];\n    var eventTitle = prompt(\"Please enter a name for your event: \");\n\n    switch (eventTitle) {\n      case \"\":\n        alert(\"Event name cannot be empty.\");\n        break;\n\n      case null:\n        alert(\"Changed your mind? You can add one later!\");\n        break;\n\n      default:\n        var newEvent = {\n          title: eventTitle,\n          date: currentSelectedDate,\n          dynamic: true\n        };\n        newEvents.push(newEvent);\n\n        for (var i = 0; i < newEvents.length; i++) {\n          monthEvents.push(newEvents[i]);\n        }\n\n        this.setState({\n          selectedMonthEvents: monthEvents\n        });\n        break;\n    }\n  }\n\n  addEvent() {\n    const currentSelectedDate = this.state.selectedDay;\n    let isAfterDay = moment().startOf(\"day\").subtract(1, \"d\");\n\n    if (currentSelectedDate.isAfter(isAfterDay)) {\n      this.handleAdd();\n    } else {\n      if (confirm(\"Are you sure you want to add an event in the past?\")) {\n        this.handleAdd();\n      } else {} // end confirm past\n\n    } //end is in the past\n\n  }\n\n  removeEvent(i) {\n    const monthEvents = this.state.selectedMonthEvents.slice();\n    const currentSelectedDate = this.state.selectedDay;\n\n    if (confirm(\"Are you sure you want to remove this event?\")) {\n      let index = i;\n\n      if (index != -1) {\n        monthEvents.splice(index, 1);\n      } else {\n        alert(\"No events to remove on this day!\");\n      }\n\n      this.setState({\n        selectedMonthEvents: monthEvents\n      });\n    }\n  }\n\n  initialiseEvents() {\n    const monthEvents = this.state.selectedMonthEvents;\n    let allEvents = [];\n    var event1 = {\n      title: \"Press the Add button and enter a name for your event. P.S you can delete me by pressing me!\",\n      date: moment(),\n      dynamic: false\n    };\n    var event2 = {\n      title: \"Event 2 - Meeting\",\n      date: moment().startOf(\"day\").subtract(2, \"d\").add(2, \"h\"),\n      dynamic: false\n    };\n    var event3 = {\n      title: \"Event 3 - Cinema\",\n      date: moment().startOf(\"day\").subtract(7, \"d\").add(18, \"h\"),\n      dynamic: false\n    };\n    var event4 = {\n      title: \"Event 4 - Theater\",\n      date: moment().startOf(\"day\").subtract(16, \"d\").add(20, \"h\"),\n      dynamic: false\n    };\n    var event5 = {\n      title: \"Event 5 - Drinks\",\n      date: moment().startOf(\"day\").subtract(2, \"d\").add(12, \"h\"),\n      dynamic: false\n    };\n    var event6 = {\n      title: \"Event 6 - Diving\",\n      date: moment().startOf(\"day\").subtract(2, \"d\").add(13, \"h\"),\n      dynamic: false\n    };\n    var event7 = {\n      title: \"Event 7 - Tennis\",\n      date: moment().startOf(\"day\").subtract(2, \"d\").add(14, \"h\"),\n      dynamic: false\n    };\n    var event8 = {\n      title: \"Event 8 - Swimmming\",\n      date: moment().startOf(\"day\").subtract(2, \"d\").add(17, \"h\"),\n      dynamic: false\n    };\n    var event9 = {\n      title: \"Event 9 - Chilling\",\n      date: moment().startOf(\"day\").subtract(2, \"d\").add(16, \"h\"),\n      dynamic: false\n    };\n    var event10 = {\n      title: \"Hello World\",\n      date: moment().startOf(\"day\").add(5, \"h\"),\n      dynamic: false\n    };\n    allEvents.push(event1);\n    allEvents.push(event2);\n    allEvents.push(event3);\n    allEvents.push(event4);\n    allEvents.push(event5);\n    allEvents.push(event6);\n    allEvents.push(event7);\n    allEvents.push(event8);\n    allEvents.push(event9);\n    allEvents.push(event10);\n\n    for (var i = 0; i < allEvents.length; i++) {\n      monthEvents.push(allEvents[i]);\n    }\n\n    this.setState({\n      selectedMonthEvents: monthEvents\n    });\n  }\n\n  render() {\n    const currentMonthView = this.state.selectedMonth;\n    const currentSelectedDay = this.state.selectedDay;\n    const showEvents = this.state.showEvents;\n\n    if (showEvents) {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"main-calendar\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"calendar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row title-header\",\n            children: this.renderDayLabel()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row button-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"box arrow fa fa-angle-left\",\n              onClick: this.showCalendar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"box event-button fa fa-plus-square\",\n              onClick: this.addEvent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Events, {\n          selectedMonth: this.state.selectedMonth,\n          selectedDay: this.state.selectedDay,\n          selectedMonthEvents: this.state.selectedMonthEvents,\n          removeEvent: i => this.removeEvent(i)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"main-calendar\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"calendar-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row title-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"box arrow fa fa-angle-left\",\n              onClick: this.previous\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box header-text\",\n              children: [this.renderTodayLabel(), this.renderMonthLabel()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"box arrow fa fa-angle-right\",\n              onClick: this.next\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(DayNames, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"days-container\",\n          children: this.renderWeeks()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nclass Events extends React.Component {\n  render() {\n    const currentMonthView = this.props.selectedMonth;\n    const currentSelectedDay = this.props.selectedDay;\n    const monthEvents = this.props.selectedMonthEvents;\n    const removeEvent = this.props.removeEvent;\n    const monthEventsRendered = monthEvents.map((event, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"event-container\",\n        onClick: () => removeEvent(i),\n        children: [/*#__PURE__*/_jsxDEV(ReactCSSTransitionGroup, {\n          component: \"div\",\n          className: \"animated-time\",\n          transitionName: \"time\",\n          transitionAppear: true,\n          transitionAppearTimeout: 500,\n          transitionEnterTimeout: 500,\n          transitionLeaveTimeout: 500,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-time event-attribute\",\n            children: event.date.format(\"HH:mm\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ReactCSSTransitionGroup, {\n          component: \"div\",\n          className: \"animated-title\",\n          transitionName: \"title\",\n          transitionAppear: true,\n          transitionAppearTimeout: 500,\n          transitionEnterTimeout: 500,\n          transitionLeaveTimeout: 500,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-title event-attribute\",\n            children: event.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }, this)]\n      }, event.title, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }, this);\n    });\n    const dayEventsRendered = [];\n\n    for (var i = 0; i < monthEventsRendered.length; i++) {\n      if (monthEvents[i].date.isSame(currentSelectedDay, \"day\")) {\n        dayEventsRendered.push(monthEventsRendered[i]);\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"day-events\",\n      children: dayEventsRendered\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass DayNames extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row days-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"box day-name\",\n        children: \"Mon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"box day-name\",\n        children: \"Tue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"box day-name\",\n        children: \"Wed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"box day-name\",\n        children: \"Thu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"box day-name\",\n        children: \"Fri\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"box day-name\",\n        children: \"Sat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"box day-name\",\n        children: \"Sun\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Week extends React.Component {\n  render() {\n    let days = [];\n    let date = this.props.previousCurrentNextView;\n    let currentMonthView = this.props.currentMonthView;\n    let selected = this.props.selected;\n    let select = this.props.select;\n    let monthEvents = this.props.monthEvents;\n\n    for (var i = 0; i < 7; i++) {\n      var dayHasEvents = false;\n\n      for (var j = 0; j < monthEvents.length; j++) {\n        if (monthEvents[j].date.isSame(date, \"day\")) {\n          dayHasEvents = true;\n        }\n      }\n\n      let day = {\n        name: date.format(\"dd\").substring(0, 1),\n        number: date.date(),\n        isCurrentMonth: date.month() === currentMonthView.month(),\n        isToday: date.isSame(new Date(), \"day\"),\n        date: date,\n        hasEvents: dayHasEvents\n      };\n      days.push( /*#__PURE__*/_jsxDEV(Day, {\n        day: day,\n        selected: selected,\n        select: select\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 23\n      }, this));\n      date = date.clone();\n      date.add(1, \"d\");\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row week\",\n      children: days\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Day extends React.Component {\n  render() {\n    let day = this.props.day;\n    let selected = this.props.selected;\n    let select = this.props.select;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"day\" + (day.isToday ? \" today\" : \"\") + (day.isCurrentMonth ? \"\" : \" different-month\") + (day.date.isSame(selected) ? \" selected\" : \"\") + (day.hasEvents ? \" has-events\" : \"\"),\n      onClick: () => select(day),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"day-number\",\n        children: day.number\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(Calendar, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 475,\n  columnNumber: 17\n}, this), document.getElementById(\"calendar-content\"));","map":{"version":3,"sources":["C:/Users/deval/Desktop/JSX/calendar2.0/src/components/calendar/Testa.jsx"],"names":["React","useContext","useEffect","useState","ReactDOM","ReactCSSTransitionGroup","addons","CSSTransitionGroup","Calendar","Component","constructor","props","state","selectedMonth","moment","selectedDay","startOf","selectedMonthEvents","showEvents","previous","bind","next","addEvent","showCalendar","goToCurrentMonthView","initialiseEvents","currentMonthView","setState","subtract","add","select","day","date","clone","renderMonthLabel","format","renderDayLabel","currentSelectedDay","renderTodayLabel","renderWeeks","monthEvents","weeks","done","previousCurrentNextView","count","monthIndex","month","push","handleAdd","currentSelectedDate","newEvents","eventTitle","prompt","alert","newEvent","title","dynamic","i","length","isAfterDay","isAfter","confirm","removeEvent","slice","index","splice","allEvents","event1","event2","event3","event4","event5","event6","event7","event8","event9","event10","render","Events","monthEventsRendered","map","event","dayEventsRendered","isSame","DayNames","Week","days","selected","dayHasEvents","j","name","substring","number","isCurrentMonth","isToday","Date","hasEvents","Day","document","getElementById"],"mappings":"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","sourcesContent":["/* Based on https://www.codementor.io/chrisharrington/building-a-calendar-using-react-js--less-css-and-font-awesome-du107z6nt */\r\n/* similar solution https://codepen.io/nickjvm/pen/bERraX */\r\n/* https://dribbble.com/shots/2335073-Calendar-App-Animation */\r\n/* https://stackoverflow.com/questions/16469548/overflowhidden-not-working-with-translation-in-positive-direction */\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport ReactDOM from 'react-dom/client';\r\n\r\nconst ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\r\n\r\nclass Calendar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedMonth: moment(),\r\n            selectedDay: moment().startOf(\"day\"),\r\n            selectedMonthEvents: [],\r\n            showEvents: false\r\n        };\r\n\r\n        this.previous = this.previous.bind(this);\r\n        this.next = this.next.bind(this);\r\n        this.addEvent = this.addEvent.bind(this);\r\n        this.showCalendar = this.showCalendar.bind(this);\r\n        this.goToCurrentMonthView = this.goToCurrentMonthView.bind(this);\r\n\r\n        this.initialiseEvents();\r\n    }\r\n\r\n    previous() {\r\n        const currentMonthView = this.state.selectedMonth;\r\n\r\n        this.setState({\r\n            selectedMonth: currentMonthView.subtract(1, \"month\")\r\n        });\r\n    }\r\n\r\n    next() {\r\n        const currentMonthView = this.state.selectedMonth;\r\n        this.setState({\r\n            selectedMonth: currentMonthView.add(1, \"month\")\r\n        });\r\n    }\r\n\r\n    select(day) {\r\n        this.setState({\r\n            selectedMonth: day.date,\r\n            selectedDay: day.date.clone(),\r\n            showEvents: true\r\n        });\r\n    }\r\n\r\n    goToCurrentMonthView() {\r\n        const currentMonthView = this.state.selectedMonth;\r\n        this.setState({\r\n            selectedMonth: moment()\r\n        });\r\n    }\r\n\r\n    showCalendar() {\r\n        this.setState({\r\n            selectedMonth: this.state.selectedMonth,\r\n            selectedDay: this.state.selectedDay,\r\n            showEvents: false\r\n        });\r\n    }\r\n\r\n    renderMonthLabel() {\r\n        const currentMonthView = this.state.selectedMonth;\r\n        return (\r\n            <span className=\"box month-label\">\r\n                {currentMonthView.format(\"MMMM YYYY\")}\r\n            </span>\r\n        );\r\n    }\r\n\r\n    renderDayLabel() {\r\n        const currentSelectedDay = this.state.selectedDay;\r\n        return (\r\n            <span className=\"box month-label\">\r\n                {currentSelectedDay.format(\"DD MMMM YYYY\")}\r\n            </span>\r\n        );\r\n    }\r\n\r\n    renderTodayLabel() {\r\n        const currentSelectedDay = this.state.selectedDay;\r\n        return (\r\n            <span className=\"box today-label\" onClick={this.goToCurrentMonthView}>\r\n                Today\r\n            </span>\r\n        );\r\n    }\r\n\r\n    renderWeeks() {\r\n        const currentMonthView = this.state.selectedMonth;\r\n        const currentSelectedDay = this.state.selectedDay;\r\n        const monthEvents = this.state.selectedMonthEvents;\r\n\r\n        let weeks = [];\r\n        let done = false;\r\n        let previousCurrentNextView = currentMonthView\r\n            .clone()\r\n            .startOf(\"month\")\r\n            .subtract(1, \"d\")\r\n            .day(\"Monday\");\r\n        let count = 0;\r\n        let monthIndex = previousCurrentNextView.month();\r\n\r\n        while (!done) {\r\n            weeks.push(\r\n                <Week\r\n                    previousCurrentNextView={previousCurrentNextView.clone()}\r\n                    currentMonthView={currentMonthView}\r\n                    monthEvents={monthEvents}\r\n                    selected={currentSelectedDay}\r\n                    select={day => this.select(day)}\r\n                />\r\n            );\r\n            previousCurrentNextView.add(1, \"w\");\r\n            done = count++ > 2 && monthIndex !== previousCurrentNextView.month();\r\n            monthIndex = previousCurrentNextView.month();\r\n        }\r\n        return weeks;\r\n    }\r\n\r\n    handleAdd() {\r\n        const monthEvents = this.state.selectedMonthEvents;\r\n        const currentSelectedDate = this.state.selectedDay;\r\n\r\n        let newEvents = [];\r\n\r\n        var eventTitle = prompt(\"Please enter a name for your event: \");\r\n\r\n        switch (eventTitle) {\r\n            case \"\":\r\n                alert(\"Event name cannot be empty.\");\r\n                break;\r\n            case null:\r\n                alert(\"Changed your mind? You can add one later!\");\r\n                break;\r\n            default:\r\n                var newEvent = {\r\n                    title: eventTitle,\r\n                    date: currentSelectedDate,\r\n                    dynamic: true\r\n                };\r\n\r\n                newEvents.push(newEvent);\r\n\r\n                for (var i = 0; i < newEvents.length; i++) {\r\n                    monthEvents.push(newEvents[i]);\r\n                }\r\n\r\n                this.setState({\r\n                    selectedMonthEvents: monthEvents\r\n                });\r\n                break;\r\n        }\r\n    }\r\n\r\n    addEvent() {\r\n        const currentSelectedDate = this.state.selectedDay;\r\n        let isAfterDay = moment().startOf(\"day\").subtract(1, \"d\");\r\n\r\n        if (currentSelectedDate.isAfter(isAfterDay)) {\r\n            this.handleAdd();\r\n        } else {\r\n            if (confirm(\"Are you sure you want to add an event in the past?\")) {\r\n                this.handleAdd();\r\n            } else {\r\n            } // end confirm past\r\n        } //end is in the past\r\n    }\r\n\r\n    removeEvent(i) {\r\n        const monthEvents = this.state.selectedMonthEvents.slice();\r\n        const currentSelectedDate = this.state.selectedDay;\r\n\r\n        if (confirm(\"Are you sure you want to remove this event?\")) {\r\n            let index = i;\r\n\r\n            if (index != -1) {\r\n                monthEvents.splice(index, 1);\r\n            } else {\r\n                alert(\"No events to remove on this day!\");\r\n            }\r\n\r\n            this.setState({\r\n                selectedMonthEvents: monthEvents\r\n            });\r\n        }\r\n    }\r\n\r\n    initialiseEvents() {\r\n        const monthEvents = this.state.selectedMonthEvents;\r\n\r\n        let allEvents = [];\r\n\r\n        var event1 = {\r\n            title:\r\n                \"Press the Add button and enter a name for your event. P.S you can delete me by pressing me!\",\r\n            date: moment(),\r\n            dynamic: false\r\n        };\r\n\r\n        var event2 = {\r\n            title: \"Event 2 - Meeting\",\r\n            date: moment().startOf(\"day\").subtract(2, \"d\").add(2, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event3 = {\r\n            title: \"Event 3 - Cinema\",\r\n            date: moment().startOf(\"day\").subtract(7, \"d\").add(18, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event4 = {\r\n            title: \"Event 4 - Theater\",\r\n            date: moment().startOf(\"day\").subtract(16, \"d\").add(20, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event5 = {\r\n            title: \"Event 5 - Drinks\",\r\n            date: moment().startOf(\"day\").subtract(2, \"d\").add(12, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event6 = {\r\n            title: \"Event 6 - Diving\",\r\n            date: moment().startOf(\"day\").subtract(2, \"d\").add(13, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event7 = {\r\n            title: \"Event 7 - Tennis\",\r\n            date: moment().startOf(\"day\").subtract(2, \"d\").add(14, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event8 = {\r\n            title: \"Event 8 - Swimmming\",\r\n            date: moment().startOf(\"day\").subtract(2, \"d\").add(17, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event9 = {\r\n            title: \"Event 9 - Chilling\",\r\n            date: moment().startOf(\"day\").subtract(2, \"d\").add(16, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        var event10 = {\r\n            title:\r\n                \"Hello World\",\r\n            date: moment().startOf(\"day\").add(5, \"h\"),\r\n            dynamic: false\r\n        };\r\n\r\n        allEvents.push(event1);\r\n        allEvents.push(event2);\r\n        allEvents.push(event3);\r\n        allEvents.push(event4);\r\n        allEvents.push(event5);\r\n        allEvents.push(event6);\r\n        allEvents.push(event7);\r\n        allEvents.push(event8);\r\n        allEvents.push(event9);\r\n        allEvents.push(event10);\r\n\r\n        for (var i = 0; i < allEvents.length; i++) {\r\n            monthEvents.push(allEvents[i]);\r\n        }\r\n\r\n        this.setState({\r\n            selectedMonthEvents: monthEvents\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const currentMonthView = this.state.selectedMonth;\r\n        const currentSelectedDay = this.state.selectedDay;\r\n        const showEvents = this.state.showEvents;\r\n\r\n        if (showEvents) {\r\n            return (\r\n                <section className=\"main-calendar\">\r\n                    <header className=\"calendar-header\">\r\n                        <div className=\"row title-header\">\r\n                            {this.renderDayLabel()}\r\n                        </div>\r\n                        <div className=\"row button-container\">\r\n                            <i\r\n                                className=\"box arrow fa fa-angle-left\"\r\n                                onClick={this.showCalendar}\r\n                            />\r\n                            <i\r\n                                className=\"box event-button fa fa-plus-square\"\r\n                                onClick={this.addEvent}\r\n                            />\r\n                        </div>\r\n                    </header>\r\n                    <Events\r\n                        selectedMonth={this.state.selectedMonth}\r\n                        selectedDay={this.state.selectedDay}\r\n                        selectedMonthEvents={this.state.selectedMonthEvents}\r\n                        removeEvent={i => this.removeEvent(i)}\r\n                    />\r\n                </section>\r\n            );\r\n        } else {\r\n            return (\r\n                <section className=\"main-calendar\">\r\n                    <header className=\"calendar-header\">\r\n                        <div className=\"row title-header\">\r\n                            <i\r\n                                className=\"box arrow fa fa-angle-left\"\r\n                                onClick={this.previous}\r\n                            />\r\n                            <div className=\"box header-text\">\r\n                                {this.renderTodayLabel()}\r\n                                {this.renderMonthLabel()}\r\n                            </div>\r\n                            <i className=\"box arrow fa fa-angle-right\" onClick={this.next} />\r\n                        </div>\r\n                        <DayNames />\r\n                    </header>\r\n                    <div className=\"days-container\">\r\n                        {this.renderWeeks()}\r\n                    </div>\r\n                </section>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nclass Events extends React.Component {\r\n    render() {\r\n        const currentMonthView = this.props.selectedMonth;\r\n        const currentSelectedDay = this.props.selectedDay;\r\n        const monthEvents = this.props.selectedMonthEvents;\r\n        const removeEvent = this.props.removeEvent;\r\n\r\n        const monthEventsRendered = monthEvents.map((event, i) => {\r\n            return (\r\n                <div\r\n                    key={event.title}\r\n                    className=\"event-container\"\r\n                    onClick={() => removeEvent(i)}\r\n                >\r\n                    <ReactCSSTransitionGroup\r\n                        component=\"div\"\r\n                        className=\"animated-time\"\r\n                        transitionName=\"time\"\r\n                        transitionAppear={true}\r\n                        transitionAppearTimeout={500}\r\n                        transitionEnterTimeout={500}\r\n                        transitionLeaveTimeout={500}\r\n                    >\r\n                        <div className=\"event-time event-attribute\">\r\n                            {event.date.format(\"HH:mm\")}\r\n                        </div>\r\n                    </ReactCSSTransitionGroup>\r\n                    <ReactCSSTransitionGroup\r\n                        component=\"div\"\r\n                        className=\"animated-title\"\r\n                        transitionName=\"title\"\r\n                        transitionAppear={true}\r\n                        transitionAppearTimeout={500}\r\n                        transitionEnterTimeout={500}\r\n                        transitionLeaveTimeout={500}\r\n                    >\r\n                        <div className=\"event-title event-attribute\">{event.title}</div>\r\n                    </ReactCSSTransitionGroup>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        const dayEventsRendered = [];\r\n\r\n        for (var i = 0; i < monthEventsRendered.length; i++) {\r\n            if (monthEvents[i].date.isSame(currentSelectedDay, \"day\")) {\r\n                dayEventsRendered.push(monthEventsRendered[i]);\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className=\"day-events\">\r\n                {dayEventsRendered}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass DayNames extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"row days-header\">\r\n                <span className=\"box day-name\">Mon</span>\r\n                <span className=\"box day-name\">Tue</span>\r\n                <span className=\"box day-name\">Wed</span>\r\n                <span className=\"box day-name\">Thu</span>\r\n                <span className=\"box day-name\">Fri</span>\r\n                <span className=\"box day-name\">Sat</span>\r\n                <span className=\"box day-name\">Sun</span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Week extends React.Component {\r\n    render() {\r\n        let days = [];\r\n        let date = this.props.previousCurrentNextView;\r\n        let currentMonthView = this.props.currentMonthView;\r\n        let selected = this.props.selected;\r\n        let select = this.props.select;\r\n        let monthEvents = this.props.monthEvents;\r\n\r\n        for (var i = 0; i < 7; i++) {\r\n            var dayHasEvents = false;\r\n\r\n            for (var j = 0; j < monthEvents.length; j++) {\r\n                if (monthEvents[j].date.isSame(date, \"day\")) {\r\n                    dayHasEvents = true;\r\n                }\r\n            }\r\n\r\n            let day = {\r\n                name: date.format(\"dd\").substring(0, 1),\r\n                number: date.date(),\r\n                isCurrentMonth: date.month() === currentMonthView.month(),\r\n                isToday: date.isSame(new Date(), \"day\"),\r\n                date: date,\r\n                hasEvents: dayHasEvents\r\n            };\r\n\r\n            days.push(<Day day={day} selected={selected} select={select} />);\r\n            date = date.clone();\r\n            date.add(1, \"d\");\r\n        }\r\n        return (\r\n            <div className=\"row week\">\r\n                {days}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Day extends React.Component {\r\n    render() {\r\n        let day = this.props.day;\r\n        let selected = this.props.selected;\r\n        let select = this.props.select;\r\n\r\n        return (\r\n            <div\r\n                className={\r\n                    \"day\" +\r\n                    (day.isToday ? \" today\" : \"\") +\r\n                    (day.isCurrentMonth ? \"\" : \" different-month\") +\r\n                    (day.date.isSame(selected) ? \" selected\" : \"\") +\r\n                    (day.hasEvents ? \" has-events\" : \"\")\r\n                }\r\n                onClick={() => select(day)}\r\n            >\r\n                <div className=\"day-number\">{day.number}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nReactDOM.render(<Calendar />, document.getElementById(\"calendar-content\"));\r\n"]},"metadata":{},"sourceType":"module"}